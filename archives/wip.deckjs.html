<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
<meta content="text/html; charset=" http-equiv="Content-Type" />
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
<meta content="Asciidoctor 1.5.8" name="generator" />
<meta content="Jean-Michel Bruel" name="author" />
<title>CPOA : premiers patrons et premiers retours</title>
<link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet" />
<style>
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 1.2em; height: 1.2em; font-size: 0.9em; font-weight: bold; line-height: 1.2; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -0.1em; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.colist table td:first-of-type { padding-right: 0.25em; }
</style>
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
<link href="deck.js/core/deck.core.css" rel="stylesheet" />
<link href="deck.js/extensions/scale/deck.scale.css" media="screen" rel="stylesheet" />
<link href="deck.js/extensions/status/deck.status.css" media="screen" rel="stylesheet" />
<link href="deck.js/themes/style/swiss.css" media="screen" rel="stylesheet" />
<link href="deck.js/themes/transition/fade.css" media="screen" rel="stylesheet" />
<link href="deck.js/core/print.css" media="print" rel="stylesheet" />
<script src="deck.js/modernizr.custom.js"></script>
</head>
<body class="article">
<div class="deck-container">
<section class="slide" id="title-slide">
<h1>CPOA : premiers <strong>patrons</strong> et premiers retours</h1>
<span id="author">Jean-Michel Bruel</span>
<br />
<span id="email"><a href="mailto:jbruel@gmail.com">jbruel@gmail.com</a></span>
<br />
<span id="revnumber">version 1.7,</span>
<span id="revdate">2018-11-29 (started on 2015-10-05)</span>
</section>
<section class="slide topic" id="_suivre_ces_slides_sur_internet">
<h2>Suivre ces slides sur Internet&#8230;&#8203;</h2>
<div class="imageblock">
<div class="content">
<a class="image" href="qrcode.png">
<img alt="http://bit.ly/jmb-cpoa" src="images/qrcode.png" width="40%" />
</a>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>http://bit.ly/jmb-cpoa&#x000A;http://iut-blagnac.github.io/cpoa/</pre>
</div>
</div>
</section>
<section class="slide topic" id="_plan">
<h2>Plan</h2>
<div class="ulist">
<ul>
<li class="slide">Retour sur Factory Method</li>
<li class="slide">Abstract Factory</li>
<li class="slide">Retour sur SOLID</li>
<li class="slide">Exemple complet (cours de B. Meyer)</li>
<li class="slide">Quizz</li>
</ul>
</div>
</section>
<section class="slide" id="Fabrique">
<h2>Le patron Fabrique</h2>

</section>
<section class="slide" id="_principes_de_conception">
<h2>Principes de conception</h2>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note"></i>
</td>
<td class="content">
<div class="title">Design pattern : <strong>Fabrique</strong> (<em>Factory</em>)</div>
<div class="paragraph"><p><strong>Fabrique</strong> (simple) définit une interface pour la création d&#8217;un objet, mais en laissant
à des sous-classes le choix des classes à instancier (voir aussi <a href="#FabriqueAbstraite">Fabrique abstraite</a>).</p></div>
<div class="imageblock">
<div class="content">
<img alt="fabrique" src="images/fabrique.png" />
</div>
</div>
</td>
</tr>
</table>
</div>
</section>
<section class="slide" id="_premier_exemple_dutilisation_de_patron">
<h2>Premier exemple d&#8217;utilisation de patron</h2>
<div class="imageblock">
<div class="content">
<a class="image" href="images/pizzeria1.png">
<img alt="pizzeria0" src="images/pizzeria0.png" />
</a>
</div>
</div>
</section>
<section class="slide" id="_utilisation_de_patron_suite">
<h2>Utilisation de patron (suite)</h2>
<div class="imageblock">
<div class="content">
<a class="image" href="images/pizzeria.png">
<img alt="pizzeria b1" src="images/pizzeria-b1.png" />
</a>
</div>
</div>
</section>
<section class="slide" id="_autre_exemple_concret">
<h2>Autre exemple concret</h2>
<div class="listingblock">
<div class="title">Factory en PHP (source <a href="http://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns">ici</a>)</div>
<div class="content">
<pre class="pygments highlight"><code class="php language-php"><span></span><span class="tok-o">&lt;?</span><span class="tok-nx">php</span>&#x000A;<span class="tok-k">class</span> <span class="tok-nc">DBFactory</span>&#x000A;<span class="tok-p">{</span>&#x000A;  <span class="tok-k">public</span> <span class="tok-k">static</span> <span class="tok-k">function</span> <span class="tok-nf">load</span><span class="tok-p">(</span><span class="tok-nv">$sgbdr</span><span class="tok-p">)</span>&#x000A;  <span class="tok-p">{</span>&#x000A;    <span class="tok-nv">$classe</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;SGBDR_&#39;</span> <span class="tok-o">.</span> <span class="tok-nv">$sgbdr</span><span class="tok-p">;</span>&#x000A;&#x000A;    <span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-nb">file_exists</span><span class="tok-p">(</span><span class="tok-nv">$chemin</span> <span class="tok-o">=</span> <span class="tok-nv">$classe</span> <span class="tok-o">.</span> <span class="tok-s1">&#39;.class.php&#39;</span><span class="tok-p">))</span>&#x000A;    <span class="tok-p">{</span>&#x000A;      <span class="tok-k">require</span> <span class="tok-nv">$chemin</span><span class="tok-p">;</span>&#x000A;      <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-nv">$classe</span><span class="tok-p">;</span>&#x000A;    <span class="tok-p">}</span>&#x000A;    <span class="tok-k">else</span>&#x000A;    <span class="tok-p">{</span>&#x000A;      <span class="tok-k">throw</span> <span class="tok-k">new</span> <span class="tok-nx">RuntimeException</span><span class="tok-p">(</span><span class="tok-s1">&#39;La classe &lt;strong&gt;&#39;</span> <span class="tok-o">.</span> <span class="tok-nv">$classe</span> <span class="tok-o">.</span> <span class="tok-s1">&#39;&lt;/strong&gt; n\&#39;a pu être trouvée !&#39;</span><span class="tok-p">);</span>&#x000A;    <span class="tok-p">}</span>&#x000A;  <span class="tok-p">}</span>&#x000A;<span class="tok-p">}</span>&#x000A;<span class="tok-cp">?&gt;</span><span class="tok-x"></span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_autre_exemple_concret_suite">
<h2>Autre exemple concret (suite)</h2>
<div class="listingblock">
<div class="title">Factory en PHP (source <a href="http://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns">ici</a>)</div>
<div class="content">
<pre class="pygments highlight"><code class="php language-php"><span></span><span class="tok-o">&lt;?</span><span class="tok-nx">php</span>&#x000A;<span class="tok-k">try</span>&#x000A;<span class="tok-p">{</span>&#x000A;  <span class="tok-nv">$mysql</span> <span class="tok-o">=</span> <span class="tok-nx">DBFactory</span><span class="tok-o">::</span><span class="tok-na">load</span><span class="tok-p">(</span><span class="tok-s1">&#39;MySQL&#39;</span><span class="tok-p">);</span>&#x000A;<span class="tok-p">}</span>&#x000A;<span class="tok-k">catch</span> <span class="tok-p">(</span><span class="tok-nx">RuntimeException</span> <span class="tok-nv">$e</span><span class="tok-p">)</span>&#x000A;<span class="tok-p">{</span>&#x000A;  <span class="tok-k">echo</span> <span class="tok-nv">$e</span><span class="tok-o">-&gt;</span><span class="tok-na">getMessage</span><span class="tok-p">();</span>&#x000A;<span class="tok-p">}</span>&#x000A;<span class="tok-cp">?&gt;</span><span class="tok-x"></span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_autre_exemple_concret_aa">
<h2>Autre exemple concret (AA)</h2>
<div class="listingblock">
<div class="title">Factory en java (source : votre module AA!)</div>
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">XmlExprParser</span> <span class="tok-o">{</span>&#x000A;&#x000A;    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-n">Expression</span> <span class="tok-nf">fromFile</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">file</span><span class="tok-o">)</span> <span class="tok-kd">throws</span> <span class="tok-o">...</span> <span class="tok-o">{</span>&#x000A;        <span class="tok-n">SAXParserFactory</span> <span class="tok-n">spf</span> <span class="tok-o">=</span> <span class="tok-n">SAXParserFactory</span><span class="tok-o">.</span><span class="tok-na">newInstance</span><span class="tok-o">();</span>&#x000A;        <span class="tok-n">spf</span><span class="tok-o">.</span><span class="tok-na">setValidating</span><span class="tok-o">(</span><span class="tok-kc">true</span><span class="tok-o">);</span>&#x000A;        <span class="tok-n">SAXParser</span> <span class="tok-n">sp</span> <span class="tok-o">=</span> <span class="tok-n">spf</span><span class="tok-o">.</span><span class="tok-na">newSAXParser</span><span class="tok-o">();</span>&#x000A;        <span class="tok-n">ExprHandler</span> <span class="tok-n">ep</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ExprHandler</span><span class="tok-o">();</span>&#x000A;        <span class="tok-n">sp</span><span class="tok-o">.</span><span class="tok-na">parse</span><span class="tok-o">(</span><span class="tok-n">file</span><span class="tok-o">,</span> <span class="tok-n">ep</span><span class="tok-o">);</span>&#x000A;        <span class="tok-k">return</span> <span class="tok-n">ep</span><span class="tok-o">.</span><span class="tok-na">getResult</span><span class="tok-o">();</span>&#x000A;    <span class="tok-o">}</span>&#x000A;&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_un_autre_exemple_concret">
<h2>Un autre exemple concret</h2>
<div class="listingblock">
<div class="title">Factory en Java (source <a href="https://en.wikipedia.org/wiki/Factory_method_pattern">ici</a>)</div>
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-n">MazeGame</span> <span class="tok-n">ordinaryGame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">OrdinaryMazeGame</span><span class="tok-o">();</span>&#x000A;<span class="tok-n">MazeGame</span> <span class="tok-n">magicGame</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">MagicMazeGame</span><span class="tok-o">();</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_un_autre_exemple_concret_suite">
<h2>Un autre exemple concret (suite)</h2>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">MazeGame</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-kd">private</span> <span class="tok-kd">final</span> <span class="tok-n">List</span><span class="tok-o">&lt;</span><span class="tok-n">Room</span><span class="tok-o">&gt;</span> <span class="tok-n">rooms</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">&lt;&gt;();</span>&#x000A;&#x000A;    <span class="tok-kd">public</span> <span class="tok-nf">MazeGame</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;        <span class="tok-n">Room</span> <span class="tok-n">room1</span> <span class="tok-o">=</span> <span class="tok-n">makeRoom</span><span class="tok-o">();</span>&#x000A;        <span class="tok-n">Room</span> <span class="tok-n">room2</span> <span class="tok-o">=</span> <span class="tok-n">makeRoom</span><span class="tok-o">();</span>&#x000A;        <span class="tok-n">room1</span><span class="tok-o">.</span><span class="tok-na">connect</span><span class="tok-o">(</span><span class="tok-n">room2</span><span class="tok-o">);</span>&#x000A;        <span class="tok-n">rooms</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">room1</span><span class="tok-o">);</span>&#x000A;        <span class="tok-n">rooms</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">room2</span><span class="tok-o">);</span>&#x000A;    <span class="tok-o">}</span>&#x000A;&#x000A;    <span class="tok-kd">abstract</span> <span class="tok-kd">protected</span> <span class="tok-n">Room</span> <span class="tok-nf">makeRoom</span><span class="tok-o">();</span>&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_un_autre_exemple_concret_suite_2">
<h2>Un autre exemple concret (suite)</h2>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">abstract</span> <span class="tok-kd">class</span> <span class="tok-nc">Room</span> <span class="tok-o">{</span>&#x000A;   <span class="tok-kd">abstract</span> <span class="tok-kt">void</span> <span class="tok-nf">connect</span><span class="tok-o">(</span><span class="tok-n">Room</span> <span class="tok-n">room</span><span class="tok-o">);</span>&#x000A;<span class="tok-o">}</span>&#x000A;&#x000A;<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">MagicRoom</span> <span class="tok-kd">extends</span> <span class="tok-n">Room</span> <span class="tok-o">{</span>&#x000A;   <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">connect</span><span class="tok-o">(</span><span class="tok-n">Room</span> <span class="tok-n">room</span><span class="tok-o">)</span> <span class="tok-o">{}</span>&#x000A;<span class="tok-o">}</span>&#x000A;&#x000A;<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">OrdinaryRoom</span> <span class="tok-kd">extends</span> <span class="tok-n">Room</span> <span class="tok-o">{</span>&#x000A;   <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">connect</span><span class="tok-o">(</span><span class="tok-n">Room</span> <span class="tok-n">room</span><span class="tok-o">)</span> <span class="tok-o">{}</span>&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_un_autre_exemple_concret_suite_3">
<h2>Un autre exemple concret (suite)</h2>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">MagicMazeGame</span> <span class="tok-kd">extends</span> <span class="tok-n">MazeGame</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-nd">@Override</span>&#x000A;    <span class="tok-kd">protected</span> <span class="tok-n">Room</span> <span class="tok-nf">makeRoom</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;        <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">MagicRoom</span><span class="tok-o">();</span>&#x000A;    <span class="tok-o">}</span>&#x000A;<span class="tok-o">}</span>&#x000A;&#x000A;<span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">OrdinaryMazeGame</span> <span class="tok-kd">extends</span> <span class="tok-n">MazeGame</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-nd">@Override</span>&#x000A;    <span class="tok-kd">protected</span> <span class="tok-n">Room</span> <span class="tok-nf">makeRoom</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;        <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">OrdinaryRoom</span><span class="tok-o">();</span>&#x000A;    <span class="tok-o">}</span>&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_mais_cest_pas_fini">
<h2>Mais c&#8217;est pas fini!</h2>
<div class="paragraph"><p>Reprenons nos pizzas vues en <a href="TD3.html">TD</a></p></div>
<div class="imageblock">
<div class="content">
<img alt="pizzeria dep b1" src="images/pizzeria-dep-b1.png" />
</div>
</div>
</section>
<section class="slide" id="_inversion_des_dépendances">
<h2>Inversion des dépendances</h2>
<div class="imageblock">
<div class="content">
<img alt="pizzeria b1" src="images/pizzeria-b1.png" />
</div>
</div>
</section>
<section class="slide" id="_inversion_des_dépendances_2">
<h2>Inversion des dépendances</h2>
<div class="ulist">
<ul>
<li class="slide">Aucune variable ne doit contenir une référence à une classe concrète.</li>
<li class="slide">Aucune classe ne doit dériver d&#8217;une classe concrète.</li>
<li class="slide">Aucune classe ne doit redéfinir une méthode implémentée dans une classe de base.</li>
</ul>
</div>
</section>
<section class="slide" id="_patron_fabrique">
<h2>Patron Fabrique</h2>
<div class="imageblock">
<div class="content">
<img alt="Pizzeria sec" src="images/Pizzeria-sec.png" />
</div>
</div>
</section>
<section class="slide" id="_patron_fabrique_2">
<h2>Patron Fabrique</h2>
<div class="imageblock">
<div class="content">
<img alt="Pizzeria sec1" src="images/Pizzeria-sec1.png" />
</div>
<div class="title">Figure 1. Problème de la dépendance des ingrédients</div>
</div>
</section>
<section class="slide" id="_patron_fabrique_pour_une_famille_de_produits">
<h2>Patron Fabrique pour une famille de produits</h2>
<div class="imageblock">
<div class="content">
<img alt="ingredients" src="images/ingredients.png" />
</div>
</div>
</section>
<section class="slide" id="_fabrique_dingrédients">
<h2>Fabrique d&#8217;ingrédients</h2>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">FabriqueIngredientsPizza</span> <span class="tok-o">{</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Pate</span> <span class="tok-nf">creerPate</span> <span class="tok-o">();</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Sauce</span> <span class="tok-nf">creerSauce</span><span class="tok-o">();</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Fromage</span> <span class="tok-nf">creerFromage</span><span class="tok-o">();</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Legumes</span><span class="tok-o">[]</span> <span class="tok-nf">creerLegumes</span><span class="tok-o">();</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Poivrons</span> <span class="tok-nf">creerPoivrons</span><span class="tok-o">();</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Moules</span> <span class="tok-nf">creerMoules</span><span class="tok-o">();</span>&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_fabrique_dingrédients_suite">
<h2>Fabrique d&#8217;ingrédients (suite)</h2>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">FabriqueIngredientsPizzaBrest</span> <span class="tok-kd">implements</span> <span class="tok-n">FabriqueIngredientsPizza</span> <span class="tok-o">{</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Pate</span> <span class="tok-nf">creerPate</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">PateFine</span><span class="tok-o">();</span>&#x000A;  <span class="tok-o">}</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Sauce</span> <span class="tok-nf">creerSauce</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">SauceMarinara</span><span class="tok-o">();</span>&#x000A;  <span class="tok-o">}</span>&#x000A;  <span class="tok-o">...</span>&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">FabriqueIngredientsPizzaStrasbourg</span> <span class="tok-kd">implements</span> <span class="tok-n">FabriqueIngredientsPizza</span> <span class="tok-o">{</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Pate</span> <span class="tok-nf">creerPate</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">PateEpaisse</span><span class="tok-o">();</span>&#x000A;  <span class="tok-o">}</span>&#x000A;  <span class="tok-kd">public</span> <span class="tok-n">Sauce</span> <span class="tok-nf">creerSauce</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-k">return</span> <span class="tok-k">new</span> <span class="tok-n">SauceTomateCerise</span><span class="tok-o">();</span>&#x000A;  <span class="tok-o">}</span>&#x000A;  <span class="tok-o">...</span>&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_fabrique_dingrédients_utilisation">
<h2>Fabrique d&#8217;ingrédients (utilisation)</h2>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code class="java language-java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">PizzaFromage</span> <span class="tok-kd">extends</span> <span class="tok-n">Pizza</span> <span class="tok-o">{</span>&#x000A;  <span class="tok-n">FabriqueIngredientsPizza</span> <span class="tok-n">fabriqueIngredients</span><span class="tok-o">;</span>&#x000A;&#x000A;  <span class="tok-kd">public</span> <span class="tok-nf">PizzaFromage</span><span class="tok-o">(</span><span class="tok-n">FabriqueIngredientsPizza</span> <span class="tok-n">fabriqueIngredients</span><span class="tok-o">)</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">fabriqueIngredients</span> <span class="tok-o">=</span> <span class="tok-n">fabriqueIngredients</span><span class="tok-o">;</span>&#x000A;  <span class="tok-o">}</span>&#x000A;  <span class="tok-kt">void</span> <span class="tok-nf">preparer</span><span class="tok-o">()</span> <span class="tok-o">{</span>&#x000A;    <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Préparation de &quot;</span> <span class="tok-o">+</span> <span class="tok-n">nom</span><span class="tok-o">);</span>&#x000A;    <span class="tok-n">pate</span> <span class="tok-o">=</span> <span class="tok-n">fabriqueIngredients</span><span class="tok-o">.</span><span class="tok-na">creerPate</span><span class="tok-o">();</span>&#x000A;    <span class="tok-n">sauce</span> <span class="tok-o">=</span> <span class="tok-n">fabriqueIngredients</span><span class="tok-o">.</span><span class="tok-na">creerSauce</span><span class="tok-o">();</span>&#x000A;    <span class="tok-n">fromage</span> <span class="tok-o">=</span> <span class="tok-n">fabriqueIngredients</span><span class="tok-o">.</span><span class="tok-na">creerFromage</span><span class="tok-o">();</span>&#x000A;  <span class="tok-o">}</span>&#x000A;<span class="tok-o">}</span></code></pre>
</div>
</div>
</section>
<section class="slide" id="_fabrique_abstraite">
<h2>Fabrique abstraite</h2>
<div class="paragraph"><p>Nous sommes arrivé à une version du patron Fabrique appelée <a href="#FabriqueAbstraite">Fabrique Abstraite</a> :</p></div>
<div class="paragraph"><p><strong>Fabrique</strong> (abstraite) fournit une interface pour la création de familles
d&#8217;objets apparentés ou interdépendants, sans qu&#8217;il soit nécessaire de spécifier
leurs classes concrètes (voir aussi <a href="#Fabrique">Fabrique</a>).</p></div>
<div class="imageblock">
<div class="content">
<img alt="fabrique abstraite" src="images/fabrique-abstraite.svg" />
</div>
</div>
</section>
<section class="slide" id="_solid_et_patrons">
<h2>SOLID et patrons</h2>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning"></i>
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph"><p>Lesquels des 5 principes SOLID s&#8217;appliquent bien à <em>Strategy</em> ?</p></div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all" style="width:100%">
<colgroup>
<col style="width:20%" />
<col style="width:20%" />
<col style="width:20%" />
<col style="width:20%" />
<col style="width:20%" />
</colgroup>
<tbody>
<tr>
  <td class="tableblock halign-left valign-top"><div><div class="paragraph"><p><span class="image"><img alt="solid s" src="images/solid-s.jpg" /></span></p></div></div></td>
  <td class="tableblock halign-left valign-top"><div><div class="paragraph"><p><span class="image"><img alt="solid o" src="images/solid-o.jpg" /></span></p></div></div></td>
  <td class="tableblock halign-left valign-top"><div><div class="paragraph"><p><span class="image"><img alt="solid l" src="images/solid-l.jpg" /></span></p></div></div></td>
  <td class="tableblock halign-left valign-top"><div><div class="paragraph"><p><span class="image"><img alt="solid i" src="images/solid-i.jpg" /></span></p></div></div></td>
  <td class="tableblock halign-left valign-top"><div><div class="paragraph"><p><span class="image"><img alt="solid d" src="images/solid-d.jpg" /></span></p></div></div></td>
</tr>
</tbody>
</table>
</section>
<section class="slide" id="_solid_et_patrons_éléments_de_réponses">
<h2>SOLID et patrons (éléments de réponses)</h2>
<div class="paragraph"><p>Quelques éléments de réponses :</p></div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em><strong>S</strong>ingle Responsibility Principle</em></dt>
<dd>
<p>Bof</p>
</dd>
<dt class="hdlist1"><em><strong>O</strong>pen-Closed Principle</em></dt>
<dd>
<p>&#8658; <strong>Oui</strong> : extension (du comportement) sans toucher au code!</p>
</dd>
<dt class="hdlist1"><em><strong>L</strong>iskov Substitution Principle</em></dt>
<dd>
<p>Non</p>
</dd>
<dt class="hdlist1"><em><strong>I</strong>nterface Segregation Principle</em></dt>
<dd>
<p>Oui, mais pas spécifiquement</p>
</dd>
<dt class="hdlist1"><em><strong>D</strong>ependency Inversion Principle</em></dt>
<dd>
<p>&#8658; <strong>Oui</strong> : les algos dépendent des mêmes abstractions que les données (les interfaces)</p>
</dd>
</dl>
</div>
</section>
<p aria-role="status" class="deck-status">
<span class="deck-status-current"></span>
/
<span class="deck-status-total"></span>
</p>
</div>
<script src="deck.js/jquery.min.js"></script>
<script src="deck.js/core/deck.core.js"></script>
<script src="deck.js/extensions/scale/deck.scale.js"></script>
<script src="deck.js/extensions/status/deck.status.js"></script>
<script type="text/javascript">
  //<![CDATA[
    (function($, deck, undefined) {
      $.deck.defaults.keys['previous'] = [8, 33, 37, 39];
      $.deck.defaults.keys['next'] = [13, 32, 34, 39];
    
      $.extend(true, $[deck].defaults, {
          countNested: false
      });
    
      $.deck('.slide');
    })(jQuery, 'deck');
  //]]>
</script>
<style type="text/css">
  /*<![CDATA[*/
    .slide.canvas-image {
    -moz-background-size: cover;
    -webkit-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    display: -moz-box;
    display: -webkit-box;
    display: -ms-box;
    display: box;
    -moz-box-orient: vertical;
    -webkit-box-orient: vertical;
    -ms-box-orient: vertical;
    box-orient: vertical;
    -moz-box-align: start;
    -webkit-box-align: start;
    -ms-box-align: start;
    box-align: start;
    -moz-box-pack: start;
    -webkit-box-pack: start;
    -ms-box-pack: start;
    box-pack: start;}
    
    .bottom-left {
      left: 1%;
      bottom: 20%; }
    
    .top-left {
      left: 1%;
      top: 20%; }
    
    .bottom-right {
      right: 1%;
      bottom: 20%; }
    
    .top-right {
      right: 1%;
      top: 20%; }
    
    .center-up {
      right: 50%;
      top: 1%;
    }
    
    .center-down {
      right: 50%;
      bottom: 1%;
    }
    .canvas-image .canvas-caption p {
      text-align: center;
      padding-top: 0;
      padding: 0;
      -moz-transform: none;
      -webkit-transform: none;
      -o-transform: none;
      -ms-transform: none;
      transform: none;
      display: inline;
      position: absolute;
      background-color: rgba(0, 0, 0, 0.7);
      font-weight: bold;
      font-size: 58px;
      -webkit-box-shadow: 2px 2px 2px #000;
      -moz-box-shadow: 2px 2px 2px #000;
      box-shadow: 2px 2px 2px #000;
      padding: 1rem;
      color: white; }
    kbd.keyseq { color: #555555; }
    kbd:not(.keyseq) {
      display: inline-block;
      color: #222222;
      font-size: 0.7em;
      line-height: 1.4;
      background-color: #F7F7F7;
      border: 1px solid #ccc;
      -webkit-border-radius: 3px;
      border-radius: 3px;
      -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
      margin: -0.15em 0.15em 0 0.15em;
      padding: 0.2em 0.6em;
      vertical-align: middle;
      white-space: nowrap;
    }
    kbd kbd:first-child { margin-left: 0; }
    kbd kbd:last-child { margin-right: 0; }
  /*]]>*/
</style>
</body>
</html>