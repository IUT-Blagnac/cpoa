<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.1">
<meta name="author" content="Dut/Info-S3/M3105">
<meta name="copyright" content="{date=2014-11-17}, IUT Blagnac *** Dut/Info-S3/M3105 *** Powered by AsciiDoc and W3C Slidy &amp;#169;">
<title>CPOA - Sujet TP 1</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./pygments-default.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>CPOA - Sujet TP 1</h1>
<div class="details">
<span id="author" class="author">Dut/Info-S3/M3105</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_rappel_sur_le_patron_stratégie">1. Rappel sur le patron Stratégie</a></li>
<li><a href="#_déroulement_du_tp">2. Déroulement du TP</a></li>
<li><a href="#_amélioration">3. Amélioration</a></li>
<li><a href="#_utilisation_du_comportement_dynamique">4. Utilisation du comportement dynamique</a></li>
<li><a href="#setArme">Exemple d&#8217;organisation en pacquetages</a></li>
<li><a href="#_about">About&#8230;&#8203;</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table id="cartouche" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 9%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreReq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Je sais programmer en <a href="https://www.java.com/fr/">Java</a>.
2. J&#8217;ai conscience qu&#8217;il faut réfléchir avant de se lancer dans le codage.
3. Je maîtrise les concepts objet de base (héritage, polymorphisme, &#8230;&#8203;).
4. J&#8217;ai réalisé le TD <code>SuperCanard</code>!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjTD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comprendre ce qu&#8217;est une <strong>conception</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Durée</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>2</strong> TP de 1,5h (sur 2 semaines).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_rappel_sur_le_patron_stratégie"><a class="link" href="#_rappel_sur_le_patron_stratégie">1. Rappel sur le patron Stratégie</a></h2>
<div class="sectionbody">
<div id="strategy" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="images/icons/pattern.jpeg" alt="Note">
</td>
<td class="content">
<div class="title">Design pattern : <strong>Stratégie</strong> (<em>Strategy</em>)</div>
<div class="paragraph">
<p><strong>Stratégie</strong> définit une famille d&#8217;algorithmes, encapsule chacun d&#8217;eux et les
rend interchangeables.
Il permet à l&#8217;algorithme de varier indépendamment des clients qui l&#8217;utilisent.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/strategy.png" alt="strategy">
</div>
<div class="title">Figure 1. Modèle UML du patron <em>Strategy</em></div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_déroulement_du_tp"><a class="link" href="#_déroulement_du_tp">2. Déroulement du TP</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note">
</td>
<td class="content">
<div class="paragraph">
<p>Les TPs sont prévus se dérouler sur <a href="http://www.eclipse.org">eclipse</a>, mais vous êtes libre
d&#8217;utiliser l&#8217;éditeur de votre choix.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Téléchargez le code de l&#8217;appication <code>SuperCanard</code> existante <a href="TP1.zip">ici</a>.</p>
</li>
<li>
<p>Lancez l&#8217;application elle-même pour vérifier que tout fonctionne.</p>
</li>
<li>
<p>Ecrivez un jeu de tests <code>JUnit</code> pour vérifier de manière automatique que tout fonctionne.</p>
</li>
<li>
<p>Implémentez le patron <em>Strategy</em> comme préparé en TD, en implémentant l&#8217;organisation en
paquetage vue en cours (cf. <a href="#setArme">fin de TP</a>).</p>
</li>
<li>
<p>Rejouez vos tests pour vérifier que tout fonctionne toujours.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_amélioration"><a class="link" href="#_amélioration">3. Amélioration</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>On souhaite maintenant obliger les concepteurs de tout nouveau <code>Canard</code> à
implémenter les deux comportements.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Proposez une solution à ce problème</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip">
</td>
<td class="content">
il est tout à fait légal de créer un constructeur pour une classe abstraite&#8230;&#8203;
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Implémentez cette solution en modifiant votre application</p>
</li>
<li>
<p>Testez d&#8217;ajouter une nouvelle classe de <code>Canard</code> qui n&#8217;implémente pas le vol
et vérifiez que ça ne passe pas la compilation.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_utilisation_du_comportement_dynamique"><a class="link" href="#_utilisation_du_comportement_dynamique">4. Utilisation du comportement dynamique</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>On souhaite pleinement bénéficier du changement possible de comportement
à l&#8217;exécution.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Implémentez une méthode <code>setVol()</code> qui permette d&#8217;associer un comportement
de vol donné à un <code>Canard</code>.</p>
</li>
<li>
<p>Réalisez un petit <code>main</code> de test à base de menu pour faire affecter à l&#8217;utilisateur
les comportements.</p>
</li>
<li>
<p>On souhaite implémenter un nouveau comportement de vol révolutionnaire pour les
<code>Canard</code> : le vol en V. Dans ce type de vol, chaque <code>Canard</code> doit voler en fonction
de ses congénaires suivant l&#8217;algorithme ci-dessous. Implémentez une version
minimale (ne vous embettez pas avec une interface graphique, sauf si vous avez fini ;-)
de ce comportement.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Exemple d&#8217;algorithme du vol en V</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="C"><span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">rang</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-p">)</span> <span class="tok-c1">// je suis le premier</span>
	<span class="tok-n">voler</span><span class="tok-p">();</span>
<span class="tok-k">else</span> <span class="tok-c1">// je dois me placer derrière le bon Canard</span>
	<span class="tok-k">if</span> <span class="tok-p">(</span><span class="tok-n">canards</span><span class="tok-p">[</span><span class="tok-n">rang</span><span class="tok-p">].</span><span class="tok-n">exists</span><span class="tok-p">())</span> <span class="tok-c1">// s&#39;il y a déjà un compère</span>
		<span class="tok-n">volerADroite</span><span class="tok-p">()</span> <span class="tok-c1">// je me mets à sa droite</span>
	<span class="tok-k">else</span> <span class="tok-n">volerAGauche</span><span class="tok-p">();</span> <span class="tok-c1">// sinon, je me mets à sa gauche</span>
<span class="tok-n">rang</span><span class="tok-o">+=</span><span class="tok-mi">1</span><span class="tok-p">;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setArme"><a class="link" href="#setArme">Exemple d&#8217;organisation en pacquetages</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le principe est d&#8217;avoir :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un <em>package</em> pour les classes métiers (<code>Canard</code>,<code>Colvert</code>, etc.)</p>
</li>
<li>
<p>un autre pour les comportements (1 par type de comportement en fait)</p>
</li>
<li>
<p>dans chaque comportement avoir l&#8217;interface, puis un <em>package</em> spécifique
aux implémentations (<code>impl</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ce qui donne :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="shell">        ├── appli
        │   ├── Canard.java
        │   ├── CanardEnPlastique.java
        │   ├── Colvert.java
        │   ├── Leurre.java
        │   ├── Main.java
        │   └── Mandarin.java
        └── comportements
            ├── cancaner
            │   ├── ComportementCancan.java
            │   └── impl
            │       ├── CanardMuet.java
            │       ├── Cancan.java
            │       └── Coincoin.java
            └── voler
                ├── ComportementVol.java
                └── impl
                    ├── NePasVoler.java
                    └── VolerAvecDesAiles.java</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about"><a class="link" href="#_about">About&#8230;&#8203;</a></h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Document réalisé par <a href="mailto:{email}">Dut/Info-S3/M3105</a> via  <a href="http://asciidoctor.org/">Asciidoctor</a> (version <code>1.5.1</code>) de 'Dan Allen', lui même basé sur <a href="http://www.methods.co.nz/asciidoc">AsciiDoc</a>.
Pour l&#8217;instant ce document est libre d&#8217;utilisation et géré par la 'Licence Creative Commons'.
<span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="./images/88x31.png" alt="Licence Creative Commons"></a></span>
<a href="http://creativecommons.org/licenses/by-sa/3.0/">licence Creative Commons Paternité - Partage à l&#39;Identique 3.0 non transposé</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-11-17 17:11:06 CET
</div>
</div>
</body>
</html>