<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>DUT-Info/S3/M3105 (CPOA)</title>
        <meta name="viewport" content="width=1024, user-scalable=no">
        <meta name="author" content="Jean-Michel Bruel" />
        <meta name="generator" content="AsciiDoc 8.6.9" />
        <meta name="presdate" content="2015-11-15 - First draft" />
        
        <!-- Core and extension CSS files -->
<style type="text/css">
html, body {
  height: 100%;
  padding: 0;
  margin: 0;
}

.deck-container {
  position: relative;
  min-height: 100%;
  margin: 0 auto;
  overflow: hidden;
  overflow-y: auto;
}
.js .deck-container {
  visibility: hidden;
}
.ready .deck-container {
  visibility: visible;
}
.touch .deck-container {
  -webkit-text-size-adjust: none;
  -moz-text-size-adjust: none;
}

.deck-loading {
  display: none;
}

.slide {
  width: auto;
  min-height: 100%;
  position: relative;
}

.deck-before, .deck-previous, .deck-next, .deck-after {
  position: absolute;
  left: -999em;
  top: -999em;
}

.deck-current {
  z-index: 2;
}

.slide .slide {
  visibility: hidden;
  position: static;
  min-height: 0;
}

.deck-child-current {
  position: static;
  z-index: 2;
}
.deck-child-current .slide {
  visibility: hidden;
}
.deck-child-current .deck-previous, .deck-child-current .deck-before, .deck-child-current .deck-current {
  visibility: visible;
}
</style>
<style type="text/css">
.goto-form {
  position: absolute;
  z-index: 3;
  bottom: 10px;
  left: 50%;
  height: 1.75em;
  margin: 0 0 0 -9.125em;
  line-height: 1.75em;
  padding: 0.625em;
  display: none;
  background: #ccc;
  overflow: hidden;
  border-radius: 10px;
}
.goto-form label {
  font-weight: bold;
}
.goto-form label, .goto-form input {
  display: inline-block;
  font-family: inherit;
}
.deck-goto .goto-form {
  display: block;
}

#goto-slide {
  width: 8.375em;
  margin: 0 0.625em;
  height: 1.4375em;
}

@media print {
  .goto-form, #goto-slide {
    display: none;
  }
}
</style>
<style type="text/css">
.deck-menu {
  overflow: auto;
}
.deck-menu .slide {
  background: #eee;
  position: relative;
  left: 0;
  top: 0;
  visibility: visible;
  cursor: pointer;
}
.no-csstransforms .deck-menu > .slide {
  float: left;
  width: 22%;
  height: 22%;
  min-height: 0;
  margin: 1%;
  font-size: 0.22em;
  overflow: hidden;
  padding: 0 0.5%;
}
.csstransforms .deck-menu > .slide {
  -webkit-transform: scale(0.22) !important;
  -ms-transform: scale(0.22) !important;
  transform: scale(0.22) !important;
  -webkit-transform-origin: 0 0;
  -ms-transform-origin: 0 0;
  transform-origin: 0 0;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  overflow: hidden;
  padding: 0 48px;
  margin: 12px;
}
.deck-menu iframe, .deck-menu img, .deck-menu video {
  max-width: 100%;
}
.deck-menu .deck-current, .no-touch .deck-menu .slide:hover {
  background: #ddf;
}
.deck-menu.deck-container:hover .deck-prev-link, .deck-menu.deck-container:hover .deck-next-link {
  display: none;
}
</style>
<style type="text/css">
.deck-prev-link, .deck-next-link {
  display: none;
  position: absolute;
  z-index: 3;
  top: 50%;
  width: 32px;
  height: 32px;
  margin-top: -16px;
  font-size: 20px;
  font-weight: bold;
  line-height: 32px;
  vertical-align: middle;
  text-align: center;
  text-decoration: none;
  color: #fff;
  background: #888;
  border-radius: 16px;
}
.deck-prev-link:hover, .deck-prev-link:focus, .deck-prev-link:active, .deck-prev-link:visited, .deck-next-link:hover, .deck-next-link:focus, .deck-next-link:active, .deck-next-link:visited {
  color: #fff;
}

.deck-prev-link {
  left: 8px;
}

.deck-next-link {
  right: 8px;
}

.deck-container:hover .deck-prev-link, .deck-container:hover .deck-next-link {
  display: block;
}
.deck-container:hover .deck-prev-link.deck-nav-disabled, .touch .deck-container:hover .deck-prev-link, .deck-container:hover .deck-next-link.deck-nav-disabled, .touch .deck-container:hover .deck-next-link {
  display: none;
}

@media print {
  .deck-prev-link, .deck-next-link {
    display: none !important;
  }
}
</style>
<style type="text/css">
.deck-status {
  position: absolute;
  bottom: 10px;
  right: 5px;
  color: #888;
  z-index: 3;
  margin: 0;
}

body > .deck-container .deck-status {
  position: fixed;
}

@media print {
  .deck-status {
    display: none;
  }
}
</style>
<style type="text/css">
</style>
<!-- Theme CSS files -->
<style type="text/css">
</style>
<style type="text/css" id="transition-theme-link">
</style>
<!-- Replace path with correct path to Modernizr file. -->
<script type="text/javascript">
/*<![CDATA[*/
/* Modernizr 2.0.6 (Custom Build) | MIT & BSD
 * Contains: fontface | backgroundsize | borderimage | borderradius | boxshadow | flexbox | hsla | multiplebgs | opacity | rgba | textshadow | cssanimations | csscolumns | generatedcontent | cssgradients | cssreflections | csstransforms | csstransforms3d | csstransitions | applicationcache | canvas | canvastext | draganddrop | hashchange | history | audio | video | indexeddb | input | inputtypes | localstorage | postmessage | sessionstorage | websockets | websqldatabase | webworkers | geolocation | inlinesvg | smil | svg | svgclippaths | touch | webgl | iepp | cssclasses | addtest | teststyles | testprop | testallprops | hasevent | prefixes | domprefixes | load
 */
;window.Modernizr=function(a,b,c){function H(){e.input=function(a){for(var b=0,c=a.length;b<c;b++)t[a[b]]=a[b]in l;return t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)l.setAttribute("type",f=a[d]),e=l.type!=="text",e&&(l.value=m,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&l.style.WebkitAppearance!==c?(g.appendChild(l),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,g.removeChild(l)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=l.checkValidity&&l.checkValidity()===!1:/^color$/.test(f)?(g.appendChild(l),g.offsetWidth,e=l.value!=m,g.removeChild(l)):e=l.value!=m)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}function F(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+p.join(c+" ")+c).split(" ");return E(d,b)}function E(a,b){for(var d in a)if(k[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function D(a,b){return!!~(""+a).indexOf(b)}function C(a,b){return typeof a===b}function B(a,b){return A(o.join(a+";")+(b||""))}function A(a){k.cssText=a}var d="2.0.6",e={},f=!0,g=b.documentElement,h=b.head||b.getElementsByTagName("head")[0],i="modernizr",j=b.createElement(i),k=j.style,l=b.createElement("input"),m=":)",n=Object.prototype.toString,o=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),p="Webkit Moz O ms Khtml".split(" "),q={svg:"http://www.w3.org/2000/svg"},r={},s={},t={},u=[],v=function(a,c,d,e){var f,h,j,k=b.createElement("div");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:i+(d+1),k.appendChild(j);f=["&shy;","<style>",a,"</style>"].join(""),k.id=i,k.innerHTML+=f,g.appendChild(k),h=c(k,a),k.parentNode.removeChild(k);return!!h},w=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=C(e[d],"function"),C(e[d],c)||(e[d]=c),e.removeAttribute(d))),e=null;return f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),x,y={}.hasOwnProperty,z;!C(y,c)&&!C(y.call,c)?z=function(a,b){return y.call(a,b)}:z=function(a,b){return b in a&&C(a.constructor.prototype[b],c)};var G=function(c,d){var f=c.join(""),g=d.length;v(f,function(c,d){var f=b.styleSheets[b.styleSheets.length-1],h=f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"",i=c.childNodes,j={};while(g--)j[i[g].id]=i[g];e.touch="ontouchstart"in a||j.touch.offsetTop===9,e.csstransforms3d=j.csstransforms3d.offsetLeft===9,e.generatedcontent=j.generatedcontent.offsetHeight>=1,e.fontface=/src/i.test(h)&&h.indexOf(d.split(" ")[0])===0},g,d)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",o.join("touch-enabled),("),i,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",o.join("transform-3d),("),i,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',m,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);r.flexbox=function(){function c(a,b,c,d){a.style.cssText=o.join(b+":"+c+";")+(d||"")}function a(a,b,c,d){b+=":",a.style.cssText=(b+o.join(c+";"+b)).slice(0,-b.length)+(d||"")}var d=b.createElement("div"),e=b.createElement("div");a(d,"display","box","width:42px;padding:0;"),c(e,"box-flex","1","width:10px;"),d.appendChild(e),g.appendChild(d);var f=e.offsetWidth===42;d.removeChild(e),g.removeChild(d);return f},r.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return!!e.canvas&&!!C(b.createElement("canvas").getContext("2d").fillText,"function")},r.webgl=function(){return!!a.WebGLRenderingContext},r.touch=function(){return e.touch},r.geolocation=function(){return!!navigator.geolocation},r.postmessage=function(){return!!a.postMessage},r.websqldatabase=function(){var b=!!a.openDatabase;return b},r.indexedDB=function(){for(var b=-1,c=p.length;++b<c;)if(a[p[b].toLowerCase()+"IndexedDB"])return!0;return!!a.indexedDB},r.hashchange=function(){return w("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},r.history=function(){return!!a.history&&!!history.pushState},r.draganddrop=function(){return w("dragstart")&&w("drop")},r.websockets=function(){for(var b=-1,c=p.length;++b<c;)if(a[p[b]+"WebSocket"])return!0;return"WebSocket"in a},r.rgba=function(){A("background-color:rgba(150,255,150,.5)");return D(k.backgroundColor,"rgba")},r.hsla=function(){A("background-color:hsla(120,40%,100%,.5)");return D(k.backgroundColor,"rgba")||D(k.backgroundColor,"hsla")},r.multiplebgs=function(){A("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(k.background)},r.backgroundsize=function(){return F("backgroundSize")},r.borderimage=function(){return F("borderImage")},r.borderradius=function(){return F("borderRadius")},r.boxshadow=function(){return F("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){B("opacity:.55");return/^0.55$/.test(k.opacity)},r.cssanimations=function(){return F("animationName")},r.csscolumns=function(){return F("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";A((a+o.join(b+a)+o.join(c+a)).slice(0,-a.length));return D(k.backgroundImage,"gradient")},r.cssreflections=function(){return F("boxReflect")},r.csstransforms=function(){return!!E(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},r.csstransforms3d=function(){var a=!!E(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in g.style&&(a=e.csstransforms3d);return a},r.csstransitions=function(){return F("transitionProperty")},r.fontface=function(){return e.fontface},r.generatedcontent=function(){return e.generatedcontent},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType){c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"');var d='video/mp4; codecs="avc1.42E01E';c.h264=a.canPlayType(d+'"')||a.canPlayType(d+', mp4a.40.2"'),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(e){}return c},r.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),c.mp3=a.canPlayType("audio/mpeg;"),c.wav=a.canPlayType('audio/wav; codecs="1"'),c.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")}catch(d){}return c},r.localstorage=function(){try{return!!localStorage.getItem}catch(a){return!1}},r.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(a){return!1}},r.webworkers=function(){return!!a.Worker},r.applicationcache=function(){return!!a.applicationCache},r.svg=function(){return!!b.createElementNS&&!!b.createElementNS(q.svg,"svg").createSVGRect},r.inlinesvg=function(){var a=b.createElement("div");a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==q.svg},r.smil=function(){return!!b.createElementNS&&/SVG/.test(n.call(b.createElementNS(q.svg,"animate")))},r.svgclippaths=function(){return!!b.createElementNS&&/SVG/.test(n.call(b.createElementNS(q.svg,"clipPath")))};for(var I in r)z(r,I)&&(x=I.toLowerCase(),e[x]=r[I](),u.push((e[x]?"":"no-")+x));e.input||H(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)z(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return;b=typeof b=="boolean"?b:!!b(),g.className+=" "+(b?"":"no-")+a,e[a]=b}return e},A(""),j=l=null,a.attachEvent&&function(){var a=b.createElement("div");a.innerHTML="<elem></elem>";return a.childNodes.length!==1}()&&function(a,b){function s(a){var b=-1;while(++b<g)a.createElement(f[b])}a.iepp=a.iepp||{};var d=a.iepp,e=d.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",f=e.split("|"),g=f.length,h=new RegExp("(^|\\s)("+e+")","gi"),i=new RegExp("<(/*)("+e+")","gi"),j=/^\s*[\{}]\s*$/,k=new RegExp("(^|[^\\n]*?\\s)("+e+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),l=b.createDocumentFragment(),m=b.documentElement,n=m.firstChild,o=b.createElement("body"),p=b.createElement("style"),q=/print|all/,r;d.getCSS=function(a,b){if(a+""===c)return"";var e=-1,f=a.length,g,h=[];while(++e<f){g=a[e];if(g.disabled)continue;b=g.media||b,q.test(b)&&h.push(d.getCSS(g.imports,b),g.cssText),b="all"}return h.join("")},d.parseCSS=function(a){var b=[],c;while((c=k.exec(a))!=null)b.push(((j.exec(c[1])?"\n":c[1])+c[2]+c[3]).replace(h,"$1.iepp_$2")+c[4]);return b.join("\n")},d.writeHTML=function(){var a=-1;r=r||b.body;while(++a<g){var c=b.getElementsByTagName(f[a]),d=c.length,e=-1;while(++e<d)c[e].className.indexOf("iepp_")<0&&(c[e].className+=" iepp_"+f[a])}l.appendChild(r),m.appendChild(o),o.className=r.className,o.id=r.id,o.innerHTML=r.innerHTML.replace(i,"<$1font")},d._beforePrint=function(){p.styleSheet.cssText=d.parseCSS(d.getCSS(b.styleSheets,"all")),d.writeHTML()},d.restoreHTML=function(){o.innerHTML="",m.removeChild(o),m.appendChild(r)},d._afterPrint=function(){d.restoreHTML(),p.styleSheet.cssText=""},s(b),s(l);d.disablePP||(n.insertBefore(p,n.firstChild),p.media="print",p.className="iepp-printshim",a.attachEvent("onbeforeprint",d._beforePrint),a.attachEvent("onafterprint",d._afterPrint))}(a,b),e._version=d,e._prefixes=o,e._domPrefixes=p,e.hasEvent=w,e.testProp=function(a){return E([a])},e.testAllProps=F,e.testStyles=v,g.className=g.className.replace(/\bno-js\b/,"")+(f?" js "+u.join(" "):"");return e}(this,this.document),function(a,b,c){function k(a){return!a||a=="loaded"||a=="complete"}function j(){var a=1,b=-1;while(p.length- ++b)if(p[b].s&&!(a=p[b].r))break;a&&g()}function i(a){var c=b.createElement("script"),d;c.src=a.s,c.onreadystatechange=c.onload=function(){!d&&k(c.readyState)&&(d=1,j(),c.onload=c.onreadystatechange=null)},m(function(){d||(d=1,j())},H.errorTimeout),a.e?c.onload():n.parentNode.insertBefore(c,n)}function h(a){var c=b.createElement("link"),d;c.href=a.s,c.rel="stylesheet",c.type="text/css";if(!a.e&&(w||r)){var e=function(a){m(function(){if(!d)try{a.sheet.cssRules.length?(d=1,j()):e(a)}catch(b){b.code==1e3||b.message=="security"||b.message=="denied"?(d=1,m(function(){j()},0)):e(a)}},0)};e(c)}else c.onload=function(){d||(d=1,m(function(){j()},0))},a.e&&c.onload();m(function(){d||(d=1,j())},H.errorTimeout),!a.e&&n.parentNode.insertBefore(c,n)}function g(){var a=p.shift();q=1,a?a.t?m(function(){a.t=="c"?h(a):i(a)},0):(a(),j()):q=0}function f(a,c,d,e,f,h){function i(){!o&&k(l.readyState)&&(r.r=o=1,!q&&j(),l.onload=l.onreadystatechange=null,m(function(){u.removeChild(l)},0))}var l=b.createElement(a),o=0,r={t:d,s:c,e:h};l.src=l.data=c,!s&&(l.style.display="none"),l.width=l.height="0",a!="object"&&(l.type=d),l.onload=l.onreadystatechange=i,a=="img"?l.onerror=i:a=="script"&&(l.onerror=function(){r.e=r.r=1,g()}),p.splice(e,0,r),u.insertBefore(l,s?null:n),m(function(){o||(u.removeChild(l),r.r=r.e=o=1,j())},H.errorTimeout)}function e(a,b,c){var d=b=="c"?z:y;q=0,b=b||"j",C(a)?f(d,a,b,this.i++,l,c):(p.splice(this.i++,0,a),p.length==1&&g());return this}function d(){var a=H;a.loader={load:e,i:0};return a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=r&&!s,u=s?l:n.parentNode,v=a.opera&&o.call(a.opera)=="[object Opera]",w="webkitAppearance"in l.style,x=w&&"async"in b.createElement("script"),y=r?"object":v||x?"img":"script",z=w?"img":y,A=Array.isArray||function(a){return o.call(a)=="[object Array]"},B=function(a){return Object(a)===a},C=function(a){return typeof a=="string"},D=function(a){return o.call(a)=="[object Function]"},E=[],F={},G,H;H=function(a){function f(a){var b=a.split("!"),c=E.length,d=b.pop(),e=b.length,f={url:d,origUrl:d,prefixes:b},g,h;for(h=0;h<e;h++)g=F[b[h]],g&&(f=g(f));for(h=0;h<c;h++)f=E[h](f);return f}function e(a,b,e,g,h){var i=f(a),j=i.autoCallback;if(!i.bypass){b&&(b=D(b)?b:b[a]||b[g]||b[a.split("/").pop().split("?")[0]]);if(i.instead)return i.instead(a,b,e,g,h);e.load(i.url,i.forceCSS||!i.forceJS&&/css$/.test(i.url)?"c":c,i.noexec),(D(b)||D(j))&&e.load(function(){d(),b&&b(i.origUrl,h,g),j&&j(i.origUrl,h,g)})}}function b(a,b){function c(a){if(C(a))e(a,h,b,0,d);else if(B(a))for(i in a)a.hasOwnProperty(i)&&e(a[i],h,b,i,d)}var d=!!a.test,f=d?a.yep:a.nope,g=a.load||a.both,h=a.callback,i;c(f),c(g),a.complete&&b.load(a.complete)}var g,h,i=this.yepnope.loader;if(C(a))e(a,0,i,0);else if(A(a))for(g=0;g<a.length;g++)h=a[g],C(h)?e(h,0,i,0):A(h)?H(h):B(h)&&b(h,i);else B(a)&&b(a,i)},H.addPrefix=function(a,b){F[a]=b},H.addFilter=function(a){E.push(a)},H.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",G=function(){b.removeEventListener("DOMContentLoaded",G,0),b.readyState="complete"},0)),a.yepnope=d()}(this,this.document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery-1.10.2.min.map
*/
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray||function(e){return"array"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,"ms-").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),"complete"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(",")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p()}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t
}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+""})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n)}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),x._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0)})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0)}),x._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,"globalEval",!t||x._data(t[r],"globalEval"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);
u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o["*"]&&s("*")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w="abort";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,n){return x.get(e,t,n,"script")}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?"hidden"in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}))})(window);
/*]]>*/
</script>
<!-- Deck Core and extensions -->
<script type="text/javascript">
/*<![CDATA[*/
/*!
Deck JS - deck.core
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license.
https://github.com/imakewebthings/deck.js/blob/master/MIT-license.txt
*/

/*
The deck.core module provides all the basic functionality for creating and
moving through a deck.  It does so by applying classes to indicate the state of
the deck and its slides, allowing CSS to take care of the visual representation
of each state.  It also provides methods for navigating the deck and inspecting
its state, as well as basic key bindings for going to the next and previous
slides.  More functionality is provided by wholly separate extension modules
that use the API provided by core.
*/
(function($, undefined) {
  var slides, currentIndex, $container, $fragmentLinks;

  var events = {
    /*
    This event fires at the beginning of a slide change, before the actual
    change occurs. Its purpose is to give extension authors a way to prevent
    the slide change from occuring. This is done by calling preventDefault
    on the event object within this event. If that is done, the deck.change
    event will never be fired and the slide will not change.
    */
    beforeChange: 'deck.beforeChange',

    /*
    This event fires whenever the current slide changes, whether by way of
    next, prev, or go. The callback function is passed two parameters, from
    and to, equal to the indices of the old slide and the new slide
    respectively. If preventDefault is called on the event within this handler
    the slide change does not occur.

    $(document).bind('deck.change', function(event, from, to) {
       alert('Moving from slide ' + from + ' to ' + to);
    });
    */
    change: 'deck.change',

    /*
    This event fires at the beginning of deck initialization. This event makes
    a good hook for preprocessing extensions looking to modify the DOM before
    the deck is fully initialized. It is also possible to halt the deck.init
    event from firing while you do things in beforeInit. This can be done by
    calling lockInit on the event object passed to this event. The init can be
    released by calling releaseInit.

    $(document).bind('deck.beforeInit', function(event) {
      event.lockInit(); // halts deck.init event
      window.setTimeout(function() {
        event.releaseInit(); // deck.init will now fire 2 seconds later
      }, 2000);
    });

    The init event will be fired regardless of locks after
    options.initLockTimeout milliseconds.
    */
    beforeInitialize: 'deck.beforeInit',

    /*
    This event fires at the end of deck initialization. Extensions should
    implement any code that relies on user extensible options (key bindings,
    element selectors, classes) within a handler for this event. Native
    events associated with Deck JS should be scoped under a .deck event
    namespace, as with the example below:

    var $d = $(document);
    $.deck.defaults.keys.myExtensionKeycode = 70; // 'h'
    $d.bind('deck.init', function() {
       $d.bind('keydown.deck', function(event) {
          if (event.which === $.deck.getOptions().keys.myExtensionKeycode) {
             // Rock out
          }
       });
    });
    */
    initialize: 'deck.init'
  };

  var options = {};
  var $document = $(document);
  var $window = $(window);
  var stopPropagation = function(event) {
    event.stopPropagation();
  };

  var updateContainerState = function() {
    var oldIndex = $container.data('onSlide');
    $container.removeClass(options.classes.onPrefix + oldIndex);
    $container.addClass(options.classes.onPrefix + currentIndex);
    $container.data('onSlide', currentIndex);
  };

  var updateChildCurrent = function() {
    var $oldCurrent = $('.' + options.classes.current);
    var $oldParents = $oldCurrent.parentsUntil(options.selectors.container);
    var $newCurrent = slides[currentIndex];
    var $newParents = $newCurrent.parentsUntil(options.selectors.container);
    $oldParents.removeClass(options.classes.childCurrent);
    $newParents.addClass(options.classes.childCurrent);
  };

  var removeOldSlideStates = function() {
    var $all = $();
    $.each(slides, function(i, el) {
      $all = $all.add(el);
    });
    $all.removeClass([
      options.classes.before,
      options.classes.previous,
      options.classes.current,
      options.classes.next,
      options.classes.after
    ].join(' '));
  };

  var addNewSlideStates = function() {
    slides[currentIndex].addClass(options.classes.current);
    if (currentIndex > 0) {
      slides[currentIndex-1].addClass(options.classes.previous);
    }
    if (currentIndex + 1 < slides.length) {
      slides[currentIndex+1].addClass(options.classes.next);
    }
    if (currentIndex > 1) {
      $.each(slides.slice(0, currentIndex - 1), function(i, $slide) {
        $slide.addClass(options.classes.before);
      });
    }
    if (currentIndex + 2 < slides.length) {
      $.each(slides.slice(currentIndex+2), function(i, $slide) {
        $slide.addClass(options.classes.after);
      });
    }
  };

  var setAriaHiddens = function() {
    $(options.selectors.slides).each(function() {
      var $slide = $(this);
      var isSub = $slide.closest('.' + options.classes.childCurrent).length;
      var isBefore = $slide.hasClass(options.classes.before) && !isSub;
      var isPrevious = $slide.hasClass(options.classes.previous) && !isSub;
      var isNext = $slide.hasClass(options.classes.next);
      var isAfter = $slide.hasClass(options.classes.after);
      var ariaHiddenValue = isBefore || isPrevious || isNext || isAfter;
      $slide.attr('aria-hidden', ariaHiddenValue);
    });
  };

  var updateStates = function() {
    updateContainerState();
    updateChildCurrent();
    removeOldSlideStates();
    addNewSlideStates();
    if (options.setAriaHiddens) {
      setAriaHiddens();
    }
  };

  var initSlidesArray = function(elements) {
    if ($.isArray(elements)) {
      $.each(elements, function(i, element) {
        slides.push($(element));
      });
    }
    else {
      $(elements).each(function(i, element) {
        slides.push($(element));
      });
    }
  };

  var bindKeyEvents = function() {
    var editables = [
      'input',
      'textarea',
      'select',
      'button',
      'meter',
      'progress',
      '[contentEditable]'
    ].join(', ');

    $document.unbind('keydown.deck').bind('keydown.deck', function(event) {
      if (event.altKey) {
        // ignore events when the ALT key is down
        // NB: browsers use ALT+arrow to navigate history
        return;
      }
      var isNext = event.which === options.keys.next;
      var isPrev = event.which === options.keys.previous;
      isNext = isNext || $.inArray(event.which, options.keys.next) > -1;
      isPrev = isPrev || $.inArray(event.which, options.keys.previous) > -1;

      if (isNext) {
        methods.next();
        event.preventDefault();
      }
      else if (isPrev) {
        methods.prev();
        event.preventDefault();
      }
    });

    $document.undelegate(editables, 'keydown.deck', stopPropagation);
    $document.delegate(editables, 'keydown.deck', stopPropagation);
  };

  var bindTouchEvents = function() {
    var startTouch;
    var direction = options.touch.swipeDirection;
    var tolerance = options.touch.swipeTolerance;
    var listenToHorizontal = ({ both: true, horizontal: true })[direction];
    var listenToVertical = ({ both: true, vertical: true })[direction];

    $container.unbind('touchstart.deck');
    $container.bind('touchstart.deck', function(event) {
      if (!startTouch) {
        startTouch = $.extend({}, event.originalEvent.targetTouches[0]);
      }
    });

    $container.unbind('touchmove.deck');
    $container.bind('touchmove.deck', function(event) {
      $.each(event.originalEvent.changedTouches, function(i, touch) {
        if (!startTouch || touch.identifier !== startTouch.identifier) {
          return true;
        }
        var xDistance = touch.screenX - startTouch.screenX;
        var yDistance = touch.screenY - startTouch.screenY;
        var leftToRight = xDistance > tolerance && listenToHorizontal;
        var rightToLeft = xDistance < -tolerance && listenToHorizontal;
        var topToBottom = yDistance > tolerance && listenToVertical;
        var bottomToTop = yDistance < -tolerance && listenToVertical;

        if (leftToRight || topToBottom) {
          $.deck('prev');
          startTouch = undefined;
        }
        else if (rightToLeft || bottomToTop) {
          $.deck('next');
          startTouch = undefined;
        }
        return false;
      });

      if (listenToVertical) {
        event.preventDefault();
      }
    });

    $container.unbind('touchend.deck');
    $container.bind('touchend.deck', function(event) {
      $.each(event.originalEvent.changedTouches, function(i, touch) {
        if (startTouch && touch.identifier === startTouch.identifier) {
          startTouch = undefined;
        }
      });
    });
  };

  var indexInBounds = function(index) {
    return typeof index === 'number' && index >=0 && index < slides.length;
  };

  var createBeforeInitEvent = function() {
    var event = $.Event(events.beforeInitialize);
    event.locks = 0;
    event.done = $.noop;
    event.lockInit = function() {
      ++event.locks;
    };
    event.releaseInit = function() {
      --event.locks;
      if (!event.locks) {
        event.done();
      }
    };
    return event;
  };

  var goByHash = function(str) {
    var id = str.substr(str.indexOf("#") + 1);

    $.each(slides, function(i, $slide) {
      if ($slide.attr('id') === id) {
        $.deck('go', i);
        return false;
      }
    });

    // If we don't set these to 0 the container scrolls due to hashchange
    if (options.preventFragmentScroll) {
      $.deck('getContainer').scrollLeft(0).scrollTop(0);
    }
  };

  var assignSlideId = function(i, $slide) {
    var currentId = $slide.attr('id');
    var previouslyAssigned = $slide.data('deckAssignedId') === currentId;
    if (!currentId || previouslyAssigned) {
      $slide.attr('id', options.hashPrefix + i);
      $slide.data('deckAssignedId', options.hashPrefix + i);
    }
  };

  var removeContainerHashClass = function(id) {
    $container.removeClass(options.classes.onPrefix + id);
  };

  var addContainerHashClass = function(id) {
    $container.addClass(options.classes.onPrefix + id);
  };

  var setupHashBehaviors = function() {
    $fragmentLinks = $();
    $.each(slides, function(i, $slide) {
      var hash;

      assignSlideId(i, $slide);
      hash = '#' + $slide.attr('id');
      if (hash === window.location.hash) {
        setTimeout(function() {
          $.deck('go', i);
        }, 1);
      }
      $fragmentLinks = $fragmentLinks.add('a[href="' + hash + '"]');
    });

    if (slides.length) {
      addContainerHashClass($.deck('getSlide').attr('id'));
    };
  };

  var changeHash = function(from, to) {
    var hash = '#' + $.deck('getSlide', to).attr('id');
    var hashPath = window.location.href.replace(/#.*/, '') + hash;

    removeContainerHashClass($.deck('getSlide', from).attr('id'));
    addContainerHashClass($.deck('getSlide', to).attr('id'));
    if (Modernizr.history) {
      window.history.replaceState({}, "", hashPath);
    }
  };

  /* Methods exposed in the jQuery.deck namespace */
  var methods = {

    /*
    jQuery.deck(selector, options)

    selector: string | jQuery | array
    options: object, optional

    Initializes the deck, using each element matched by selector as a slide.
    May also be passed an array of string selectors or jQuery objects, in
    which case each selector in the array is considered a slide. The second
    parameter is an optional options object which will extend the default
    values.

    Users may also pass only an options object to init. In this case the slide
    selector will be options.selectors.slides which defaults to .slide.

    $.deck('.slide');

    or

    $.deck([
       '#first-slide',
       '#second-slide',
       '#etc'
    ]);
    */
    init: function(opts) {
      var beforeInitEvent = createBeforeInitEvent();
      var overrides = opts;

      if (!$.isPlainObject(opts)) {
        overrides = arguments[1] || {};
        $.extend(true, overrides, {
          selectors: {
            slides: arguments[0]
          }
        });
      }

      options = $.extend(true, {}, $.deck.defaults, overrides);
      slides = [];
      currentIndex = 0;
      $container = $(options.selectors.container);

      // Hide the deck while states are being applied to kill transitions
      $container.addClass(options.classes.loading);

      // populate the array of slides for pre-init
      initSlidesArray(options.selectors.slides);
      // Pre init event for preprocessing hooks
      beforeInitEvent.done = function() {
        // re-populate the array of slides
        slides = [];
        initSlidesArray(options.selectors.slides);
        setupHashBehaviors();
        bindKeyEvents();
        bindTouchEvents();
        $container.scrollLeft(0).scrollTop(0);

        if (slides.length) {
          updateStates();
        }

        // Show deck again now that slides are in place
        $container.removeClass(options.classes.loading);
        $document.trigger(events.initialize);
      };

      $document.trigger(beforeInitEvent);
      if (!beforeInitEvent.locks) {
        beforeInitEvent.done();
      }
      window.setTimeout(function() {
        if (beforeInitEvent.locks) {
          if (window.console) {
            window.console.warn('Something locked deck initialization\
              without releasing it before the timeout. Proceeding with\
              initialization anyway.');
          }
          beforeInitEvent.done();
        }
      }, options.initLockTimeout);
    },

    /*
    jQuery.deck('go', index)

    index: integer | string

    Moves to the slide at the specified index if index is a number. Index is
    0-based, so $.deck('go', 0); will move to the first slide. If index is a
    string this will move to the slide with the specified id. If index is out
    of bounds or doesn't match a slide id the call is ignored.
    */
    go: function(indexOrId) {
      var beforeChangeEvent = $.Event(events.beforeChange);
      var index;

      /* Number index, easy. */
      if (indexInBounds(indexOrId)) {
        index = indexOrId;
      }
      /* Id string index, search for it and set integer index */
      else if (typeof indexOrId === 'string') {
        $.each(slides, function(i, $slide) {
          if ($slide.attr('id') === indexOrId) {
            index = i;
            return false;
          }
        });
      }
      if (typeof index === 'undefined') {
        return;
      }

      /* Trigger beforeChange. If nothing prevents the change, trigger
      the slide change. */
      $document.trigger(beforeChangeEvent, [currentIndex, index]);
      if (!beforeChangeEvent.isDefaultPrevented()) {
        $document.trigger(events.change, [currentIndex, index]);
        changeHash(currentIndex, index);
        currentIndex = index;
        updateStates();
      }
    },

    /*
    jQuery.deck('next')

    Moves to the next slide. If the last slide is already active, the call
    is ignored.
    */
    next: function() {
      methods.go(currentIndex+1);
    },

    /*
    jQuery.deck('prev')

    Moves to the previous slide. If the first slide is already active, the
    call is ignored.
    */
    prev: function() {
      methods.go(currentIndex-1);
    },

    /*
    jQuery.deck('getSlide', index)

    index: integer, optional

    Returns a jQuery object containing the slide at index. If index is not
    specified, the current slide is returned.
    */
    getSlide: function(index) {
      index = typeof index !== 'undefined' ? index : currentIndex;
      if (!indexInBounds(index)) {
        return null;
      }
      return slides[index];
    },

    /*
    jQuery.deck('getSlides')

    Returns all slides as an array of jQuery objects.
    */
    getSlides: function() {
      return slides;
    },

    /*
    jQuery.deck('getTopLevelSlides')

    Returns all slides that are not subslides.
    */
    getTopLevelSlides: function() {
      var topLevelSlides = [];
      var slideSelector = options.selectors.slides;
      var subSelector = [slideSelector, slideSelector].join(' ');
      $.each(slides, function(i, $slide) {
        if (!$slide.is(subSelector)) {
          topLevelSlides.push($slide);
        }
      });
      return topLevelSlides;
    },

    /*
    jQuery.deck('getNestedSlides', index)

    index: integer, optional

    Returns all the nested slides of the current slide. If index is
    specified it returns the nested slides of the slide at that index.
    If there are no nested slides this will return an empty array.
    */
    getNestedSlides: function(index) {
      var targetIndex = index == null ? currentIndex : index;
      var $targetSlide = $.deck('getSlide', targetIndex);
      var $nesteds = $targetSlide.find(options.selectors.slides);
      var nesteds = $nesteds.get();
      return $.map(nesteds, function(slide, i) {
        return $(slide);
      });
    },


    /*
    jQuery.deck('getContainer')

    Returns a jQuery object containing the deck container as defined by the
    container option.
    */
    getContainer: function() {
      return $container;
    },

    /*
    jQuery.deck('getOptions')

    Returns the options object for the deck, including any overrides that
    were defined at initialization.
    */
    getOptions: function() {
      return options;
    },

    /*
    jQuery.deck('extend', name, method)

    name: string
    method: function

    Adds method to the deck namespace with the key of name. This doesn’t
    give access to any private member data — public methods must still be
    used within method — but lets extension authors piggyback on the deck
    namespace rather than pollute jQuery.

    $.deck('extend', 'alert', function(msg) {
       alert(msg);
    });

    // Alerts 'boom'
    $.deck('alert', 'boom');
    */
    extend: function(name, method) {
      methods[name] = method;
    }
  };

  /* jQuery extension */
  $.deck = function(method, arg) {
    var args = Array.prototype.slice.call(arguments, 1);
    if (methods[method]) {
      return methods[method].apply(this, args);
    }
    else {
      return methods.init(method, arg);
    }
  };

  /*
  The default settings object for a deck. All deck extensions should extend
  this object to add defaults for any of their options.

  options.classes.after
    This class is added to all slides that appear after the 'next' slide.

  options.classes.before
    This class is added to all slides that appear before the 'previous'
    slide.

  options.classes.childCurrent
    This class is added to all elements in the DOM tree between the
    'current' slide and the deck container. For standard slides, this is
    mostly seen and used for nested slides.

  options.classes.current
    This class is added to the current slide.

  options.classes.loading
    This class is applied to the deck container during loading phases and is
    primarily used as a way to short circuit transitions between states
    where such transitions are distracting or unwanted.  For example, this
    class is applied during deck initialization and then removed to prevent
    all the slides from appearing stacked and transitioning into place
    on load.

  options.classes.next
    This class is added to the slide immediately following the 'current'
    slide.

  options.classes.onPrefix
    This prefix, concatenated with the current slide index, is added to the
    deck container as you change slides.

  options.classes.previous
    This class is added to the slide immediately preceding the 'current'
    slide.

  options.selectors.container
    Elements matched by this CSS selector will be considered the deck
    container. The deck container is used to scope certain states of the
    deck, as with the onPrefix option, or with extensions such as deck.goto
    and deck.menu.

  options.selectors.slides
    Elements matched by this selector make up the individual deck slides.
    If a user chooses to pass the slide selector as the first argument to
    $.deck() on initialization it does the same thing as passing in this
    option and this option value will be set to the value of that parameter.

  options.keys.next
    The numeric keycode used to go to the next slide.

  options.keys.previous
    The numeric keycode used to go to the previous slide.

  options.touch.swipeDirection
    The direction swipes occur to cause slide changes. Can be 'horizontal',
    'vertical', or 'both'. Any other value or a falsy value will disable
    swipe gestures for navigation.

  options.touch.swipeTolerance
    The number of pixels the users finger must travel to produce a swipe
    gesture.

  options.initLockTimeout
    The number of milliseconds the init event will wait for BeforeInit event
    locks to be released before firing the init event regardless.

  options.hashPrefix
    Every slide that does not have an id is assigned one at initialization.
    Assigned ids take the form of hashPrefix + slideIndex, e.g., slide-0,
    slide-12, etc.

  options.preventFragmentScroll
    When deep linking to a hash of a nested slide, this scrolls the deck
    container to the top, undoing the natural browser behavior of scrolling
    to the document fragment on load.

  options.setAriaHiddens
    When set to true, deck.js will set aria hidden attributes for slides
    that do not appear onscreen according to a typical heirarchical
    deck structure. You may want to turn this off if you are using a theme
    where slides besides the current slide are visible on screen and should
    be accessible to screenreaders.
  */
  $.deck.defaults = {
    classes: {
      after: 'deck-after',
      before: 'deck-before',
      childCurrent: 'deck-child-current',
      current: 'deck-current',
      loading: 'deck-loading',
      next: 'deck-next',
      onPrefix: 'on-slide-',
      previous: 'deck-previous'
    },

    selectors: {
      container: '.deck-container',
      slides: '.slide'
    },

    keys: {
      // enter, space, page down, right arrow, down arrow,
      next: [13, 32, 34, 39, 40],
      // backspace, page up, left arrow, up arrow
      previous: [8, 33, 37, 38]
    },

    touch: {
      swipeDirection: 'horizontal',
      swipeTolerance: 60
    },

    initLockTimeout: 10000,
    hashPrefix: 'slide-',
    preventFragmentScroll: true,
    setAriaHiddens: true
  };

  $document.ready(function() {
    $('html').addClass('ready');
  });

  $window.bind('hashchange.deck', function(event) {
    if (event.originalEvent && event.originalEvent.newURL) {
      goByHash(event.originalEvent.newURL);
    }
    else {
      goByHash(window.location.hash);
    }
  });

  $window.bind('load.deck', function() {
    if (options.preventFragmentScroll) {
      $container.scrollLeft(0).scrollTop(0);
    }
  });
})(jQuery);
/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*!
Deck JS - deck.menu
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license.
https://github.com/imakewebthings/deck.js/blob/master/MIT-license.txt
*/

/*
This module adds the methods and key binding to show and hide a menu of all
slides in the deck. The deck menu state is indicated by the presence of a class
on the deck container.
*/
(function($, undefined) {
  var $document = $(document);
  var $html = $('html');
  var rootSlides;

  var populateRootSlidesArray = function() {
    var options = $.deck('getOptions');
    var slideTest = $.map([
      options.classes.before,
      options.classes.previous,
      options.classes.current,
      options.classes.next,
      options.classes.after
    ], function(el, i) {
      return '.' + el;
    }).join(', ');

    rootSlides = [];
    $.each($.deck('getSlides'), function(i, $slide) {
      var $parentSlides = $slide.parentsUntil(
        options.selectors.container,
        slideTest
      );
      if (!$parentSlides.length) {
        rootSlides.push($slide);
      }
    });
  };

  var bindKeyEvents = function() {
    var options = $.deck('getOptions');
    $document.unbind('keydown.deckmenu');
    $document.bind('keydown.deckmenu', function(event) {
      var isMenuKey = event.which === options.keys.menu;
      isMenuKey = isMenuKey || $.inArray(event.which, options.keys.menu) > -1;
      if (isMenuKey && !event.ctrlKey) {
        $.deck('toggleMenu');
        event.preventDefault();
      }
    });
  };

  var bindTouchEvents = function() {
    var $container = $.deck('getContainer');
    var options = $.deck('getOptions');
    var touchEndTime = 0;
    var currentSlide;

    $container.unbind('touchstart.deckmenu');
    $container.bind('touchstart.deckmenu', function() {
      currentSlide = $.deck('getSlide');
    });
    $container.unbind('touchend.deckmenu');
    $container.bind('touchend.deckmenu', function(event) {
      var now = Date.now();
      var isDoubletap = now - touchEndTime < options.touch.doubletapWindow;

      // Ignore this touch event if it caused a nav change (swipe)
      if (currentSlide !== $.deck('getSlide')) {
        return;
      }
      if (isDoubletap) {
        $.deck('toggleMenu');
        event.preventDefault();
      }
      touchEndTime = now;
    });
  };

  var setupMenuSlideSelection = function() {
    var options = $.deck('getOptions');

    $.each($.deck('getSlides'), function(i, $slide) {
      $slide.unbind('click.deckmenu');
      $slide.bind('click.deckmenu', function(event) {
        if (!$.deck('getContainer').hasClass(options.classes.menu)) {
          return;
        }
        $.deck('go', i);
        $.deck('hideMenu');
        event.stopPropagation();
        event.preventDefault();
      });
    });
  };

  /*
  Extends defaults/options.

  options.classes.menu
    This class is added to the deck container when showing the slide menu.

  options.keys.menu
    The numeric keycode used to toggle between showing and hiding the slide
    menu.

  options.touch.doubletapWindow
    Two consecutive touch events within this number of milliseconds will
    be considered a double tap, and will toggle the menu on touch devices.
  */
  $.extend(true, $.deck.defaults, {
    classes: {
      menu: 'deck-menu'
    },

    keys: {
      menu: 77 // m
    },

    touch: {
      doubletapWindow: 400
    }
  });

  /*
  jQuery.deck('showMenu')

  Shows the slide menu by adding the class specified by the menu class option
  to the deck container.
  */
  $.deck('extend', 'showMenu', function() {
    var $container = $.deck('getContainer');
    var options = $.deck('getOptions');

    if ($container.hasClass(options.classes.menu)) {
      return;
    }

    // Hide through loading class to short-circuit transitions (perf)
    $container.addClass([
      options.classes.loading,
      options.classes.menu
    ].join(' '));

    /* Forced to do this in JS until CSS learns second-grade math. Save old
    style value for restoration when menu is hidden. */
    if (Modernizr.csstransforms) {
      $.each(rootSlides, function(i, $slide) {
        $slide.data('oldStyle', $slide.attr('style'));
        $slide.css({
          'position': 'absolute',
          'left': ((i % 4) * 25) + '%',
          'top': (Math.floor(i / 4) * 25) + '%'
        });
      });
    }

    // Need to ensure the loading class renders first, then remove
    window.setTimeout(function() {
      $container.removeClass(options.classes.loading);
      $container.scrollTop($.deck('getSlide').position().top);
    }, 0);
  });

  /*
  jQuery.deck('hideMenu')

  Hides the slide menu by removing the class specified by the menu class
  option from the deck container.
  */
  $.deck('extend', 'hideMenu', function() {
    var $container = $.deck('getContainer');
    var options = $.deck('getOptions');

    if (!$container.hasClass(options.classes.menu)) {
      return;
    }

    $container.removeClass(options.classes.menu);
    $container.addClass(options.classes.loading);

    /* Restore old style value */
    if (Modernizr.csstransforms) {
      $.each(rootSlides, function(i, $slide) {
        var oldStyle = $slide.data('oldStyle');
        $slide.attr('style', oldStyle ? oldStyle : '');
      });
    }

    window.setTimeout(function() {
      $container.removeClass(options.classes.loading);
      $container.scrollTop(0);
    }, 0);
  });

  /*
  jQuery.deck('toggleMenu')

  Toggles between showing and hiding the slide menu.
  */
  $.deck('extend', 'toggleMenu', function() {
    $.deck('getContainer').hasClass($.deck('getOptions').classes.menu) ?
    $.deck('hideMenu') : $.deck('showMenu');
  });

  $document.bind('deck.init', function() {
    populateRootSlidesArray();
    bindKeyEvents();
    bindTouchEvents();
    setupMenuSlideSelection();
  });

  $document.bind('deck.change', function(event, from, to) {
    var $container = $.deck('getContainer');
    var containerScroll, slideTop;

    if ($container.hasClass($.deck('getOptions').classes.menu)) {
      containerScroll = $container.scrollTop();
      slideTop = $.deck('getSlide', to).position().top;
      $container.scrollTop(containerScroll + slideTop);
    }
  });
})(jQuery);
/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*!
Deck JS - deck.goto
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license.
https://github.com/imakewebthings/deck.js/blob/master/MIT-license.txt
*/

/*
This module adds the necessary methods and key bindings to show and hide a form
for jumping to any slide number/id in the deck (and processes that form
accordingly). The form-showing state is indicated by the presence of a class on
the deck container.
*/
(function($, undefined) {
  var $document = $(document);
  var rootCounter;

  var bindKeyEvents = function() {
    $document.unbind('keydown.deckgoto');
    $document.bind('keydown.deckgoto', function(event) {
      var key = $.deck('getOptions').keys.goto;
      if (event.which === key || $.inArray(event.which, key) > -1) {
        event.preventDefault();
        $.deck('toggleGoTo');
      }
    });
  };

  var populateDatalist = function() {
    var options = $.deck('getOptions');
    var $datalist = $(options.selectors.gotoDatalist);

    $.each($.deck('getSlides'), function(i, $slide) {
      var id = $slide.attr('id');
      if (id) {
        $datalist.append('<option value="' + id + '">');
      }
    });
  };

  var markRootSlides = function() {
    var options = $.deck('getOptions');
    var slideTest = $.map([
      options.classes.before,
      options.classes.previous,
      options.classes.current,
      options.classes.next,
      options.classes.after
    ], function(el, i) {
      return '.' + el;
    }).join(', ');

    rootCounter = 0;
    $.each($.deck('getSlides'), function(i, $slide) {
      var $parentSlides = $slide.parentsUntil(
        options.selectors.container,
        slideTest
      );

      if ($parentSlides.length) {
        $slide.removeData('rootIndex');
      }
      else if (!options.countNested) {
        ++rootCounter;
        $slide.data('rootIndex', rootCounter);
      }
    });
  };

  var handleFormSubmit = function() {
    var options = $.deck('getOptions');
    var $form = $(options.selectors.gotoForm);

    $form.unbind('submit.deckgoto');
    $form.bind('submit.deckgoto', function(event) {
      var $field = $(options.selectors.gotoInput);
      var indexOrId = $field.val();
      var index = parseInt(indexOrId, 10);

      if (!options.countNested) {
        if (!isNaN(index) && index >= rootCounter) {
          return false;
        }
        $.each($.deck('getSlides'), function(i, $slide) {
          if ($slide.data('rootIndex') === index) {
            index = i + 1;
            return false;
          }
        });
      }

      $.deck('go', isNaN(index) ? indexOrId : index - 1);
      $.deck('hideGoTo');
      $field.val('');
      event.preventDefault();
    });
  };

  /*
  Extends defaults/options.

  options.classes.goto
    This class is added to the deck container when showing the Go To Slide
    form.

  options.selectors.gotoDatalist
    The element that matches this selector is the datalist element that will
    be populated with options for each of the slide ids.  In browsers that
    support the datalist element, this provides a drop list of slide ids to
    aid the user in selecting a slide.

  options.selectors.gotoForm
    The element that matches this selector is the form that is submitted
    when a user hits enter after typing a slide number/id in the gotoInput
    element.

  options.selectors.gotoInput
    The element that matches this selector is the text input field for
    entering a slide number/id in the Go To Slide form.

  options.keys.goto
    The numeric keycode used to show the Go To Slide form.

  options.countNested
    If false, only top level slides will be counted when entering a
    slide number.
  */
  $.extend(true, $.deck.defaults, {
    classes: {
      goto: 'deck-goto'
    },

    selectors: {
      gotoDatalist: '#goto-datalist',
      gotoForm: '.goto-form',
      gotoInput: '#goto-slide'
    },

    keys: {
      goto: 71 // g
    },

    countNested: true
  });

  /*
  jQuery.deck('showGoTo')

  Shows the Go To Slide form by adding the class specified by the goto class
  option to the deck container.
  */
  $.deck('extend', 'showGoTo', function() {
    var options = $.deck('getOptions');
    $.deck('getContainer').addClass(options.classes.goto);
    $(options.selectors.gotoForm).attr('aria-hidden', false);
    $(options.selectors.gotoInput).focus();
  });

  /*
  jQuery.deck('hideGoTo')

  Hides the Go To Slide form by removing the class specified by the goto class
  option from the deck container.
  */
  $.deck('extend', 'hideGoTo', function() {
    var options = $.deck('getOptions');
    $(options.selectors.gotoInput).blur();
    $.deck('getContainer').removeClass(options.classes.goto);
    $(options.selectors.gotoForm).attr('aria-hidden', true);
  });

  /*
  jQuery.deck('toggleGoTo')

  Toggles between showing and hiding the Go To Slide form.
  */
  $.deck('extend', 'toggleGoTo', function() {
    var options = $.deck('getOptions');
    var hasGotoClass = $.deck('getContainer').hasClass(options.classes.goto);
    $.deck(hasGotoClass ? 'hideGoTo' : 'showGoTo');
  });

  $document.bind('deck.init', function() {
    bindKeyEvents();
    populateDatalist();
    markRootSlides();
    handleFormSubmit();
  });
})(jQuery);

/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*!
Deck JS - deck.status
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license.
https://github.com/imakewebthings/deck.js/blob/master/MIT-license.txt
*/

/*
This module adds a (current)/(total) style status indicator to the deck.
*/
(function($, undefined) {
  var $document = $(document);
  var rootCounter;

  var updateCurrent = function(event, from, to) {
    var options = $.deck('getOptions');
    var currentSlideNumber = to + 1;
    if (!options.countNested) {
      currentSlideNumber = $.deck('getSlide', to).data('rootSlide');
    }
    $(options.selectors.statusCurrent).text(currentSlideNumber);
  };

  var markRootSlides = function() {
    var options = $.deck('getOptions');
    var slideTest = $.map([
      options.classes.before,
      options.classes.previous,
      options.classes.current,
      options.classes.next,
      options.classes.after
    ], function(el, i) {
      return '.' + el;
    }).join(', ');

    rootCounter = 0;
    $.each($.deck('getSlides'), function(i, $slide) {
      var $parentSlides = $slide.parentsUntil(
        options.selectors.container,
        slideTest
      );

      if ($parentSlides.length) {
        $slide.data('rootSlide', $parentSlides.last().data('rootSlide'));
      }
      else {
        ++rootCounter;
        $slide.data('rootSlide', rootCounter);
      }
    });
  };

  var setInitialSlideNumber = function() {
    var slides = $.deck('getSlides');
    var $currentSlide = $.deck('getSlide');
    var index;

    $.each(slides, function(i, $slide) {
      if ($slide === $currentSlide) {
        index = i;
        return false;
      }
    });
    updateCurrent(null, index, index);
  };

  var setTotalSlideNumber = function() {
    var options = $.deck('getOptions');
    var slides = $.deck('getSlides');

    if (options.countNested) {
      $(options.selectors.statusTotal).text(slides.length);
    }
    else {
      $(options.selectors.statusTotal).text(rootCounter);
    }
  };

  /*
  Extends defaults/options.

  options.selectors.statusCurrent
    The element matching this selector displays the current slide number.

  options.selectors.statusTotal
    The element matching this selector displays the total number of slides.

  options.countNested
    If false, only top level slides will be counted in the current and
    total numbers.
  */
  $.extend(true, $.deck.defaults, {
    selectors: {
      statusCurrent: '.deck-status-current',
      statusTotal: '.deck-status-total'
    },

    countNested: true
  });

  $document.bind('deck.init', function() {
    markRootSlides();
    setInitialSlideNumber();
    setTotalSlideNumber();
  });
  $document.bind('deck.change', updateCurrent);
})(jQuery, 'deck');

/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*!
Deck JS - deck.navigation
Copyright (c) 2011-2014 Caleb Troughton
Dual licensed under the MIT license.
https://github.com/imakewebthings/deck.js/blob/master/MIT-license.txt
*/

/*
This module adds clickable previous and next links to the deck.
*/
(function($, undefined) {
  var $document = $(document);

  /* Updates link hrefs, and disabled states if last/first slide */
  var updateButtons = function(event, from, to) {
    var options = $.deck('getOptions');
    var lastIndex = $.deck('getSlides').length - 1;
    var $prevSlide = $.deck('getSlide', to - 1);
    var $nextSlide = $.deck('getSlide', to + 1);
    var hrefBase = window.location.href.replace(/#.*/, '');
    var prevId = $prevSlide ? $prevSlide.attr('id') : undefined;
    var nextId = $nextSlide ? $nextSlide.attr('id') : undefined;
    var $prevButton = $(options.selectors.previousLink);
    var $nextButton = $(options.selectors.nextLink);

    $prevButton.toggleClass(options.classes.navDisabled, to === 0);
    $prevButton.attr('aria-disabled', to === 0);
    $prevButton.attr('href', hrefBase + '#' + (prevId ? prevId : ''));
    $nextButton.toggleClass(options.classes.navDisabled, to === lastIndex);
    $nextButton.attr('aria-disabled', to === lastIndex);
    $nextButton.attr('href', hrefBase + '#' + (nextId ? nextId : ''));
  };

  /*
  Extends defaults/options.

  options.classes.navDisabled
    This class is added to a navigation link when that action is disabled.
    It is added to the previous link when on the first slide, and to the
    next link when on the last slide.

  options.selectors.nextLink
    The elements that match this selector will move the deck to the next
    slide when clicked.

  options.selectors.previousLink
    The elements that match this selector will move to deck to the previous
    slide when clicked.
  */
  $.extend(true, $.deck.defaults, {
    classes: {
      navDisabled: 'deck-nav-disabled'
    },

    selectors: {
      nextLink: '.deck-next-link',
      previousLink: '.deck-prev-link'
    }
  });

  $document.bind('deck.init', function() {
    var options = $.deck('getOptions');
    var slides = $.deck('getSlides');
    var $current = $.deck('getSlide');
    var $prevButton = $(options.selectors.previousLink);
    var $nextButton = $(options.selectors.nextLink);
    var index;

    // Setup prev/next link events
    $prevButton.unbind('click.decknavigation');
    $prevButton.bind('click.decknavigation', function(event) {
      $.deck('prev');
      event.preventDefault();
    });

    $nextButton.unbind('click.decknavigation');
    $nextButton.bind('click.decknavigation', function(event) {
      $.deck('next');
      event.preventDefault();
    });

    // Find where we started in the deck and set initial states
    $.each(slides, function(i, $slide) {
      if ($slide === $current) {
        index = i;
        return false;
      }
    });
    updateButtons(null, index, index);
  });

  $document.bind('deck.change', updateButtons);
})(jQuery);

/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*]]>*/
</script>
<script type="text/javascript">
/*<![CDATA[*/
/*]]>*/
</script>
</head>
<body class="deck-container">
<section class="slide" id="title-slide">
        <h1>DUT-Info/S3/M3105 (CPOA)</h1>
        <h3>Jean-Michel Bruel</h3>
        <h4>2015-11-15 - First draft</h4>
</section>
<section class="slide">
<h2>Introduction</h2>
<p>Ce cours porte sur la <strong>C</strong>onception et <strong>P</strong>rogrammation <strong>O</strong>bjet <strong>A</strong>vancée.</p>
<div class="sect2">
<h3 id="_concepts_bonnes_pratiques_et_patrons">1.1. Concepts, bonnes pratiques et patrons</h3>
<p>Vous avez appris (cf. M2103 et M2104) un certain nombre
de <strong>concepts objets</strong> :</p>
<ul>
<li class="">
Abstraction
</li>
<li class="">
Encapsulation
</li>
<li class="">
Polymorphisme
</li>
<li class="">
Héritage
</li>
</ul>
<p>Vous avez/allez ensuite appris des <strong>bonnes pratiques</strong> :</p>
<ul>
<li class="">
Identifier les aspects qui varient et les séparer des aspects constants
</li>
<li class="">
Programmer une interface, non une implémentation
</li>
<li class="">
Préférer la composition à l&#8217;héritage
</li>
<li class="">
Les classes doivent être ouvertes à l&#8217;extension, mais fermées à la modification
</li>
<li class="">
Dépendez d&#8217;abstractions. Ne dépendez pas de classes concrètes (inversion des dépendances)
</li>
<li class="">
Ne parlez pas aux inconnus
</li>
</ul>
<p>L'étape suivante consiste à apprendre les bonnes solutions de
conception, ce qu&#8217;on appelle les <strong>patrons de conception</strong>
(ou <em>design patterns</em> en anglais).</p>
</div>
<div class="sect2">
<h3 id="_organisation">1.2. Organisation</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">
<p>Rappel du rythme : 1 cours, 1 TD et 2 TPs par semaine. Pendant 8 semaines.</p>
</td>
</tr></table>
</div>
<ul>
<li class="">
La première semaine est consacré au principe des patrons
de conception, en partant d&#8217;un exemple (cours en fin de semaine).
</li>
<li class="">
Les 5 ou 6 suivantes sont consacrées à l'étude de certains patrons classiques.
Mise en pratique sur des exercices en TP.
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">
<p>Les TPs sont décalés d&#8217;une semaine (conception et étude d&#8217;un ou
plusieurs patrons semaine <code>N</code> et mise en oeuvre en TP semaine <code>N+1</code>).</p>
</td>
</tr></table>
</div>
</li>
<li class="">
Les 2 ou 3 suivantes, les étudiants en mode projet pour faire du
<em>refactoring</em> d&#8217;applications réelles (conception aidée en TD sur
les modèles <a href="http://www.uml.org/">UML&#8482;</a>, mise en oeuvre en TP).
</li>
</ul>
<p>Voici une proposition de déroulement des semaines :</p>
<div class="dlist"><dl>
<dt class="hdlist1">
Semaine 1
</dt>
<dd>
<p>
  SuperCanard, le grand classique, <a href="#Stratégie">[Stratégie]</a>
</p>
</dd>
<dt class="hdlist1">
Semaine 2
</dt>
<dd>
<ul>
<li class="">
<a href="#Singleton">[Singleton]</a>
</li>
</ul>
</dd>
<dt class="hdlist1">
Semaine 3
</dt>
<dd>
<p>
Patrons <a href="#Fabrique">[Fabrique]</a>, Proxy, <a href="#Etat">[Etat]</a>
</p>
</dd>
<dt class="hdlist1">
Semaine 4
</dt>
<dd>
<ul>
<li class="">
<a href="#Observateur">[Observateur]</a>
<ul>
<li class="">
version intuitive (2 interfaces)
</li>
<li class="">
version Java (classe <code>Observable</code>)
</li>
</ul>
</li>
</ul>
</dd>
<dt class="hdlist1">
Semaine 5
</dt>
<dd>
<p>
  L&#8217;exemple de Meyer : menus en objet
</p>
</dd>
<dt class="hdlist1">
Semaine 6
</dt>
<dd>
<ul>
<li class="">
Patrons Décorateur, Façade, Visiteur
</li>
<li class="">
MVC avec l&#8217;exemple <code>JTable</code> de <a href="https://www.java.com/fr/">Java</a>
</li>
<li class="">
Patrons Chaîne de responsabilité (juste en cours)
</li>
</ul>
</dd>
<dt class="hdlist1">
Semaines 7 et 8
</dt>
<dd>
<ul>
<li class="">
Quelques idées de projet final :
<ul>
<li class="">
Refactorer un code généré par <a href="http://cruise.eecs.uottawa.ca/umple/">Umple</a>.
</li>
<li class="">
Refactorer le code de MPA (mais pas le leur, celui d&#8217;un autre groupe)
</li>
</ul>
</li>
</ul>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_evaluation_et_notation">1.3. Evaluation et notation</h3>
<p>Comme prévu par le <a href="http://webetud2.iut-blagnac.fr/pluginfile.php/1653/mod_resource/content/4/Contr%C3%B4les-2014-2015_S3.pdf">planning des contrôles</a>,
les étudiants auront :</p>
<ul>
<li class="">
une note de projet (TPs + projet final) &#8658; coef. 1
</li>
<li class="">
une note d&#8217;examen final (semaine 5) &#8658; coef. 2
<div class="literalblock">
<div class="content">
<pre><tt>x</tt></pre>
</div></div>
</li>
</ul>
</div>
</section>
<section class="slide">
<h2>Rappels sur des éléments Java importants</h2>
</section>
<section class="slide">
<h2>Importance du typage</h2>
<div class="sect2">
<h3 id="_différents_types_de_typage">3.1. Différents types de typage</h3>
<p>Le fait d&#8217;attribuer un type (une classe) à une variable (un objet)
peut se faire de plusieurs façons :</p>
<ul>
<li class="">
statique
</li>
<li class="">
dynamique
</li>
<li class="">
<em>duck typing</em>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_typage_statique">3.2. Typage statique</h3>
<p>On parle de <strong>typage statique</strong> quand la majorité des vérifications de type
sont effectuées au moment de la <strong>compilation</strong>.</p>
<div class="listingblock">
<div class="title">Exemple de typage statique</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>  <span style="font-style: italic"><span style="color: #9A1900">// cette déclaration indique explicitement que</span></span>
            <span style="font-style: italic"><span style="color: #9A1900">// la variable i est de type entier</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_typage_dynamique">3.3. Typage dynamique</h3>
<p>Le <strong>typage dynamique</strong> consiste à laisser l&#8217;ordinateur réaliser
l&#8217;opération de typage <em>à la volée</em>, <strong>lors de l&#8217;exécution du code</strong>.</p>
<div class="listingblock">
<div class="title">Exemple de typage dynamique</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@author</span><span style="font-style: italic"><span style="color: #9A1900"> André Peninou</span></span>
<span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Type</span> <span style="color: #FF0000">{</span>
  <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">m</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(</span><span style="color: #FF0000">"Type"</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SousType</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Type <span style="color: #FF0000">{</span>
  <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">m</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(</span><span style="color: #FF0000">"SousType"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
  <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">autreM</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(</span><span style="color: #FF0000">"Spécifique SousType"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">...</span>
    <span style="color: #008080">Type</span> a <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Type</span></span><span style="color: #990000">();</span>
    a<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">m</span></span><span style="color: #990000">();</span> <span style="font-style: italic"><span style="color: #9A1900">// "Type"</span></span>

    a <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SousType</span></span><span style="color: #990000">();</span>
    a<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">m</span></span><span style="color: #990000">();</span> <span style="font-style: italic"><span style="color: #9A1900">// "SousType"</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">// Statique : a est un Type (à la compil)</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">// Dynamique : a est un SousType au runtime.</span></span>

    <span style="font-style: italic"><span style="color: #9A1900">// D'où :</span></span>
    a <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SousType</span></span><span style="color: #990000">();</span>
    a<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">autreM</span></span><span style="color: #990000">();</span>
    <span style="font-style: italic"><span style="color: #9A1900">// NOK car type statique == A =&gt; autreM() n'existe pas à la compilation</span></span>
<span style="color: #990000">...</span>
</tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_em_duck_typing_em">3.4. <em>Duck typing</em></h3>
<p>Style de <strong>typage dynamique</strong> où la <strong>sémantique</strong> d&#8217;un objet (c&#8217;est-à-dire son type)
est déterminée par l&#8217;ensemble de ses <strong>méthodes</strong> et de ses <strong>attributs</strong>,
et non par un type défini et nommé explicitement par le programmeur.</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">
<p>L&#8217;origine de cette expression est liée à cette citation :</p>
<blockquote class="">
  <p>Si je vois un animal qui vole comme un canard, cancane comme un canard,
et nage comme un canard, alors j&#8217;appelle cet oiseau un canard.</p>
  <p><cite>-- James Whitcomb Riley </cite></p>
</blockquote>
</td>
</tr></table>
</div>
<div class="listingblock">
<div class="title">Exemple de <em>duck typing</em> en Ruby</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> calcule<span style="color: #990000">(</span>a<span style="color: #990000">,</span> b<span style="color: #990000">,</span> c<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> a<span style="color: #990000">*</span>b<span style="color: #990000">+</span>c
<span style="font-weight: bold"><span style="color: #0000FF">end</span></span>

<span style="color: #009900">$a</span> <span style="color: #990000">=</span> calcule<span style="color: #990000">(</span><span style="color: #993399">6</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>
<span style="color: #009900">$b</span> <span style="color: #990000">=</span> calcule<span style="color: #990000">(</span><span style="color: #FF0000">'6'</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> <span style="color: #FF0000">', the number of the beast'</span><span style="color: #990000">)</span>

puts <span style="color: #009900">$a</span><span style="color: #990000">.</span>to_s
puts <span style="color: #009900">$b</span><span style="color: #990000">.</span>to_s</tt></pre></div></div>
<p>Ce qui donne :</p>
<div class="literalblock">
<div class="content">
<pre><tt>20
666, the number of the beast</tt></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Pour aller plus loin : <a href="http://fr.wikipedia.org/wiki/Duck_typing">http://fr.wikipedia.org/wiki/Duck_typing</a></td>
</tr></table>
</div>
</div>
</section>
<section class="slide">
<h2>Importance de la visibilité</h2>
<p>Dès que l&#8217;on commence à avoir une application conséquente, l&#8217;organisation
en <em>package</em> devient obligatoire. Revenons donc sur les questions de
<strong>visibilité</strong> des propriétés et méthodes, qui seront importants dans la plupart
des aspects de ce module.</p>
<p>Si un champ d&#8217;une classe <code>A</code> :</p>
<ul>
<li class="">
est <em>private</em>, il est accessible uniquement depuis sa propre classe ;
</li>
<li class="">
a la visibilité <em>package</em> (visibilité par défaut, pas de mot-clef), il est accessible de partout dans
le paquetage de <code>A</code> mais de nulle part ailleurs ;
</li>
<li class="">
est <em>protected</em>, il est accessible de partout dans le paquetage de <code>A</code> et,
si <code>A</code> est publique, grosso modo dans les classes héritant de <code>A</code> dans d&#8217;autres
paquetages ;
</li>
<li class="">
est <em>public</em>, il est accessible de partout dans le paquetage de <code>A</code> et,
si <code>A</code> est publique, de partout ailleurs.
</li>
</ul>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Ci-dessus, les niveaux de visibilité sont rangés par visibilité croissante.</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">package</span></span> UN<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">A</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">protected</span></span> <span style="color: #008080">String</span> attrprotected<span style="color: #990000">;</span>
  <span style="color: #008080">String</span> attrfriend<span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// friend</span></span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<p>Si on définit une deuxième classe dans le même <em>package</em> :</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">package</span></span> UN<span style="color: #990000">;</span>
  <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">B</span> <span style="color: #FF0000">{</span>
    <span style="color: #990000">...</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #008080">A</span> a <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">A</span></span> <span style="color: #990000">();</span>
        a<span style="color: #990000">.</span>attrprotected<span style="font-style: italic"><span style="color: #9A1900">// OK : même si bizarre</span></span>
        a<span style="color: #990000">.</span>attrfriend  <span style="font-style: italic"><span style="color: #9A1900">// OK : visible package</span></span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #000080">package</span></span> UN<span style="color: #990000">;</span>
  <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">C</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> A <span style="color: #FF0000">{</span>
    <span style="color: #990000">...</span>
    <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>attrprotected<span style="font-style: italic"><span style="color: #9A1900">// OK : normal</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>attrfriend <span style="font-style: italic"><span style="color: #9A1900">// OK : visible package</span></span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">package</span></span> DEUX<span style="color: #990000">;</span>
  <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">B</span> <span style="color: #FF0000">{</span>
      <span style="color: #990000">...</span>
    <span style="color: #FF0000">{</span>
        <span style="color: #008080">A</span> a <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">A</span></span> <span style="color: #990000">();</span>
        a<span style="color: #990000">.</span>attrprotected<span style="font-style: italic"><span style="color: #9A1900">// NON OK : normal</span></span>
        a<span style="color: #990000">.</span>attrfriend  <span style="font-style: italic"><span style="color: #9A1900">// NON OK : normal, proche de "private"</span></span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">C</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> A <span style="color: #FF0000">{</span>
      <span style="color: #990000">...</span>
    <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>attrprotected<span style="font-style: italic"><span style="color: #9A1900">// OK : normal car protected et héritage</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>attrfriend <span style="font-style: italic"><span style="color: #9A1900">// NON OK : normal, proche de "private"</span></span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span></tt></pre></div></div>
<p>À la question <code>private</code> ou <code>protected</code> ? Quel est le mieux pour les attributs ?</p>
<ul>
<li class="">
C&#8217;est une question de <strong>style de programmation</strong> !
</li>
<li class="">
Puristes (Meyer) &#8658; <code>private</code>
</li>
<li class="">
Parfois utile : cf. <em>Strategy</em>, évite les getters/setters
</li>
</ul>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Il n&#8217;y a pas de visibilité par défaut en <a href="http://www.uml.org/">UML&#8482;</a>.</td>
</tr></table>
</div>
</section>
<section class="slide">
<h2>Retour sur les Membres <code>static</code></h2>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">VariableDemo</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">int</span> count<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">increment</span></span><span style="color: #990000">()</span>
  <span style="color: #FF0000">{</span>
    count<span style="color: #990000">++;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> args<span style="color: #990000">[])</span>
  <span style="color: #FF0000">{</span>
    <span style="color: #008080">VariableDemo</span> obj1<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">VariableDemo</span></span><span style="color: #990000">();</span>
    <span style="color: #008080">VariableDemo</span> obj2<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">VariableDemo</span></span><span style="color: #990000">();</span>
    obj1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">increment</span></span><span style="color: #990000">();</span>
    obj2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">increment</span></span><span style="color: #990000">();</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Obj1: count is="</span><span style="color: #990000">+</span>obj1<span style="color: #990000">.</span>count<span style="color: #990000">);</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Obj2: count is="</span><span style="color: #990000">+</span>obj2<span style="color: #990000">.</span>count<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<p>Output:</p>
<div class="literalblock">
<div class="content">
<pre><tt>Obj1: count is=2
Obj2: count is=2</tt></pre>
</div></div>
<div class="sect2">
<h3 id="_membres_code_static_code_suite">5.1. Membres <code>static</code> (suite)</h3>
<p>Comment ça marche :</p>
<ul>
<li class="">
Les variables <code>static</code> sont initialisées au chargement de la classe.
</li>
<li class="">
Les variables <code>static</code> d&#8217;une classe sont
initialisées avant que la moindre instance ne soit créée.
</li>
<li class="">
Les variables <code>static</code> sont initialisées avant que la moindre méthode <code>static</code> ne s&#8217;exécute.
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_méthodes_code_static_code">5.2. Méthodes <code>static</code></h3>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>lang<span style="color: #990000">.</span>Math<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Another</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="color: #009900">int</span> result<span style="color: #990000">;</span>

    result <span style="color: #990000">=</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">min</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">,</span> <span style="color: #993399">20</span><span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">//calling static method min by writing class name</span></span>

    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>result<span style="color: #990000">);</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">max</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">,</span> <span style="color: #993399">200</span><span style="color: #990000">));</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</section>
<section class="slide">
<h2>Utilité générale des <code>enum</code></h2>
<div class="sect2">
<h3 id="_modélisation">6.1. Modélisation</h3>
<p>Le type enumération est souvent utilisé en modélisation :</p>
<div class="imageblock">
<div class="content">
<img src="images/enum.png" alt="width=30%">
</div>
<div class="title" style="text-align: center">Figure 1. Exemple de classe Enumeration en UML</div>
</div>
</div>
<div class="sect2">
<h3 id="_propriétés">6.2. Propriétés</h3>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">enum</span> Civilite <span style="color: #FF0000">{</span>
  MADAME<span style="color: #990000">,</span> MONSIEUR
<span style="color: #FF0000">}</span></tt></pre></div></div>
<ul>
<li class="">
Chaque élément d&#8217;une énumération est un objet à part entière
</li>
<li class="">
Les objets <code>enum</code> héritent de <code>java.lang.Enum</code>
</li>
<li class="">
On peut compléter les comportements des objets en ajoutant des méthodes
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_méthodes_de_base">6.3. Méthodes de base</h3>
<ul>
<li class="">
<code>toString()</code>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>Civilite<span style="color: #990000">.</span>MADAME<span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">//MADAME</span></span></tt></pre></div></div>
</li>
<li class="">
<code>valueOf()</code>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">Civilite</span> civilite <span style="color: #990000">=</span> Civilite<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">valueOf</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"MONSIEUR"</span><span style="color: #990000">)</span> <span style="color: #990000">;</span></tt></pre></div></div>
</li>
<li class="">
<code>values()</code>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>Civilite<span style="color: #990000">[]</span> civilites <span style="color: #990000">=</span> Civilite<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">values</span></span><span style="color: #990000">()</span> <span style="color: #990000">;</span></tt></pre></div></div>
</li>
<li class="">
<code>ordinal()</code>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">Civilite</span> civilite <span style="color: #990000">=</span> Civilite<span style="color: #990000">.</span>MONSIEUR <span style="color: #990000">;</span>
System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Civilite : "</span> <span style="color: #990000">+</span> civilite <span style="color: #990000">+</span> <span style="color: #FF0000">" ["</span> <span style="color: #990000">+</span> civilite<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ordinal</span></span><span style="color: #990000">()</span> <span style="color: #990000">+</span> <span style="color: #FF0000">"]"</span><span style="color: #990000">)</span> <span style="color: #990000">;</span>
<span style="font-style: italic"><span style="color: #9A1900">// Civilite : MONSIEUR [1]</span></span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Le 1er numéro d&#8217;ordre est 0.</td>
</tr></table>
</div>
</li>
<li class="">
<code>compareTo()</code>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>Civilite<span style="color: #990000">.</span>MADAME<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>Civilite<span style="color: #990000">.</span>MONSIEUR<span style="color: #990000">))</span> <span style="color: #990000">;</span>
<span style="font-style: italic"><span style="color: #9A1900">// -1</span></span></tt></pre></div></div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_exemple_plus_complexe">6.4. Exemple plus complexe</h3>
<div class="listingblock">
<div class="title">(source : <a href="http://openclassrooms.com/courses/apprenez-a-programmer-en-java/les-enumerations-1">http://openclassrooms.com/courses/apprenez-a-programmer-en-java/les-enumerations-1</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">enum</span> Langage <span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">//Objets directement construits</span></span>
  <span style="font-weight: bold"><span style="color: #000000">JAVA</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Langage JAVA"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Eclipse"</span><span style="color: #990000">),</span>
  <span style="font-weight: bold"><span style="color: #000000">C</span></span> <span style="color: #990000">(</span><span style="color: #FF0000">"Lanage C"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Code Block"</span><span style="color: #990000">),</span>
  <span style="font-weight: bold"><span style="color: #000000">CPlus</span></span> <span style="color: #990000">(</span><span style="color: #FF0000">"Langage C++"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"Visual studio"</span><span style="color: #990000">),</span>
  <span style="font-weight: bold"><span style="color: #000000">PHP</span></span> <span style="color: #990000">(</span><span style="color: #FF0000">"Langage PHP"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"PS Pad"</span><span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">String</span> name <span style="color: #990000">=</span> <span style="color: #FF0000">""</span><span style="color: #990000">;</span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">String</span> editor <span style="color: #990000">=</span> <span style="color: #FF0000">""</span><span style="color: #990000">;</span>

  <span style="font-style: italic"><span style="color: #9A1900">//Constructeur</span></span>
  <span style="font-weight: bold"><span style="color: #000000">Langage</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> name<span style="color: #990000">,</span> <span style="color: #008080">String</span> editor<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>name <span style="color: #990000">=</span> name<span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>editor <span style="color: #990000">=</span> editor<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">getEditor</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Editeur : "</span> <span style="color: #990000">+</span> editor<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span><span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> name<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> args<span style="color: #990000">[])</span><span style="color: #FF0000">{</span>
    <span style="color: #008080">Langage</span> l1 <span style="color: #990000">=</span> Langage<span style="color: #990000">.</span>JAVA<span style="color: #990000">;</span>
    <span style="color: #008080">Langage</span> l2 <span style="color: #990000">=</span> Langage<span style="color: #990000">.</span>PHP<span style="color: #990000">;</span>

    l1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getEditor</span></span><span style="color: #990000">();</span>
    l2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getEditor</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</section>
<section class="slide">
<h2>Construire ses applications</h2>
<p>Pour générer un programme, une documentation, à partir des sources, on peut :</p>
<ul>
<li class="">
Soit utiliser un environnement intégré comme <a href="http://www.eclipse.org">eclipse</a>
</li>
<li class="">
Soit construire les sorties (on parle de <strong><em>Build</em></strong>) à partir des sources
</li>
</ul>
<p>Nous nous intéressons dans cette section à cette deuxième catégorie.</p>
<p>Il existe plusieurs outils :</p>
<ul>
<li class="">
les scripts (shell Unix et .bat Windows)
</li>
<li class="">
<a href="#make">[make]</a>
</li>
<li class="">
<a href="#ant">[ant]</a>
</li>
<li class="">
<a href="#Maven">[Maven]</a>
</li>
<li class="">
<a href="#Ivy">[Ivy]</a>
</li>
<li class="">
<a href="#Graddle">[Graddle]</a>
</li>
</ul>
<div class="sect2">
<h3 id="_les_scripts">7.1. Les scripts</h3>
<div class="listingblock">
<div class="title">Un script shell</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">#!/bin/sh</span></span>
<span style="color: #009900">UML</span><span style="color: #990000">=</span><span style="color: #FF0000">'model.uml'</span>
<span style="color: #009900">TYPE</span><span style="color: #990000">=</span><span style="color: #FF0000">'PNG'</span>
<span style="color: #009900">DOCLETPATH</span><span style="color: #990000">=</span><span style="color: #FF0000">'/Users/bruel/dev/teaching/dut/cpoa/doclet'</span>
<span style="color: #009900">PUMLPATH</span><span style="color: #990000">=</span><span style="color: #FF0000">'/Users/bruel/dev/teaching/dut/cpoa/util'</span>
echo <span style="color: #FF0000">"Creating $UML..."</span>

javadoc <span style="color: #990000">\</span>
-private <span style="color: #990000">\</span>
-quiet <span style="color: #990000">\</span>
-J-DdestinationFile<span style="color: #990000">=</span><span style="color: #009900">$UML</span> <span style="color: #990000">\</span>
-J-DcreatePackages<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span> <span style="color: #990000">\</span>
-J-DshowPublicMethods<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span> <span style="color: #990000">\</span>
-J-DshowPublicConstructors<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span> <span style="color: #990000">\</span>
-J-DshowPublicFields<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span> <span style="color: #990000">\</span>
-doclet de<span style="color: #990000">.</span>mallox<span style="color: #990000">.</span>doclet<span style="color: #990000">.</span>PlantUMLDoclet -docletpath <span style="color: #009900">$DOCLETPATH</span>/plantUmlDoclet<span style="color: #990000">.</span>jar <span style="color: #990000">\</span>
-sourcepath src src<span style="color: #990000">/**</span>
echo <span style="color: #FF0000">"Done."</span>

<span style="color: #009900">TYPE</span><span style="color: #990000">=</span><span style="color: #FF0000">'png'</span>
echo <span style="color: #FF0000">"Converting $UML to $TYPE..."</span>
java -jar <span style="color: #009900">$PUMLPATH</span>/plantuml<span style="color: #990000">.</span>jar <span style="color: #990000">\</span>
  -config <span style="color: #009900">$PUMLPATH</span>/config<span style="color: #990000">.</span>cfg <span style="color: #990000">\</span>
  -t <span style="color: #009900">$TYPE</span> <span style="color: #009900">$UML</span>
echo <span style="color: #FF0000">"Done."</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Un script batch Windows</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">set</span></span> <span style="color: #009900">UML</span><span style="color: #990000">=</span>TD1<span style="color: #990000">.</span>uml
<span style="font-weight: bold"><span style="color: #0000FF">set</span></span> <span style="color: #009900">TYPE</span><span style="color: #990000">=</span><span style="color: #FF0000">'PNG'</span>
<span style="font-weight: bold"><span style="color: #0000FF">set</span></span> <span style="color: #009900">DOCLETPATH</span><span style="color: #990000">=</span>E<span style="color: #990000">:\</span>IUT-S<span style="color: #993399">3</span><span style="color: #990000">\</span>CPOA<span style="color: #990000">\</span>TP1<span style="color: #990000">\</span>SuperCanardBof
echo <span style="color: #FF0000">"Creating %UML%..."</span>
rem javadoc -private -quiet -J-DdestinationFile<span style="color: #990000">=%</span>UML<span style="color: #990000">%</span> -J-DcreatePackages<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span> -J-DshowPublicMethods<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span> -J-DshowPublicConstructors<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span> -J-DshowPublicFields<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span> -doclet de<span style="color: #990000">.</span>mallox<span style="color: #990000">.</span>doclet<span style="color: #990000">.</span>PlantUMLDoclet -docletpath <span style="color: #990000">%</span>DOCLETPATH<span style="color: #990000">%\</span>plantUmlDoclet<span style="color: #990000">.</span>jar src<span style="color: #990000">\</span>canard<span style="color: #990000">\*.</span>java
echo <span style="color: #FF0000">"Done."</span>

javadoc -J-DdestinationFile<span style="color: #990000">=%</span>UML<span style="color: #990000">%</span> -J-DcreatePackages<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span> -J-DshowPublicMethods<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span> -J-DshowPublicConstructors<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">false</span></span> -J-DshowPublicFields<span style="color: #990000">=</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span> -doclet de<span style="color: #990000">.</span>mallox<span style="color: #990000">.</span>doclet<span style="color: #990000">.</span>PlantUMLDoclet -docletpath plantUmlDoclet<span style="color: #990000">.</span>jar src<span style="color: #990000">\</span>appli<span style="color: #990000">\*.</span>java src<span style="color: #990000">\</span>armes<span style="color: #990000">\*.</span>java src<span style="color: #990000">\</span>armes<span style="color: #990000">\</span>impl<span style="color: #990000">\*.</span>java

<span style="font-weight: bold"><span style="color: #0000FF">set</span></span> <span style="color: #009900">TYPE</span><span style="color: #990000">=</span><span style="color: #FF0000">'png'</span>
echo <span style="color: #FF0000">"Converting %UML% to $TYPE..."</span>
java -jar <span style="color: #990000">%</span>DOCLETPATH<span style="color: #990000">%\</span>plantuml<span style="color: #990000">.</span>jar -config <span style="color: #FF0000">"%DOCLETPATH%</span><span style="color: #CC33CC">\c</span><span style="color: #FF0000">onfig.cfg"</span> -t <span style="color: #990000">%</span>TYPE<span style="color: #990000">%</span> <span style="color: #990000">%</span>UML<span style="color: #990000">%</span>
echo <span style="color: #FF0000">"Done."</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Avantages
</dt>
<dd>
<ul>
<li class="">
Faciles
</li>
<li class="">
Rapides
</li>
<li class="">
Beaucoup d&#8217;exemples
</li>
</ul>
</dd>
<dt class="hdlist1">
Inconvénients
</dt>
<dd>
<ul>
<li class="">
Pas portables sur d&#8217;autres systèmes (no comment ;-)
</li>
<li class="">
Peu lisibles
</li>
<li class="">
Peu évolutifs
</li>
</ul>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="make">7.2. make</h3>
<div class="listingblock">
<div class="title">Un Makefile pour générer ces cours</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">    1:</span> <span style="font-style: italic"><span style="color: #9A1900">#-----------------------------------------------------</span></span>
<span style="color: #000000">    2:</span> <span style="color: #009900">ICONSDIR</span><span style="color: #990000">=</span>images/icons
<span style="color: #000000">    3:</span> <span style="color: #009900">IMAGESDIR</span><span style="color: #990000">=</span>images
<span style="color: #000000">    4:</span> <span style="color: #009900">STYLE</span><span style="color: #990000">=</span>/Users/bruel/Dropbox/Public/dev/asciidoc/stylesheets/golo-jmb<span style="color: #990000">.</span>css
<span style="color: #000000">    5:</span> <span style="color: #009900">DOCTOR</span><span style="color: #990000">=</span>asciidoctor -a icons -a <span style="color: #009900">iconsdir</span><span style="color: #990000">=</span><span style="color: #009900">$(ICONSDIR)</span> -a <span style="color: #009900">images</span><span style="color: #990000">=</span><span style="color: #009900">$(IMAGESDIR)</span> -a source-highlighter<span style="color: #990000">=</span><span style="color: #009900">$(HIGHLIGHT)</span>
<span style="color: #000000">    6:</span> <span style="color: #009900">DECK</span><span style="color: #990000">=</span>swiss
<span style="color: #000000">    7:</span> <span style="color: #009900">EXT</span><span style="color: #990000">=</span>asc
<span style="color: #000000">    8:</span> <span style="color: #009900">PANDOC</span><span style="color: #990000">=</span>pandoc
<span style="color: #000000">    9:</span> <span style="color: #009900">OUTPUT</span><span style="color: #990000">=.</span>
<span style="color: #000000">   10:</span> <span style="color: #009900">DEP</span><span style="color: #990000">=</span>definitions<span style="color: #990000">.</span>txt glossaire<span style="color: #990000">.</span>txt refs<span style="color: #990000">.</span>txt
<span style="color: #000000">   11:</span> <span style="font-style: italic"><span style="color: #9A1900">#-----------------------------------------------------</span></span>
<span style="color: #000000">   12:</span>
<span style="color: #000000">   13:</span> all<span style="color: #990000">:</span> <span style="color: #009900">$(OUTPUT)</span><span style="color: #990000">/*.</span>html
<span style="color: #000000">   14:</span>
<span style="color: #000000">   15:</span> images<span style="color: #990000">/%.</span>png<span style="color: #990000">:</span> images<span style="color: #990000">/%.</span>plantuml
<span style="color: #000000">   16:</span> @echo <span style="color: #FF0000">'==&gt; Compiling plantUML files to generate PNG'</span>
<span style="color: #000000">   17:</span> java -jar plantuml<span style="color: #990000">.</span>jar <span style="color: #009900">$&lt;</span>
<span style="color: #000000">   18:</span>
<span style="color: #000000">   19:</span> <span style="color: #990000">%.</span>html<span style="color: #990000">:</span> <span style="color: #990000">%.</span><span style="color: #009900">$(EXT)</span> <span style="color: #009900">$(DEP)</span>
<span style="color: #000000">   20:</span> @echo <span style="color: #FF0000">'==&gt; Compiling asciidoc files with Asciidoctor to generate HTML'</span>
<span style="color: #000000">   21:</span> <span style="color: #009900">$(DOCTOR)</span> -a toc2 -b html5 -a numbered -a eleve <span style="color: #009900">$&lt;</span>
<span style="color: #000000">   22:</span>
<span style="color: #000000">   23:</span> <span style="color: #990000">%.</span>deckjs<span style="color: #990000">.</span>html<span style="color: #990000">:</span> <span style="color: #990000">%.</span><span style="color: #009900">$(EXT)</span>  <span style="color: #009900">$(DEP)</span>
<span style="color: #000000">   24:</span> @echo <span style="color: #FF0000">'==&gt; Compiling asciidoc files to generate Deckjs'</span>
<span style="color: #000000">   25:</span> <span style="color: #009900">$(DOCTOR)</span> -T /Users/bruel/dev/asciidoctor-backends/haml/deckjs<span style="color: #990000">/</span> -a slides <span style="color: #990000">\</span>
<span style="color: #000000">   26:</span> -a data-uri -a <span style="color: #009900">deckjs_theme</span><span style="color: #990000">=</span><span style="color: #009900">$(DECK)</span> <span style="color: #990000">\</span>
<span style="color: #000000">   27:</span> -a icons -a <span style="color: #009900">iconsdir</span><span style="color: #990000">=</span><span style="color: #009900">$(ICONSDIR)</span> <span style="color: #990000">\</span>
<span style="color: #000000">   28:</span> -a <span style="color: #009900">images</span><span style="color: #990000">=</span><span style="color: #009900">$(IMAGESDIR)</span> -a prof -o <span style="color: #009900">$@</span> <span style="color: #009900">$&lt;</span>
<span style="color: #000000">   29:</span>
<span style="color: #000000">   30:</span> <span style="color: #990000">%</span>-sujet<span style="color: #990000">.</span>html<span style="color: #990000">:</span> <span style="color: #990000">%.</span><span style="color: #009900">$(EXT)</span> <span style="color: #009900">$(DEP)</span>
<span style="color: #000000">   31:</span> @echo <span style="color: #FF0000">'==&gt; Compiling asciidoc files with Asciidoctor to generate HTML'</span>
<span style="color: #000000">   32:</span> <span style="color: #009900">$(DOCTOR)</span> -a compact -a <span style="color: #009900">theme</span><span style="color: #990000">=</span>compact -b html5 -a numbered -a eleve <span style="color: #990000">\</span>
<span style="color: #000000">   33:</span> -a data-uri <span style="color: #009900">$&lt;</span> -o <span style="color: #009900">$@</span>
<span style="color: #000000">   34:</span>
<span style="color: #000000">   35:</span> <span style="color: #990000">%</span>-prof<span style="color: #990000">.</span>html<span style="color: #990000">:</span> <span style="color: #990000">%.</span><span style="color: #009900">$(EXT)</span> <span style="color: #009900">$(DEP)</span>
<span style="color: #000000">   36:</span> @echo <span style="color: #FF0000">'==&gt; Compiling asciidoc files with Asciidoctor to generate HTML'</span>
<span style="color: #000000">   37:</span> <span style="color: #009900">$(DOCTOR)</span> -a prof -a correction -a <span style="color: #009900">theme</span><span style="color: #990000">=</span>compact -b html5 -a numbered <span style="color: #990000">\</span>
<span style="color: #000000">   38:</span> -a data-uri <span style="color: #009900">$&lt;</span> -o <span style="color: #009900">$@</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">%.</span>html<span style="color: #990000">:</span> <span style="color: #990000">%.</span><span style="color: #009900">$(EXT)</span> <span style="color: #009900">$(DEP)</span>
@echo <span style="color: #FF0000">'==&gt; Compiling asciidoc files with Asciidoctor to generate HTML'</span>
<span style="color: #009900">$(DOCTOR)</span> -a toc2 -b html5 -a numbered -a eleve <span style="color: #009900">$&lt;</span></tt></pre></div></div>
<p>Exemple d&#8217;utilisation :</p>
<div class="literalblock">
<div class="content">
<pre><tt>$ make wip.html
==&gt; Compiling asciidoc files with Asciidoctor to generate HTML
asciidoctor -a icons -a iconsdir=images/icons -a images=images -a source-highlighter=pygments -a toc2 -b html5 -a numbered -a eleve wip.asc
...
$ make wip.html
make: 'wip.html' is up to date.</tt></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="ant">7.3. ant</h3>
<div class="listingblock">
<div class="title">build.xml</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">&lt;?xml</span></span> <span style="color: #009900">version</span><span style="color: #990000">=</span><span style="color: #FF0000">"1.0"</span> <span style="color: #009900">encoding</span><span style="color: #990000">=</span><span style="color: #FF0000">"UTF-8"</span> <span style="color: #009900">standalone</span><span style="color: #990000">=</span><span style="color: #FF0000">"no"</span><span style="font-weight: bold"><span style="color: #000080">?&gt;</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">&lt;project</span></span> <span style="color: #009900">default</span><span style="color: #990000">=</span><span style="color: #FF0000">"main"</span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"EssaiBuild"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;target</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"main"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;echo</span></span> <span style="color: #009900">message</span><span style="color: #990000">=</span><span style="color: #FF0000">"Version d'Ant utilisée: ${ant.version}"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;javadoc</span></span> <span style="color: #009900">doclet</span><span style="color: #990000">=</span><span style="color: #FF0000">"de.mallox.doclet.PlantUMLDoclet"</span>
    <span style="color: #009900">docletpath</span><span style="color: #990000">=</span><span style="color: #FF0000">"plantUmlDoclet.jar"</span>
    <span style="color: #009900">access</span><span style="color: #990000">=</span><span style="color: #FF0000">"private"</span>
    <span style="color: #009900">additionalparam</span><span style="color: #990000">=</span>
    <span style="color: #FF0000">"-encoding utf-8 -J-DdestinationFile=uml.txt -J-DcreatePackages=false -J-DshowPublicMethods=true -J-DshowPublicConstructors=false -J-DshowPublicFields=true"</span>
    <span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
      <span style="font-weight: bold"><span style="color: #0000FF">&lt;packageset</span></span> <span style="color: #009900">dir</span><span style="color: #990000">=</span><span style="color: #FF0000">"../src"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">&lt;include</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"**"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
      <span style="font-weight: bold"><span style="color: #0000FF">&lt;/packageset&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;/javadoc&gt;</span></span>

    <span style="font-weight: bold"><span style="color: #0000FF">&lt;java</span></span> <span style="color: #009900">jar</span><span style="color: #990000">=</span><span style="color: #FF0000">"plantuml.jar"</span> <span style="color: #009900">fork</span><span style="color: #990000">=</span><span style="color: #FF0000">"true"</span> <span style="color: #009900">maxmemory</span><span style="color: #990000">=</span><span style="color: #FF0000">"128m"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
      <span style="font-weight: bold"><span style="color: #0000FF">&lt;arg</span></span> <span style="color: #009900">value</span><span style="color: #990000">=</span><span style="color: #FF0000">"uml.txt"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;/java&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/target&gt;</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">&lt;/project&gt;</span></span></tt></pre></div></div>
<p>Exemple d&#8217;utilisation :</p>
<div class="literalblock">
<div class="content">
<pre><tt>$ ant main
Buildfile: build.xml
main:
[javadoc] Generating Javadoc
[javadoc] Javadoc execution
[javadoc] Loading source files for package pizzeriafactorysample...
[javadoc] Constructing Javadoc information...
[javadoc] PlantUMLDoclet.createPlantUml() -  start
[javadoc] open outputfile: uml.txt
[javadoc] write interfaces/ abstract classes...
[javadoc] write content...
...
[javadoc] skip association for Pizza --&gt; java.lang.String
[javadoc] skip association for Pizza --&gt; java.lang.String
[javadoc] skip association for Pizza --&gt; java.lang.String
[javadoc] skip association for Pizza --&gt; java.util.ArrayList
[javadoc] PlantUMLDoclet.createPlantUml() -  end
BUILD SUCCESSFUL
Total time: 9 seconds</tt></pre>
</div></div>
<p>Exemple d&#8217;tilisation dans <a href="http://www.eclipse.org">eclipse</a> pour la génération de fichier
du type <code>TD.uml</code> :</p>
<ol>
<li class="">
<p>
Créer un répertoire tools et mettre dedans :
</p>
<ul>
<li class="">
<code>Plantuml.jar</code>
</li>
<li class="">
<code>Plantumldoclet.jar</code>
</li>
<li class="">
<code>build.xml</code>
</li>
</ul>
</li>
<li class="">
<p>
Faire un btn:[Click_Droit] sur <code>build.xml</code> et chosir menu:Run_As[Ant Build &#8230;]
</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">
<p>Bien choisir celui avec les points de suspensions.</p>
<div class="imageblock">
<div class="content">
<img src="images/build.png" alt="build.png">
</div>
</div>
</td>
</tr></table>
</div>
</li>
<li class="">
<p>
Dans l&#8217;onglet <code>Environment</code> :
</p>
<ul>
<li class="">
Créer une nouvelle variable de nom <code>Path</code>
et de valeur : le répertoire de la JDK (où se trouve <code>javadoc</code> ou <code>javadoc.exe</code>)
</li>
</ul>
</li>
<li class="">
<p>
Exécuter btn:[Run]
</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Faire Refresh dans le navigateur pour voir les 2 fichiers générés
(<code>uml.txt</code> et <code>uml.png</code>).</td>
</tr></table>
</div>
</li>
<li class="">
<p>
Il suffit de faire un btn:[Click_Droit] sur <code>build.xml</code> et chosir menu:Run_As[Ant Build &#8230;]
(<strong>SANS</strong> les 3 points de suspensions) pour relancer la génération du diagramme.
</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="maven">7.4. Maven</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content"><a href="http://maven.apache.org/">Maven</a> est un outil <a href="https://www.java.com/fr/">Java</a>.</td>
</tr></table>
</div>
<blockquote class="">
  <p>Convention over Configuration</p>
</blockquote>
<p>Exemples de conventions :</p>
<ul>
<li class="">
le code source est supposé se trouver dans <code>${basedir}/src/main/java</code>
</li>
<li class="">
les différentes ressources dans <code>${basedir}/src/main/resources</code>
</li>
<li class="">
les tests dans <code>${basedir}/src/test</code>
</li>
<li class="">
un projet est supposé produire un fichier <code>JAR</code>
</li>
<li class="">
<a href="http://maven.apache.org/">Maven</a> suppose que vous voulez compiler en bytecode dans <code>${basedir}/target/classes</code>
</li>
<li class="">
et ensuite créer votre fichier <code>JAR</code> distribuable dans <code>${basedir}/target</code>
</li>
</ul>
<div class="listingblock">
<div class="title">pom.xml</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">&lt;project&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;modelVersion&gt;</span></span>4.0.0<span style="font-weight: bold"><span style="color: #0000FF">&lt;/modelVersion&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;groupId&gt;</span></span>org.sonatype.mavenbook<span style="font-weight: bold"><span style="color: #0000FF">&lt;/groupId&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;artifactId&gt;</span></span>my-project<span style="font-weight: bold"><span style="color: #0000FF">&lt;/artifactId&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;version&gt;</span></span>1.0<span style="font-weight: bold"><span style="color: #0000FF">&lt;/version&gt;</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">&lt;/project&gt;</span></span></tt></pre></div></div>
<p>La commande :</p>
<div class="literalblock">
<div class="content">
<pre><tt>$ mvn install</tt></pre>
</div></div>
<ul>
<li class="">
va traiter les ressources,
</li>
<li class="">
compiler le source,
</li>
<li class="">
exécuter les tests unitaires,
</li>
<li class="">
créer un JAR, et
</li>
<li class="">
installer ce JAR dans le dépôt local.
</li>
</ul>
<p>La commande :</p>
<div class="literalblock">
<div class="content">
<pre><tt>$ mvn site</tt></pre>
</div></div>
<p>va créer un fichier <code>index.html</code> dans <code>target/site</code> contenant des liens vers
la JavaDoc et quelques rapports sur votre code source.</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">
<p>Pour comparer, voici l'équivalent <a href="http://ant.apache.org/">ant</a> :</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">&lt;project</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"my-project"</span> <span style="color: #009900">default</span><span style="color: #990000">=</span><span style="color: #FF0000">"dist"</span> <span style="color: #009900">basedir</span><span style="color: #990000">=</span><span style="color: #FF0000">"."</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;description&gt;</span></span>
    simple example build file
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/description&gt;</span></span>
  <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- set global properties for this build --&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;property</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"src"</span> <span style="color: #009900">location</span><span style="color: #990000">=</span><span style="color: #FF0000">"src/main/java"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;property</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"build"</span> <span style="color: #009900">location</span><span style="color: #990000">=</span><span style="color: #FF0000">"target/classes"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;property</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"dist"</span>  <span style="color: #009900">location</span><span style="color: #990000">=</span><span style="color: #FF0000">"target"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">&lt;target</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"init"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- Create the time stamp --&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;tstamp/&gt;</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- Create the build directory structure used by compile --&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;mkdir</span></span> <span style="color: #009900">dir</span><span style="color: #990000">=</span><span style="color: #FF0000">"${build}"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/target&gt;</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">&lt;target</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"compile"</span> <span style="color: #009900">depends</span><span style="color: #990000">=</span><span style="color: #FF0000">"init"</span>
    <span style="color: #009900">description</span><span style="color: #990000">=</span><span style="color: #FF0000">"compile the source "</span> <span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- Compile the java code from ${src} into ${build} --&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;javac</span></span> <span style="color: #009900">srcdir</span><span style="color: #990000">=</span><span style="color: #FF0000">"${src}"</span> <span style="color: #009900">destdir</span><span style="color: #990000">=</span><span style="color: #FF0000">"${build}"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/target&gt;</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">&lt;target</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"dist"</span> <span style="color: #009900">depends</span><span style="color: #990000">=</span><span style="color: #FF0000">"compile"</span>
    <span style="color: #009900">description</span><span style="color: #990000">=</span><span style="color: #FF0000">"generate the distribution"</span> <span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- Create the distribution directory --&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;mkdir</span></span> <span style="color: #009900">dir</span><span style="color: #990000">=</span><span style="color: #FF0000">"${dist}/lib"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>

    <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- Put everything in ${build} into the MyProject-${DSTAMP}.jar file --&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;jar</span></span> <span style="color: #009900">jarfile</span><span style="color: #990000">=</span><span style="color: #FF0000">"${dist}/lib/MyProject-${DSTAMP}.jar"</span> <span style="color: #009900">basedir</span><span style="color: #990000">=</span><span style="color: #FF0000">"${build}"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/target&gt;</span></span>

  <span style="font-weight: bold"><span style="color: #0000FF">&lt;target</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"clean"</span>
    <span style="color: #009900">description</span><span style="color: #990000">=</span><span style="color: #FF0000">"clean up"</span> <span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- Delete the ${build} and ${dist} directory trees --&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;delete</span></span> <span style="color: #009900">dir</span><span style="color: #990000">=</span><span style="color: #FF0000">"${build}"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;delete</span></span> <span style="color: #009900">dir</span><span style="color: #990000">=</span><span style="color: #FF0000">"${dist}"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/target&gt;</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">&lt;/project&gt;</span></span></tt></pre></div></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="Ivy">7.5. Ivy</h3>
<div class="listingblock">
<div class="title">ivy.xml</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">&lt;ivy-module</span></span> <span style="color: #009900">version</span><span style="color: #990000">=</span><span style="color: #FF0000">"2.0"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;info</span></span> <span style="color: #009900">organisation</span><span style="color: #990000">=</span><span style="color: #FF0000">"org.apache"</span> <span style="color: #009900">module</span><span style="color: #990000">=</span><span style="color: #FF0000">"hello-ivy"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;dependencies&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;dependency</span></span> <span style="color: #009900">org</span><span style="color: #990000">=</span><span style="color: #FF0000">"commons-lang"</span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"commons-lang"</span> <span style="color: #009900">rev</span><span style="color: #990000">=</span><span style="color: #FF0000">"2.0"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;dependency</span></span> <span style="color: #009900">org</span><span style="color: #990000">=</span><span style="color: #FF0000">"commons-cli"</span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"commons-cli"</span> <span style="color: #009900">rev</span><span style="color: #990000">=</span><span style="color: #FF0000">"1.0"</span><span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/dependencies&gt;</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">&lt;/ivy-module&gt;</span></span></tt></pre></div></div>
<div class="listingblock">
<div class="title">build.xml</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">&lt;project</span></span> <span style="color: #009900">xmlns:ivy</span><span style="color: #990000">=</span><span style="color: #FF0000">"antlib:org.apache.ivy.ant"</span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"hello-ivy"</span> <span style="color: #009900">default</span><span style="color: #990000">=</span><span style="color: #FF0000">"run"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>

  ...

  <span style="font-style: italic"><span style="color: #9A1900">&lt;!-- =================================</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  target: resolve</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  ================================= --&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;target</span></span> <span style="color: #009900">name</span><span style="color: #990000">=</span><span style="color: #FF0000">"resolve"</span> <span style="color: #009900">description</span><span style="color: #990000">=</span><span style="color: #FF0000">"--&gt; retrieve dependencies with ivy"</span><span style="font-weight: bold"><span style="color: #0000FF">&gt;</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">&lt;ivy:retrieve</span></span> <span style="font-weight: bold"><span style="color: #0000FF">/&gt;</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">&lt;/target&gt;</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">&lt;/project&gt;</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_graddle">7.6. Graddle</h3>
<p><a href="http://www.gradle.org/">Gradle</a> combine la flexibilité de <a href="http://ant.apache.org/">ant</a> avec les conventions de <a href="http://maven.apache.org/">Maven</a> mais
évite les inconvénients de <code>XML</code>.</p>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content"></div></div>
<div class="literalblock">
<div class="content">
<pre><tt>$ gradle hello
:hello
Hello world!

BUILD SUCCESSFUL

Total time: 3.486 secs</tt></pre>
</div></div>
</div>
</section>
<h1 id="_design_patterns">Design patterns</h1>
<section class="slide">
<h2>Introduction : importance des patrons</h2>
<div class="imageblock">
<div class="content">
<img src="images/phdComics.png" alt="phdComics.png">
</div>
<div class="title" style="text-align: center">Figure 2. Les patrons : des réponses éprouvées à des problèmes récurrents</div>
</div>
<blockquote class="">
  <p>Science is what we understand well enough to explain to a computer.
Art is everything else we do.</p>
  <p><cite>-- Donald Knuth </cite></p>
</blockquote>
</section>
<section class="slide">
<h2>Point sur le TD Singleton</h2>
<div class="sect2">
<h3 id="_principes_de_conception">2.1. Principes de conception</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/yinyang.jpeg" alt="Note" />
</td>
<td class="content">
<div class="title">Principe de conception</div>
<blockquote class="">
  <p>Identifiez les apsects de votre code qui varient et
séparez-les de ceux qui demeurent constant.</p>
</blockquote>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/yinyang.jpeg" alt="Note" />
</td>
<td class="content">
<div class="title">Principe de conception</div>
<blockquote class="">
  <p>Programmer une interface, non une implémentation.</p>
</blockquote>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/yinyang.jpeg" alt="Note" />
</td>
<td class="content">
<div class="title">Principe de conception</div>
<blockquote class="">
  <p>Préférez la composition à l&#8217;héritage.</p>
</blockquote>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_premier_patron">2.2. Premier patron</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/pattern.jpeg" alt="Note" />
</td>
<td class="content">
<div class="title">Design pattern : <strong>Stratégie</strong> (<em>Strategy</em>)</div>
<p><strong>Stratégie</strong> définit une famille d&#8217;algorithmes, encapsule chacun d&#8217;eux et les
rend interchangeables.
Il permet à l&#8217;algorithme de varier indépendamment des clients qui l&#8217;utilisent.</p>
<div class="imageblock">
<div class="content">
<img src="images/strategy.png" alt="strategy.png">
</div>
<div class="title" style="text-align: center">Figure 3. Modèle UML du patron <em>Strategy</em></div>
</div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_premier_exemple_d_8217_utilisation_de_patron">2.3. Premier exemple d&#8217;utilisation de patron</h3>
<div class="imageblock">
<div class="content">
<a class="image" href="images/superCanardFinal.png">
<img src="images/superCanardFinal.png" alt="superCanardFinal.png">
</a>
</div>
<div class="title" style="text-align: center">Figure 4. Premier exemple d&#8217;utilisation de patron</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Pourquoi n&#8217;a-t&#8217;on pas utilisé <em>Strategy</em> pour <code>afficher()</code> ou <code>nager()</code>?</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_autre_exemple_concret">2.4. Autre exemple concret</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Cet exemple est tiré de
<a href="http://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns">ce cours</a>.</td>
</tr></table>
</div>
<p><strong>Le problème</strong></p>
<p>Vous avez une classe <code>FileWriter</code> qui a pour rôle d'écrire dans un fichier
ainsi qu&#8217;une classe <code>DBWriter</code>. Dans un premier temps, ces classes ne
contiennent qu&#8217;une méthode <code>write()</code> qui n'écrira que le texte passé
en paramètre.</p>
<p>Au fil du temps, vous vous rendez compte que c&#8217;est dommage qu&#8217;elles ne
fassent que ça et vous aimeriez bien qu&#8217;elles puissent écrire en différents
formats (HTML, XML, etc.) : les classes doivent donc formater puis écrire.</p>
<p><strong>La solution</strong></p>
<div class="imageblock">
<div class="content">
<a class="image" href="http://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns">
<img src="images/strategyWriter.png" alt="strategyWriter.png">
</a>
</div>
<div class="title" style="text-align: center">Figure 5. Application du pattern <a href="#strategy">[strategy]</a> (<a href="http://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns">source</a>)</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/formater-icon.png" alt="Note" />
</td>
<td class="content">
<div class="listingblock">
<div class="title">L&#8217;interface en <code>PHP</code> (code source <a href="src/php/Formater.php">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> Formater
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/writer-icon.png" alt="Note" />
</td>
<td class="content">
<div class="listingblock">
<div class="title">La classe abstraite <code>Writer</code> (code source <a href="src/php/Writer.php">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> Writer
<span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// Attribut contenant l'instance du formateur que l'on veut utiliser.</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">protected</span></span> <span style="color: #009900">$formater</span><span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">write</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">// Nous voulons une instance d'une classe implémentant Formater en paramètre.</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">__construct</span></span><span style="color: #990000">(</span>Formater <span style="color: #009900">$formater</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="color: #009900">$this</span><span style="color: #990000">-&gt;</span>formater <span style="color: #990000">=</span> <span style="color: #009900">$formater</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/filewriter-icon.png" alt="Note" />
</td>
<td class="content">
<div class="listingblock">
<div class="title">La classe <code>FileWriter</code> (code source <a href="src/php/FileWriter.php">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> FileWriter <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Writer
<span style="color: #FF0000">{</span>
  <span style="font-style: italic"><span style="color: #9A1900">// Attribut stockant le chemin du fichier.</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">protected</span></span> <span style="color: #009900">$file</span><span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">__construct</span></span><span style="color: #990000">(</span>Formater <span style="color: #009900">$formater</span><span style="color: #990000">,</span> <span style="color: #009900">$file</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    parent<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">__construct</span></span><span style="color: #990000">(</span><span style="color: #009900">$formater</span><span style="color: #990000">);</span>
    <span style="color: #009900">$this</span><span style="color: #990000">-&gt;</span>file <span style="color: #990000">=</span> <span style="color: #009900">$file</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">write</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="color: #009900">$f</span> <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">fopen</span></span><span style="color: #990000">(</span><span style="color: #009900">$this</span><span style="color: #990000">-&gt;</span>file<span style="color: #990000">,</span> <span style="color: #FF0000">'w'</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">fwrite</span></span><span style="color: #990000">(</span><span style="color: #009900">$f</span><span style="color: #990000">,</span> <span style="color: #009900">$this</span><span style="color: #990000">-&gt;</span>formater<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">));</span>
    <span style="font-weight: bold"><span style="color: #000000">fclose</span></span><span style="color: #990000">(</span><span style="color: #009900">$f</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/dbwriter-icon.png" alt="Note" />
</td>
<td class="content">
<div class="listingblock">
<div class="title">La classe <code>DBWriter</code> (code source <a href="src/php/DBWriter.php">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> DBWriter <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Writer
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">protected</span></span> <span style="color: #009900">$db</span><span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">__construct</span></span><span style="color: #990000">(</span>Formater <span style="color: #009900">$formater</span><span style="color: #990000">,</span> PDO <span style="color: #009900">$db</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    parent<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">__construct</span></span><span style="color: #990000">(</span><span style="color: #009900">$formater</span><span style="color: #990000">);</span>
    <span style="color: #009900">$this</span><span style="color: #990000">-&gt;</span>db <span style="color: #990000">=</span> <span style="color: #009900">$db</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">write</span></span> <span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="color: #009900">$q</span> <span style="color: #990000">=</span> <span style="color: #009900">$this</span><span style="color: #990000">-&gt;</span>db<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">prepare</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'INSERT INTO lorem_ipsum SET text = :text'</span><span style="color: #990000">);</span>
    <span style="color: #009900">$q</span><span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">bindValue</span></span><span style="color: #990000">(</span><span style="color: #FF0000">':text'</span><span style="color: #990000">,</span> <span style="color: #009900">$this</span><span style="color: #990000">-&gt;</span>formater<span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">));</span>
    <span style="color: #009900">$q</span><span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
</td>
</tr></table>
</div>
<p>Enfin, nous avons nos trois formateurs.
L&#8217;un ne fait rien de particulier (<code>TextFormater</code>),
et les deux autres formatent le texte en deux langages
différents (<code>HTMLFormater</code> et <code>XMLFormater</code>).</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/formaters-icon.png" alt="Note" />
</td>
<td class="content">
<div class="listingblock">
<div class="title">La classe <code>TextFormater</code> (code source <a href="src/php/TextFormater.php">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> TextFormater <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Formater
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">'Date : '</span> <span style="color: #990000">.</span> <span style="font-weight: bold"><span style="color: #000000">time</span></span><span style="color: #990000">()</span> <span style="color: #990000">.</span> <span style="color: #FF0000">"\n"</span> <span style="color: #990000">.</span> <span style="color: #FF0000">'Texte : '</span> <span style="color: #990000">.</span> <span style="color: #009900">$text</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">La classe <code>HTMLFormater</code> (code source <a href="src/php/HTMLFormater.php">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> HTMLFormater <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Formater
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">'&lt;p&gt;Date : '</span> <span style="color: #990000">.</span> <span style="font-weight: bold"><span style="color: #000000">time</span></span><span style="color: #990000">()</span> <span style="color: #990000">.</span> <span style="color: #FF0000">'&lt;br /&gt;'</span> <span style="color: #990000">.</span><span style="color: #FF0000">"\n"</span><span style="color: #990000">.</span> <span style="color: #FF0000">'Texte : '</span> <span style="color: #990000">.</span> <span style="color: #009900">$text</span> <span style="color: #990000">.</span> <span style="color: #FF0000">'&lt;/p&gt;'</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">La classe <code>XMLFormater</code> (code source <a href="src/php/XMLFormater.php">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> XMLFormater <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Formater
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #009900">$text</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">'&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;'</span> <span style="color: #990000">.</span><span style="color: #FF0000">"\n"</span><span style="color: #990000">.</span>
           <span style="color: #FF0000">'&lt;message&gt;'</span> <span style="color: #990000">.</span><span style="color: #FF0000">"\n"</span><span style="color: #990000">.</span>
           <span style="color: #FF0000">"\t"</span><span style="color: #990000">.</span> <span style="color: #FF0000">'&lt;date&gt;'</span> <span style="color: #990000">.</span> <span style="font-weight: bold"><span style="color: #000000">time</span></span><span style="color: #990000">()</span> <span style="color: #990000">.</span> <span style="color: #FF0000">'&lt;/date&gt;'</span> <span style="color: #990000">.</span><span style="color: #FF0000">"\n"</span><span style="color: #990000">.</span>
           <span style="color: #FF0000">"\t"</span><span style="color: #990000">.</span> <span style="color: #FF0000">'&lt;texte&gt;'</span> <span style="color: #990000">.</span> <span style="color: #009900">$text</span> <span style="color: #990000">.</span> <span style="color: #FF0000">'&lt;/texte&gt;'</span> <span style="color: #990000">.</span><span style="color: #FF0000">"\n"</span><span style="color: #990000">.</span>
           <span style="color: #FF0000">'&lt;/message&gt;'</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_d_8217_autres_exemples">2.5. D&#8217;autres exemples</h3>
<ul>
<li class="">
La fonction standard <code>sort()</code> de python
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&gt;&gt;&gt;</span> <span style="font-weight: bold"><span style="color: #000000">sorted</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"This is a test string from Andrew"</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">split</span></span><span style="color: #990000">(),</span> key<span style="color: #990000">=</span>str<span style="color: #990000">.</span>lower<span style="color: #990000">)</span>
<span style="color: #990000">[</span><span style="color: #FF0000">'a'</span><span style="color: #990000">,</span> <span style="color: #FF0000">'Andrew'</span><span style="color: #990000">,</span> <span style="color: #FF0000">'from'</span><span style="color: #990000">,</span> <span style="color: #FF0000">'is'</span><span style="color: #990000">,</span> <span style="color: #FF0000">'string'</span><span style="color: #990000">,</span> <span style="color: #FF0000">'test'</span><span style="color: #990000">,</span> <span style="color: #FF0000">'This'</span><span style="color: #990000">]</span></tt></pre></div></div>
</li>
<li class="">
Stratégie de cryptage en fonction de la taille d&#8217;un fichier
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">File</span> file <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">getFile</span></span><span style="color: #990000">();</span>
 <span style="color: #008080">Cipher</span> c <span style="color: #990000">=</span> CipherFactory<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCipher</span></span><span style="color: #990000">(</span> file<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">()</span> <span style="color: #990000">);</span>
 c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">performAction</span></span><span style="color: #990000">();</span>

<span style="font-style: italic"><span style="color: #9A1900">// implementations:</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">interface</span></span>  <span style="color: #008080">Cipher</span>  <span style="color: #FF0000">{</span>
     <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">performAction</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">InMemoryCipherStrategy</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Cipher <span style="color: #FF0000">{</span>
         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">performAction</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
             <span style="font-style: italic"><span style="color: #9A1900">// load in byte[] ....</span></span>
         <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SwaptToDiskCipher</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Cipher <span style="color: #FF0000">{</span>
         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">performAction</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
             <span style="font-style: italic"><span style="color: #9A1900">// swapt partial results to file.</span></span>
         <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</li>
</ul>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Plus de détails <a href="http://stackoverflow.com/questions/370258/real-world-example-of-the-strategy-pattern">ici</a></td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_non_réutilisation">2.6. (non) Réutilisation</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Les patrons <strong>ne sont pas réutilisables</strong>!</td>
</tr></table>
</div>
<p>Il faut implémeter la solution qu&#8217;il représente à chaque fois.</p>
<p>Exception : certains font l&#8217;objet d&#8217;une librairie.</p>
<p>Par exemple le patron Singleton existe dans la bibliothèque standard du
langage  en <a href="https://www.ruby-lang.org">Ruby</a>.
C&#8217;est un mixin qu&#8217;il suffit d&#8217;inclure dans la classe qui doit être un singleton.</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">class</span></span> Klass
   <span style="font-weight: bold"><span style="color: #0000FF">include</span></span> Singleton
   <span style="font-style: italic"><span style="color: #9A1900"># ...</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">end</span></span>

a<span style="color: #990000">,</span>b  <span style="color: #990000">=</span> Klass<span style="color: #990000">.</span>instance<span style="color: #990000">,</span> Klass<span style="color: #990000">.</span>instance

a <span style="color: #990000">==</span> b
<span style="font-style: italic"><span style="color: #9A1900"># =&gt; true</span></span>

Klass<span style="color: #990000">.</span>new
<span style="font-style: italic"><span style="color: #9A1900"># =&gt; NoMethodError - new is private ...</span></span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_association_ou_composition">2.7. Association ou composition</h3>
<p>On trouve deux modèles <a href="http://www.uml.org/">UML&#8482;</a> :</p>
<div class="imageblock">
<div class="content">
<img src="images/strategy-compo.png" alt="strategy-compo.png">
</div>
<div class="title" style="text-align: center">Figure 6. <em>Strategy</em>  et composition</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/strategy-assoc.png" alt="strategy-assoc.png">
</div>
<div class="title" style="text-align: center">Figure 7. <em>Strategy</em>  et association</div>
</div>
<p>Et donc deux implémentations :</p>
<div class="listingblock">
<div class="title">Composition &#8658; le composé encapsule les composants</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Colvert</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Canard <span style="color: #FF0000">{</span>

        <span style="font-weight: bold"><span style="color: #0000FF">protected</span></span> <span style="font-weight: bold"><span style="color: #000000">Colvert</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
                <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">VolerAvecDesAiles</span></span><span style="color: #990000">(),</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Cancan</span></span><span style="color: #990000">());</span>
        <span style="color: #FF0000">}</span>
<span style="color: #990000">...</span>
c1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Colvert</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Association &#8658; le composant existe "en dehors"</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">...</span>
vol <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">VolerAvecDesAiles</span></span><span style="color: #990000">();</span>
cri <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Cancan</span></span><span style="color: #990000">();</span>
c1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Colvert</span></span><span style="color: #990000">(</span>vol<span style="color: #990000">,</span>cri<span style="color: #990000">);</span>
<span style="color: #990000">...</span></tt></pre></div></div>
</div>
</section>
<section class="slide">
<h2>Un peu d&#8217;histoire</h2>
<div class="dlist"><dl>
<dt class="hdlist1">
1977
</dt>
<dd>
<p>
  <strong>Alexander</strong> : patterns pour les architectures (les vraies)
  <span class="image">
<img src="images/Alexander.png" alt="width=10%" />
</span>
</p>
</dd>
<dt class="hdlist1">
1987
</dt>
<dd>
<p>
  <strong>Beck</strong> et <strong>Cunningham</strong> : patterns pour des interfaces utilisateurs
</p>
</dd>
<dt class="hdlist1">
1988
</dt>
<dd>
<p>
  <strong>Meyer</strong> : livre sur l&#8217;orienté objet (langage <a href="http://fr.wikipedia.org/wiki/Eiffel_(langage)">Eiffel</a>), devenu la bible pour
  beaucoup de programmeurs (cf. <a href="#Meyer88">[Meyer88]</a>)
</p>
</dd>
<dt class="hdlist1">
1990-1995
</dt>
<dd>
<p>
  <strong>Gamma</strong>, Helm, Johnson et Vlissides : LE livre de référence (cf. <a href="#GoF">[GoF]</a>)
  <span class="image">
<img src="images/GoF.png" alt="width=10%" />
</span>
</p>
</dd>
<dt class="hdlist1">
2003
</dt>
<dd>
<p>
  <strong>Martin</strong> : principes SOLID (cf. <a href="#Martin03">[Martin03]</a>)
</p>
</dd>
<dt class="hdlist1">
2004
</dt>
<dd>
<p>
  <strong>Craig Larman</strong> décrit des modèles de conception : les Patterns <strong>GRASP</strong> (cf. <a href="#Larman05">[Larman05]</a>)
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Les patterns de ce livre sont connus comme les <strong>Gof</strong> pour « <em>Gang of Four</em> ».</td>
</tr></table>
</div>
</section>
<section class="slide">
<h2>Exemples de bons principes</h2>
<p><strong>SOLID</strong>:</p>
<ul>
<li class="">
<em><strong>S</strong>ingle Responsibility Principle</em>
</li>
<li class="">
<em><strong>O</strong>pen-Closed Principle</em>
</li>
<li class="">
<em><strong>L</strong>iskov Substitution Principle</em>
</li>
<li class="">
<em><strong>I</strong>nterface Segregation Principle</em>
</li>
<li class="">
<em><strong>D</strong>ependency Inversion Principle</em>
</li>
</ul>
<div class="sect2">
<h3 id="_em_strong_s_strong_ingle_responsibility_principle_em">4.1. <em><strong>S</strong>ingle Responsibility Principle</em></h3>
<div class="imageblock">
<div class="content">
<img src="images/solid-s.jpg" alt="solid-s.jpg">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre><tt>Responsabilité =&gt; Sujet à changement</tt></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_em_strong_o_strong_pen_closed_principle_em">4.2. <em><strong>O</strong>pen-Closed Principle</em></h3>
<div class="imageblock">
<div class="content">
<img src="images/solid-o.jpg" alt="solid-o.jpg">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre><tt>Ouvert à l'extension mais fermé à la modification</tt></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Une fois écrite et testée, une classe ne devrait être modifiée que pour
être corrigée! Toute modification devrait être possible par extension.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_em_strong_l_strong_iskov_substitution_principle_em">4.3. <em><strong>L</strong>iskov Substitution Principle</em></h3>
<div class="imageblock">
<div class="content">
<img src="images/solid-l.jpg" alt="solid-l.jpg">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre><tt>Une classe doit pouvoir être remplacée par une instance d'un de ses
sous-types, sans modifier la cohérence du programme</tt></pre>
</div></div>
<blockquote class="">
  <p>Un carré est un rectangle a deux côtés égaux.</p>
</blockquote>
<div class="imageblock">
<div class="content">
<img src="images/carre.png" alt="width=10%">
</div>
<div class="title" style="text-align: center">Figure 8. Exemple classique de violation du principe de substitution de Liskov</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Peut-on toujours substituer un <code>Carré</code> à la place d&#8217;un <code>Rectangle</code> ?</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_em_strong_i_strong_nterface_segregation_principle_em">4.4. <em><strong>I</strong>nterface Segregation Principle</em></h3>
<div class="imageblock">
<div class="content">
<img src="images/solid-i.jpg" alt="solid-i.jpg">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre><tt>Préférer plusieurs interfaces spécifiques pour chaque client plutôt qu'une
seule interface générale</tt></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_em_strong_d_strong_ependency_inversion_principle_em">4.5. <em><strong>D</strong>ependency Inversion Principle</em></h3>
<div class="imageblock">
<div class="content">
<img src="images/solid-d.jpg" alt="solid-d.jpg">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre><tt>Il faut dépendre des abstractions, pas des implémentations</tt></pre>
</div></div>
<p>Ce principe indique :</p>
<ul>
<li class="">
Les modules de haut niveau (abstraits) ne doivent pas dépendre des modules de bas niveau.
Les deux doivent dépendre d&#8217;abstractions.
</li>
<li class="">
Les abstractions ne doivent pas dépendre des détails d&#8217;implémentation.
C&#8217;est l&#8217;inverse : les détails doivent dépendre des abstractions.
</li>
</ul>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Ainsi ce principe va à l&#8217;encontre de l&#8217;intuition classique.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_solid_et_patrons">4.6. SOLID et patrons</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tuxteacher.png" alt="Important" />
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<p>Lesquels des 5 principes SOLID s&#8217;appliquent bien à <em>Strategy</em> ?</p>
</td>
</tr></table>
</div>
</div>
</section>
<section class="slide">
<h2>GRASP</h2>
<blockquote class="">
  <p>The critical design tool for software development is <strong>a mind well educated in
design principles</strong>. It is not the UML or any other technology.</p>
  <p><cite>-- Craig Larman , 2005</cite></p>
</blockquote>
<p>Il s&#8217;agit d&#8217;un ensemble de patrons, plutôt orientés conception (UML). Nous en
aborderons certains au travers des exemples de ce module (cf. <a href="#Larman05">[Larman05]</a>).</p>
</section>
<section class="slide">
<h2>Les patrons : comment ça marche ?</h2>
<div class="sect2">
<h3 id="_intérêt">6.1. Intérêt</h3>
<ul>
<li class="">
Réponses éprouvées à des problèmes récurrents
</li>
<li class="">
Vocabulaire commun
</li>
</ul>
<blockquote class="">
  <p>T&#8217;as qu'à utiliser une <em>factory</em>!</p>
</blockquote>
</div>
<div class="sect2">
<h3 id="_définifion">6.2. Définifion</h3>
<ul>
<li class="">
Nom
</li>
<li class="">
Problème
</li>
<li class="">
Solution
</li>
<li class="">
Conséquences
</li>
</ul>
<p>Exemple de <em>Strategy</em> :</p>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Nom</strong>
</dt>
<dd>
<p>
<em>Strategy</em>
</p>
</dd>
<dt class="hdlist1">
<strong>Problème</strong>
</dt>
<dd>
<p>
Situations où il est nécessaire de pouvoir définir dynamiquement les
            algorithmes utilisés.
</p>
</dd>
<dt class="hdlist1">
<strong>Solution</strong>
</dt>
<dd>
<p>
Définir une famille d&#8217;algorithmes, encapsuler chacun d&#8217;eux en tant
            qu&#8217;objet, et les rendre interchangeables.
</p>
</dd>
<dt class="hdlist1">
<strong>Conséquences</strong>
</dt>
<dd>
<p>
Ce patron laisse les algorithmes changer indépendamment des
                clients qui les emploient.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_patrons_à_aborder">6.3. Patrons à aborder</h3>
<ul>
<li class="">
Ceux déjà pratiqués
<ul>
<li class="">
<a href="#Singleton">[Singleton]</a>
</li>
<li class="">
<a href="#Observateur">[Observateur]</a>
</li>
<li class="">
<a href="#Fabrique">[Fabrique]</a> (<em>factory</em>) (cf. parser sax)
</li>
</ul>
</li>
<li class="">
Les "pressentis"
<ul>
<li class="">
<a href="#Stratégie">[Stratégie]</a>
</li>
<li class="">
Itérateur
</li>
<li class="">
Composite
</li>
<li class="">
<a href="#Etat">[Etat]</a>
</li>
<li class="">
Proxy
</li>
</ul>
</li>
<li class="">
Les nouveaux
<ul>
<li class="">
Décorateur
</li>
<li class="">
Commande
</li>
<li class="">
Adaptateur
</li>
<li class="">
Façade
</li>
<li class="">
Patron de méthode
</li>
</ul>
</li>
<li class="">
Les "avancés"
<ul>
<li class="">
Chaînes de responsabilité
</li>
<li class="">
Visiteur
</li>
</ul>
</li>
<li class="">
Ceux qu&#8217;on n&#8217;aura pas le temps d&#8217;aborder
<ul>
<li class="">
Prototype
</li>
<li class="">
Mémento
</li>
<li class="">
Médiateur
</li>
<li class="">
Interprète
</li>
<li class="">
Poids-mouche
</li>
<li class="">
Monteur
</li>
<li class="">
Pont
</li>
</ul>
</li>
<li class="">
Concepts avancés
<ul>
<li class="">
Patrons de patrons (exemple du MVC)
</li>
<li class="">
Anti-patrons
</li>
</ul>
</li>
</ul>
</div>
</section>
<section class="slide">
<h2>Point sur les documents demandés en PTut</h2>
<div class="sect2">
<h3 id="_dossier_d_8217_analyse_et_conception">7.1. Dossier d&#8217;Analyse et Conception</h3>
<p>Les consignes Moodle pour le document à rendre pour le module de PTut mentionne
une liste impressionante de modèles à fournir :</p>
<div class="literalblock">
<div class="title">Structure du dossier</div>
<div class="content">
<pre><tt>Sommaire
Introduction (description du sujet, problématique, plan)
MOF et MOT actuels
Nouveaux MOF et MOT
Diagramme des UC
Architecture MVC
Diagramme des Classes métier (sans les méthodes)
Schéma du Package Métier
Script de création de la base de données (format ORACLE)
Script de création des vues de données / fichiers info. du nouveau MOT (format ORACLE)
Diagramme des Classes contrôleur (avec les méthodes)
Diagramme de Séquence Système pour les cas d'utilisation « importants »
Diagramme de Séquence et Diagramme des Classes Participantes pour un des UC précédents
SNI et SEP/SEF
Maquettes d’écrans et d’états imprimés
Dessins de quelques pages complexes
Dessins d’états imprimés
Annexes : interviews des utilisateurs</tt></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_sommaire">7.2. Sommaire</h3>
<p>Si vous utilisez :</p>
<ul>
<li class="">
<a href="http://www.methods.co.nz/asciidoc">AsciiDoc</a> &#8658; <code>-a toc2</code> dans les options de génération
</li>
<li class="">
<a href="http://fr.wikipedia.org/wiki/LaTeX">LaTeX</a> &#8658; <code>\tableofcontents</code> dans le corps du document
</li>
<li class="">
Open-Office-Like &#8658; insertion du genre :
</li>
</ul>
<p>menu:Insert[Indexes and Tables &gt; Indexes and Tables]</p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Ne jamais faire le sommaire "à la main"!</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_introduction_2">7.3. Introduction</h3>
<p>Contenu :</p>
<ul>
<li class="">
description du sujet
</li>
<li class="">
problématique
</li>
<li class="">
plan
</li>
</ul>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Faites un effort! C&#8217;est la première chose qu&#8217;on regarde!</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_mof_et_mot_actuels_et_nouveaux">7.4. MOF et MOT actuels et nouveaux</h3>
<p>Les premières années 2012/2013 faisaient du Merise :</p>
<p>Voici des exemples</p>
<div class="imageblock">
<div class="content">
<img src="images/AgenceVoyageMOTNew.jpeg" alt="AgenceVoyageMOTNew.jpeg">
</div>
<div class="title" style="text-align: center">Figure 9. Exemple de MOT</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/mof.png" alt="mof.png">
</div>
<div class="title" style="text-align: center">Figure 10. Exemple de MOF</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tuxteacher.png" alt="Important" />
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<p>Quels sont les équivalents que vous connaissez?</p>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_diagramme_des_uc">7.5. Diagramme des UC</h3>
<div class="imageblock">
<div class="content">
<img src="images/uc2.png" alt="uc2.png">
</div>
<div class="title" style="text-align: center">Figure 11. Exemple de diagramme des Cas d&#8217;Utilisation</div>
</div>
<ul>
<li class="">
Valable pour tous les PTUTs
</li>
<li class="">
C&#8217;est en général le 1er diagramme <a href="http://www.uml.org/">UML&#8482;</a>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_architecture_mvc">7.6. Architecture MVC</h3>
<div class="imageblock">
<div class="content">
<img src="images/mvc-exp1-ds.png" alt="mvc-exp1-ds.png">
</div>
<div class="title" style="text-align: center">Figure 12. Exemple de diagramme de séquence</div>
</div>
</div>
<div class="sect2">
<h3 id="_diagramme_des_classes_métier">7.7. Diagramme des Classes métier</h3>
<ul>
<li class="">
Exemple de PTuts pour lequel ça ne s&#8217;y prette pas :
<ul>
<li class="">
Robot qui se déplace dans un environnement
</li>
<li class="">
Programme de scripting
</li>
<li class="">
&#8230;
</li>
</ul>
</li>
<li class="">
Exemple de PTuts pour lequel ça s&#8217;y prette :
<ul>
<li class="">
Refactoring d&#8217;application existante
</li>
<li class="">
Base de données
</li>
<li class="">
&#8230;
</li>
</ul>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_schéma_du_package_métier">7.8. Schéma du Package Métier</h3>
<p>Architecture de l&#8217;application</p>
</div>
<div class="sect2">
<h3 id="_script_de_création_de_la_base_et_des_vues_de_données">7.9. Script de création de la base et des vues de données</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Uniquement si ce n&#8217;est pas prématuré!</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_diagramme_des_classes_contrôleur">7.10. Diagramme des Classes contrôleur</h3>
<p>Extrapolez si vous n&#8217;appliquez pas le MVC :</p>
<ul>
<li class="">
quelles vont être vos méthodes (ou fonctionalités) importantes
</li>
<li class="">
qui fait quoi?
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_diagramme_de_séquence_système_pour_les_cas_d_8217_utilisation_importants">7.11. Diagramme de Séquence Système pour les cas d&#8217;utilisation « importants »</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Rappel : un DSS par UC</td>
</tr></table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/mvc-exp1-ds.png" alt="mvc-exp1-ds.png">
</div>
<div class="title" style="text-align: center">Figure 13. Exemple de diagramme de séquence</div>
</div>
</div>
<div class="sect2">
<h3 id="_diagramme_de_séquence_et_diagramme_des_classes_participantes_pour_un_des_uc_précédents">7.12. Diagramme de Séquence et Diagramme des Classes Participantes pour un des UC précédents</h3>
<p>Uniquement pour illustrer les aspects artitecture, échanges, etc.</p>
</div>
<div class="sect2">
<h3 id="_sni_et_sep_sef">7.13. SNI et SEP/SEF</h3>
<div class="imageblock">
<div class="content">
<img src="images/sni-exp.png" alt="sni-exp.png">
</div>
<div class="title" style="text-align: center">Figure 14. Exemple de SNI</div>
</div>
</div>
<div class="sect2">
<h3 id="_maquettes_d_écrans_et_dessins">7.14. Maquettes d’écrans et dessins</h3>
<div class="imageblock">
<div class="content">
<img src="images/bruel-balsamiq.png" alt="bruel-balsamiq.png">
</div>
<div class="title" style="text-align: center">Figure 15. Exemple de diagramme Balsamiq</div>
</div>
<p>Outils de dessins d'écrans complexes :</p>
<ul>
<li class="">
<a href="http://www.balsamiq.com/">http://www.balsamiq.com/</a>
</li>
<li class="">
<a href="http://glade.gnome.org/">http://glade.gnome.org/</a>
</li>
<li class="">
<a href="http://www.eclipse.org/windowbuilder/">http://www.eclipse.org/windowbuilder/</a>
</li>
<li class="">
<a href="http://socialcompare.com/en/comparison/mockup-wireframing-design-tools">http://socialcompare.com/en/comparison/mockup-wireframing-design-tools</a>
</li>
<li class="">
<a href="http://mockflow.comm">http://mockflow.comm</a> (limitations pour la version gratuite)
</li>
<li class="">
<a href="http://www.mobjectify.com/">http://www.mobjectify.com/</a>
</li>
<li class="">
<a href="https://gomockingbird.com/">https://gomockingbird.com/</a>
</li>
<li class="">
<a href="http://iphonemockup.lkmc.ch/">http://iphonemockup.lkmc.ch/</a> (pour iphone)
</li>
<li class="">
<a href="http://pencil.evolus.vn/en-US/Home.aspx">http://pencil.evolus.vn/en-US/Home.aspx</a>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_annexes_interviews_des_utilisateurs">7.15. Annexes : interviews des utilisateurs</h3>
<p>Importance des comptes-rendus</p>
</div>
<div class="sect2">
<h3 id="_conclusions">7.16. Conclusions</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Le "contenu-type" est <strong>obsolète</strong>!</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Vous devez l'<strong>adapter</strong> à votre situation!</td>
</tr></table>
</div>
<p>Pour tout renseignements supplémentaires :
<a href="http://jmbhome.herokuapp.com/teaching/ACSI/acsi.html">http://jmbhome.herokuapp.com/teaching/ACSI/acsi.html</a></p>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tuxteacher.png" alt="Important" />
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<p>Des questions sur votre groupe en particulier?</p>
</td>
</tr></table>
</div>
</div>
</section>
<section class="slide">
<h2>Un nouveau diagramme UML très utile</h2>
<div class="imageblock">
<div class="content">
<img src="images/etat1.png" alt="etat1.png">
</div>
<div class="title" style="text-align: center">Figure 16. Exemple de diagramme d'état</div>
</div>
<p>Les diagrammes d'<strong>états-transitions</strong> (plus simplement diagramme d'état) d&#8217;<a href="http://www.uml.org/">UML&#8482;</a>
décrivent le comportement interne d&#8217;un objet à l&#8217;aide d&#8217;un automate à états finis.</p>
<p>Les notions importantes de ce diagramme :</p>
<ul>
<li class="">
états
</li>
<li class="">
actions
</li>
<li class="">
événements déclencheurs
<ul>
<li class="">
signaux
</li>
<li class="">
invocations de méthode
</li>
</ul>
</li>
</ul>
<div class="sect2">
<h3 id="_transitions">8.1. Transitions</h3>
<div class="imageblock">
<div class="content">
<img src="images/etat2.png" alt="etat2.png">
</div>
<div class="title" style="text-align: center">Figure 17. Transition entre états</div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Événement</strong>
</dt>
<dd>
<p>
  Un signal, une invocation de méthode, etc.
</p>
</dd>
<dt class="hdlist1">
<strong>Condition</strong>
</dt>
<dd>
<p>
  Un booléen
</p>
</dd>
<dt class="hdlist1">
<strong>Action</strong>
</dt>
<dd>
<p>
  Affectation, invocation de méthode
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_exemple_de_transitions">8.2. Exemple de transitions</h3>
<div class="imageblock">
<div class="content">
<img src="images/etat3.png" alt="etat3.png">
</div>
<div class="title" style="text-align: center">Figure 18. Transition entre états</div>
</div>
</div>
<div class="sect2">
<h3 id="_refactoring">8.3. Refactoring</h3>
<p>On peut remplacer les actions systématiques des transitions entrantes :</p>
<div class="imageblock">
<div class="content">
<img src="images/etat4.png" alt="etat4.png">
</div>
<div class="title" style="text-align: center">Figure 19. Transition entre états</div>
</div>
<p>par une <strong>transition interne</strong> : <code>entry</code> :</p>
<div class="imageblock">
<div class="content">
<img src="images/etat5.png" alt="etat5.png">
</div>
<div class="title" style="text-align: center">Figure 20. Exemple de transition interne</div>
</div>
</div>
<div class="sect2">
<h3 id="_transitions_internes">8.4. Transitions internes</h3>
<div class="imageblock">
<div class="content">
<img src="images/mdp.png" alt="mdp.png">
</div>
<div class="title" style="text-align: center">Figure 21. Exemple de transitions internes</div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>entry</strong>
</dt>
<dd>
<p>
  permet de spécifier une activité qui s&#8217;accomplit quand on entre dans l'état.
</p>
</dd>
<dt class="hdlist1">
<strong>exit</strong>
</dt>
<dd>
<p>
  permet de spécifier une activité qui s&#8217;accomplit quand on sort de l'état.
</p>
</dd>
<dt class="hdlist1">
<strong>do</strong>
</dt>
<dd>
<p>
  commence dès que l&#8217;activité <code>entry</code> est terminée.
  Lorsque cette activité est terminée, une transition
  d&#8217;achèvement peut être déclenchée.
  Si une transition se déclenche pendant que l&#8217;activité <code>do</code>
  est en cours, cette dernière est interrompue et
  l&#8217;activité <code>exit</code> de l'état s&#8217;exécute.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_conditions">8.5. Conditions</h3>
<div class="imageblock">
<div class="content">
<img src="images/conditions.png" alt="conditions.png">
</div>
<div class="title" style="text-align: center">Figure 22. Les conditions doivent être exclusives</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tuxteacher.png" alt="Important" />
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<ol>
<li class="">
<p>
Réalisez un diagramme d'état UML représentant les différents états
de l&#8217;eau (liquide, solide, gazeux).
</p>
</li>
<li class="">
<p>
Réalisez un diagramme d'état UML représentant les états d&#8217;un étudiant de son
arrivée en 1ère année à sa sortie de l&#8217;IUT en fonction des résultats aux différents
examens (uniquement les années, pas les semestres).
</p>
</li>
</ol>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_etats_complexes">8.6. Etats complexes</h3>
<p>Un état peut lui-même être doté d&#8217;un comportement et donc représenter à lui
seul une machine à état. Par exemple :</p>
<div class="imageblock">
<div class="content">
<img src="images/sousetats.png" alt="sousetats.png">
</div>
<div class="title" style="text-align: center">Figure 23. Etats "Composite"</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tuxteacher.png" alt="Important" />
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<p>Intégrez les semestres aux diagramme précédent (étudiants)</p>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_notion_de_concurrence">8.7. Notion de concurrence</h3>
<p>On peut représenter l'évolution de différentes machines de manière concurrente
(parallèle). Par exemple :</p>
<div class="imageblock">
<div class="content">
<img src="images/concurrence.png" alt="concurrence.png">
</div>
<div class="title" style="text-align: center">Figure 24. Etats "Concurrents"</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tuxteacher.png" alt="Important" />
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<p>Réalisez le diagramme d'état d&#8217;une machine à boisson rendant la monnaie.</p>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Pour aller plus loin sur ce diagramme : <a href="http://laurent-audibert.developpez.com/Cours-UML/?page=diagramme-etats-transitions">http://laurent-audibert.developpez.com/Cours-UML/?page=diagramme-etats-transitions</a></td>
</tr></table>
</div>
</div>
</section>
<section class="slide">
<h2>Point sur le TD de la semaine passée</h2>
<div class="sect2">
<h3 id="_principes_de_conception_2">9.1. Principes de conception</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Pas de nouveau principes de conception particuliers pour le
patron <a href="#singleton">[singleton]</a></td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_patron_singleton">9.2. Patron Singleton</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/pattern.jpeg" alt="Note" />
</td>
<td class="content">
<div class="title">Design pattern : <strong>Singleton</strong></div>
<p><strong>Singleton</strong> garantit qu&#8217;une classe n&#8217;a qu&#8217;une seule instance et
fournit un point d&#8217;accès global à cette instance.</p>
<div class="imageblock">
<div class="content">
<img src="images/singleton.png" alt="singleton.png">
</div>
<div class="title" style="text-align: center">Figure 25. Modèle UML du patron <em>Singleton</em></div>
</div>
</td>
</tr></table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/google-singleton.png">
<img src="images/google-singleton.png" alt="google-singleton.png">
</a>
</div>
<div class="title" style="text-align: center">Figure 26. Quelques exemples de description du patron Singleton</div>
</div>
</div>
<div class="sect2">
<h3 id="_exemples_d_8217_utilisation_du_patron_singleton">9.3. Exemples d&#8217;utilisation du patron Singleton</h3>
<p>Quelques exemple de l&#8217;utilisation industrielle de <a href="#singleton">[singleton]</a> :</p>
<ul>
<li class="">
<em>Thread pools</em> (pour contrôler les <em>threads</em>)
</li>
<li class="">
Connexions SQL
</li>
<li class="">
Objets de type <em>Registry</em>
</li>
<li class="">
Objets gérant les préférences utilisateur
</li>
<li class="">
Caches
</li>
<li class="">
Les classes <em>Factory</em>
</li>
<li class="">
&#8230;
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_implémentations_java_du_patron_singleton">9.4. Implémentations Java du patron Singleton</h3>
<div class="sect3">
<h4 id="_initialisation_directe_de_la_variable_instance">9.4.1. Initialisation directe de la variable instance</h4>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Singleton</span> <span style="color: #FF0000">{</span>
      <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">volatile</span></span> <span style="color: #008080">Singleton</span> instance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Singleton</span></span><span style="color: #990000">();</span>
      <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #008080">Singleton</span> <span style="font-weight: bold"><span style="color: #000000">getInstance</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> instance<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
      <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Singleton</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
      <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">On n&#8217;a pas vu cette implémentation en TD!</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_initialisation_dans_un_bloc_code_static_code">9.4.2. Initialisation dans un bloc <code>static</code></h4>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Singleton</span> <span style="color: #FF0000">{</span>
        <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">volatile</span></span> <span style="color: #008080">Singleton</span> instance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
        <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #FF0000">{</span>
          instance <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Singleton</span></span><span style="color: #990000">();</span>
        <span style="color: #FF0000">}</span>
        <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #008080">Singleton</span> <span style="font-weight: bold"><span style="color: #000000">getInstance</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> instance<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
        <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Singleton</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
        <span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect3">
<h4 id="_utilisation_d_8217_un_code_enum_code">9.4.3. Utilisation d&#8217;un <code>enum</code></h4>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>        <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">enum</span> Singleton <span style="color: #FF0000">{</span>
          SINGLETON<span style="color: #990000">;</span>
          <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #008080">Singleton</span> <span style="font-weight: bold"><span style="color: #000000">getInstance</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> SINGLETON<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
        <span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">
<ul>
<li class="">
On n&#8217;a pas vu cette implémentation en TD!
</li>
<li class="">
Les <code>enum</code>, bien connues en C, sont apparues à la version <code>1.5</code> de Java!
</li>
</ul>
</td>
</tr></table>
</div>
<p>Exemple d&#8217;utilisation de ce type d&#8217;implémentation</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">enum</span> MonSingleton <span style="color: #FF0000">{</span>
  INSTANCE<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">String</span> attribute <span style="color: #990000">=</span> <span style="color: #FF0000">"World"</span><span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">sayHello</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Hello "</span> <span style="color: #990000">+</span> attribute<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<p>Et on l&#8217;appelle avec :</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>MonSingleton<span style="color: #990000">.</span>INSTANCE<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">sayHello</span></span><span style="color: #990000">();</span></tt></pre></div></div>
<p>Intérêts/Limites d&#8217;utiliser un <code>enum</code> :</p>
<ul>
<li class="">
les enumérations classiques sont <em>thread-safe</em> car elles sont
initialisées par le <em>classloader</em>
</li>
<li class="">
on ne peut pas utiliser l&#8217;héritage
</li>
</ul>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">Pour aller plus loin, cf. <a href="http://blog.zenika.com/index.php?post/2014/06/11/Quelques-patterns-d-implementation-avec-les-enums-java">ce site</a>.</td>
</tr></table>
</div>
</div>
</div>
</section>
<section class="slide">
<h2>Point sur le TP</h2>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">$assertFileContains</span> <span style="color: #990000">=</span> <span style="color: #990000">[</span>
<span style="color: #FF6600">/@startuml/</span>m<span style="color: #990000">,</span>
<span style="color: #FF6600">/@enduml/</span>m<span style="color: #990000">,</span>
<span style="color: #FF6600">/abstract Personnage/</span>m<span style="color: #990000">,</span>
<span style="color: #FF6600">/Personnage\s+--&gt;.*ComportementArme/</span>m<span style="color: #990000">,</span>
<span style="color: #FF6600">/Personnage\s&lt;|--.*/</span>m<span style="color: #990000">,</span>
<span style="color: #FF6600">/interface\s+ComportementArme/</span>m<span style="color: #990000">,</span>
<span style="color: #FF6600">/ComportementArme\s+&lt;\|\.\./</span>m<span style="color: #990000">,</span>
<span style="color: #990000">]</span>

Dir<span style="color: #990000">.</span>glob<span style="color: #990000">(</span><span style="color: #FF0000">'TD1.uml'</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="color: #990000">|</span>rb_file<span style="color: #990000">|</span>
notestr <span style="color: #990000">=</span> <span style="color: #FF0000">""</span>
<span style="font-style: italic"><span style="color: #9A1900"># test file</span></span>
notestr <span style="color: #990000">+=</span> <span style="color: #990000">(</span>File<span style="color: #990000">.</span>exists?<span style="color: #990000">(</span>rb_file<span style="color: #990000">))</span> <span style="color: #990000">?</span> <span style="color: #FF0000">'.'</span> <span style="color: #990000">:</span> <span style="color: #FF0000">'F'</span>

<span style="font-style: italic"><span style="color: #9A1900"># test file contents</span></span>
fileContent <span style="color: #990000">=</span> File<span style="color: #990000">.</span>read<span style="color: #990000">(</span>rb_file<span style="color: #990000">)</span>

<span style="color: #009900">$assertFileContains</span><span style="color: #990000">.</span>each <span style="color: #FF0000">{</span><span style="color: #990000">|</span>re<span style="color: #990000">|</span>
  notestr <span style="color: #990000">+=</span> <span style="color: #990000">(</span>fileContent <span style="color: #990000">=~</span> re<span style="color: #990000">)</span> <span style="color: #990000">?</span> <span style="color: #FF0000">'.'</span> <span style="color: #990000">:</span> <span style="color: #FF0000">'F'</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<p>Sur <strong>71</strong> étudiants :</p>
<ul>
<li class="">
<strong>51</strong> dépôt &#8658; 20 personnes ont <strong>0/20</strong>
</li>
<li class="">
<strong>30</strong> fichiers corrects (ni <code>.jar</code>, ni <code>.zip</code>, ni <code>TD1-John-Smith.uml</code>) &#8658; 21
<strong>0/20</strong> de plus
</li>
<li class="">
Sur le 30 fichiers corrects moyenne = 7/8 tests passés en moyenne &#8658; notes
entre 12,5 et 20 (moyenne <strong>17,5</strong>)
</li>
</ul>
</section>
<section class="slide">
<h2>Point sur le TD Fabrique</h2>
<div class="sect2">
<h3 id="_principes_de_conception_3">11.1. Principes de conception</h3>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/pattern.jpeg" alt="Note" />
</td>
<td class="content">
<div class="title">Design pattern : <strong>Fabrique</strong> (<em>Factory</em>)</div>
<p><strong>Fabrique</strong> (simple) définit une interface pour la création d&#8217;un objet, mais en laissant
à des sous-classes le choix des classes à instancier (voir aussi <a href="#FabriqueAbstraite">Fabrique abstraite</a>).</p>
<div class="imageblock">
<div class="content">
<img src="images/fabrique.png" alt="fabrique.png">
</div>
<div class="title" style="text-align: center">Figure 27. Modèle UML du patron Fabrique</div>
</div>
</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_premier_exemple_d_8217_utilisation_de_patron_2">11.2. Premier exemple d&#8217;utilisation de patron</h3>
<div class="imageblock">
<div class="content">
<a class="image" href="images/pizzeria1.png">
<img src="images/pizzeria1.png" alt="pizzeria1.png">
</a>
</div>
<div class="title" style="text-align: center">Figure 28. 1er exemple d&#8217;utilisation de Fabrique</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/pizzeria.png">
<img src="images/pizzeria.png" alt="pizzeria.png">
</a>
</div>
<div class="title" style="text-align: center">Figure 29. Exemple complet d&#8217;utilisation de Fabrique</div>
</div>
</div>
<div class="sect2">
<h3 id="_autre_exemple_concret_2">11.3. Autre exemple concret</h3>
<div class="listingblock">
<div class="title">Factory en PHP (source <a href="http://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> DBFactory
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">function</span></span> <span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #009900">$sgbdr</span><span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="color: #009900">$classe</span> <span style="color: #990000">=</span> <span style="color: #FF0000">'SGBDR_'</span> <span style="color: #990000">.</span> <span style="color: #009900">$sgbdr</span><span style="color: #990000">;</span>

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">file_exists</span></span><span style="color: #990000">(</span><span style="color: #009900">$chemin</span> <span style="color: #990000">=</span> <span style="color: #009900">$classe</span> <span style="color: #990000">.</span> <span style="color: #FF0000">'.class.php'</span><span style="color: #990000">))</span>
    <span style="color: #FF0000">{</span>
      <span style="font-weight: bold"><span style="color: #000080">require</span></span> <span style="color: #009900">$chemin</span><span style="color: #990000">;</span>
      <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="color: #009900">$classe</span><span style="color: #990000">;</span>
    <span style="color: #FF0000">}</span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="color: #FF0000">{</span>
      <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">RuntimeException</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'La classe &lt;strong&gt;'</span> <span style="color: #990000">.</span> <span style="color: #009900">$classe</span> <span style="color: #990000">.</span> <span style="color: #FF0000">'&lt;/strong&gt; n\'a pu être trouvée !'</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Factory en PHP (source <a href="http://openclassrooms.com/courses/programmez-en-oriente-objet-en-php/les-design-patterns">ici</a>)</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #990000">&lt;?php</span>
<span style="font-weight: bold"><span style="color: #0000FF">try</span></span>
<span style="color: #FF0000">{</span>
  <span style="color: #009900">$mysql</span> <span style="color: #990000">=</span> DBFactory<span style="color: #990000">::</span><span style="font-weight: bold"><span style="color: #000000">load</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'MySQL'</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span>RuntimeException <span style="color: #009900">$e</span><span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">echo</span></span> <span style="color: #009900">$e</span><span style="color: #990000">-&gt;</span><span style="font-weight: bold"><span style="color: #000000">getMessage</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span>
<span style="color: #990000">?&gt;</span></tt></pre></div></div>
</div>
</section>
<section class="slide">
<h2>Mais c&#8217;est pas fini!</h2>
<p>Reprenons nos pizzas vues en <a href="TD3.html">TD</a></p>
<div class="imageblock">
<div class="content">
<img src="images/pizzeria-dep.png" alt="pizzeria-dep.png">
</div>
<div class="title" style="text-align: center">Figure 30. Une pizzeria dépendante</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pizzeria.png" alt="pizzeria.png">
</div>
<div class="title" style="text-align: center">Figure 31. Une pizzeria dépendante</div>
</div>
<ul>
<li class="">
Aucune variable ne doit contenir une référence à une classe concrète.
</li>
<li class="">
Aucune classe ne doit dériver d&#8217;une classe concrète.
</li>
<li class="">
Aucune classe ne doit redéfinir une méthode implémentée dans une classe de base.
</li>
</ul>
<div class="imageblock">
<div class="content">
<img src="images/Pizzeria-sec.png" alt="Pizzeria-sec.png">
</div>
<div class="title" style="text-align: center">Figure 32. Une pizzeria avec Fabrique</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Pizzeria-sec1.png" alt="Pizzeria-sec1.png">
</div>
<div class="title" style="text-align: center">Figure 33. Problème de la dépendance des ingrédients</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ingredients.png" alt="ingredients.png">
</div>
<div class="title" style="text-align: center">Figure 34. Des cartes adaptées</div>
</div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">FabriqueIngredientsPizza</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Pate</span> <span style="font-weight: bold"><span style="color: #000000">creerPate</span></span> <span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Sauce</span> <span style="font-weight: bold"><span style="color: #000000">creerSauce</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Fromage</span> <span style="font-weight: bold"><span style="color: #000000">creerFromage</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> Legumes<span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">creerLegumes</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Poivrons</span> <span style="font-weight: bold"><span style="color: #000000">creerPoivrons</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Moules</span> <span style="font-weight: bold"><span style="color: #000000">creerMoules</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">FabriqueIngredientsPizzaBrest</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> FabriqueIngredientsPizza <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Pate</span> <span style="font-weight: bold"><span style="color: #000000">creerPate</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PateFine</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Sauce</span> <span style="font-weight: bold"><span style="color: #000000">creerSauce</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SauceMarinara</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">FabriqueIngredientsPizzaStrasbourg</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> FabriqueIngredientsPizza <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Pate</span> <span style="font-weight: bold"><span style="color: #000000">creerPate</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">PateEpaisse</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Sauce</span> <span style="font-weight: bold"><span style="color: #000000">creerSauce</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SauceTomateCerise</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">PizzaFromage</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Pizza <span style="color: #FF0000">{</span>
  <span style="color: #008080">FabriqueIngredientsPizza</span> fabriqueIngredients<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">PizzaFromage</span></span><span style="color: #990000">(</span><span style="color: #008080">FabriqueIngredientsPizza</span> fabriqueIngredients<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>fabriqueIngredients <span style="color: #990000">=</span> fabriqueIngredients<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">preparer</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Préparation de "</span> <span style="color: #990000">+</span> nom<span style="color: #990000">);</span>
    pate <span style="color: #990000">=</span> fabriqueIngredients<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">creerPate</span></span><span style="color: #990000">();</span>
    sauce <span style="color: #990000">=</span> fabriqueIngredients<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">creerSauce</span></span><span style="color: #990000">();</span>
    fromage <span style="color: #990000">=</span> fabriqueIngredients<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">creerFromage</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</section>
<section class="slide">
<h2>Fabrique abstraite</h2>
<p>Nous sommes arrivé à une version du patron Fabrique appelée <a href="#FabriqueAbstraite">Fabrique Abstraite</a> :</p>
<p><strong>Fabrique</strong> (abstraite) fournit une interface pour la création de familles
d&#8217;objets apparentés ou interdépendants, sans qu&#8217;il soit nécessaire de spécifier
leurs classes concrètes (voir aussi <a href="#Fabrique">Fabrique</a>).</p>
<div class="imageblock">
<div class="content">
<img src="images/fabrique-abstraite.svg" alt="fabrique-abstraite.svg">
</div>
<div class="title" style="text-align: center">Figure 35. Modèle UML du patron Fabrique Abstraite</div>
</div>
</section>
<section class="slide">
<h2>Retour sur la machine à état UML</h2>
<p>Soit la machine à état suivante :</p>
<div class="imageblock">
<div class="content">
<img src="images/bonbons.png" alt="bonbons.png">
</div>
<div class="title" style="text-align: center">Figure 36. Machine à état d&#8217;un distributeur simple</div>
</div>
<div class="sect2">
<h3 id="_implémentation_intuitive">14.1. Implémentation intuitive</h3>
<div class="listingblock">
<div class="title">Implémentation sans switch case</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">insererPiece</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>etat <span style="color: #990000">==</span> A_PIECE<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Vous ne pouvez plus insérer de pièces"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>etat <span style="color: #990000">==</span> EPUISE<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Vous ne pouvez pas insérer de pièce, nous sommes en rupture de stock"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>etat <span style="color: #990000">==</span> VENDU<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Veuillez patienter, le bonbon va tomber"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>etat <span style="color: #990000">==</span> SANS_PIECE<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    etat <span style="color: #990000">=</span> A_PIECE<span style="color: #990000">;</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Vous avez inséré une pièce"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_erreur_d_8217_implémentations">14.2. Erreur d&#8217;implémentations</h3>
<ul>
<li class="">
Ce code n&#8217;adhère pas au principe Ouvert-Fermé.
</li>
<li class="">
Cette conception n&#8217;est pas orientée objet.
</li>
<li class="">
Les transitions ne sont pas explicites. Elles sont enfouies au
milieu d&#8217;un tas d&#8217;instructions conditionnelles.
</li>
<li class="">
Nous n&#8217;avons pas encapsulé ce qui varie.
</li>
<li class="">
Les ajouts ultérieurs sont susceptibles de provoquer des bugs
dans le code.
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_une_meilleure_implémentation">14.3. Une meilleure implémentation</h3>
<ol>
<li class="">
<p>
Définir une nouvelle interface <code>Etat</code> qui contiendra une méthode pour
chaque action
</p>
</li>
<li class="">
<p>
Implémenter une classe pour chaque <code>Etat</code>. Elles seront responsable du comportement.
</p>
</li>
<li class="">
<p>
Se débarrasser de toutes les instructions conditionnelles et les remplacer
par une délégation à la classe adéquate.
</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_illutration">14.4. Illutration</h3>
<p>Etape 1 :</p>
<div class="imageblock">
<div class="content">
<img src="images/bonbons.png" alt="bonbons.png">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/bonbons-dc.png" alt="bonbons-dc.png">
</div>
<div class="title" style="text-align: center">Figure 37. Inplémentation des états</div>
</div>
<p>Etape 2</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">EtatSansPiece</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Etat <span style="color: #FF0000">{</span>
  <span style="color: #008080">Distributeur</span> distributeur<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">EtatSansPiece</span></span><span style="color: #990000">(</span><span style="color: #008080">Distributeur</span> distributeur<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>distributeur <span style="color: #990000">=</span> distributeur<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">insererPiece</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Vous avez inséré une pièce"</span><span style="color: #990000">);</span>
    distributeur<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setEtat</span></span><span style="color: #990000">(</span>distributeur<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getEtatAPiece</span></span><span style="color: #990000">());</span>
  <span style="color: #FF0000">}</span>
  <span style="color: #990000">...</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<p>Etape 3</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Distributeur</span> <span style="color: #FF0000">{</span>
  <span style="color: #008080">Etat</span> etatEpuise<span style="color: #990000">;</span>
  <span style="color: #008080">Etat</span> etatSansPiece<span style="color: #990000">;</span>
  <span style="color: #008080">Etat</span> etatAPiece<span style="color: #990000">;</span>
  <span style="color: #008080">Etat</span> etatVendu<span style="color: #990000">;</span>

  <span style="color: #008080">Etat</span> etat <span style="color: #990000">=</span> etatSansPiece<span style="color: #990000">;</span>
  <span style="color: #990000">...</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">insererPiece</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    etat<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">insererPiece</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
<span style="color: #990000">...</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_le_patron_etat">14.5. Le patron Etat</h3>
<p><strong>Etat</strong> permet à un objet de modifier son comportement,
quand son état interne change.
Tout se passe comme si l&#8217;objet changeait de classe.</p>
<div class="imageblock">
<div class="content">
<img src="images/etat.png" alt="etat.png">
</div>
<div class="title" style="text-align: center">Figure 38. Modèle UML du patron Etat</div>
</div>
</div>
</section>
<section class="slide">
<h2>Le patron <em>proxy</em></h2>
<div class="sect2">
<h3 id="_le_problème">15.1. Le problème</h3>
<p>On a besoin de références à un objet, qui soient plus <strong>créatives</strong> et plus
<strong>sophistiquées</strong> qu&#8217;un simple pointeur.</p>
</div>
<div class="sect2">
<h3 id="_le_patron_em_proxy_em_2">15.2. Le patron <em>Proxy</em></h3>
<p><strong>Procuration</strong> (<strong><em>Proxy</em></strong>) fournit à un tiers un mandataire ou un remplaçant, pour contrôler
l&#8217;accès à cet objet.</p>
<div class="imageblock">
<div class="content">
<img src="images/proxy.png" alt="proxy.png">
</div>
<div class="title" style="text-align: center">Figure 39. Modèle UML du patron <em>Proxy</em></div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/proxy-google.png" alt="proxy-google.png">
</div>
<div class="title" style="text-align: center">Figure 40. Proxy sur Google</div>
</div>
</div>
<div class="sect2">
<h3 id="_utilisations">15.3. Utilisations</h3>
<ul>
<li class="">
Une <em>procuration à distance</em> fournit un représentant local d&#8217;un objet
situé dans un espace adresse différent.
</li>
<li class="">
Une <em>procuration virtuelle</em> crée des objets lourds à la demande.
</li>
<li class="">
Une <em>procuration de protection</em> contrôle l&#8217;accès à l&#8217;objet original.
Les procurations de protection sont utiles quand les objets doivent satisfaire
différents droits d&#8217;accès.
</li>
<li class="">
Une <em>référence intelligente</em> est le remplaçant d&#8217;un pointeur brut, qui
réalise des opérations supplémentaires, lors de l&#8217;accès à l&#8217;objet. Quelques
utilisations typiques sont :
<ul>
<li class="">
décompte du nombre des références faites à un objet réel, de sorte que celui-ci puisse être libéré automatiquement, dés qu&#8217;il n&#8217;y a plus de références ;
</li>
<li class="">
charger en mémoire un objet persistant quand il est référencé pour la première fois ;
</li>
<li class="">
vérifier, avant d&#8217;y accéder, que l&#8217;objet réel est verrouillé, pour être sûr qu&#8217;aucun autre objet ne pourra le changer.
</li>
</ul>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_exemple_concret_rmi">15.4. Exemple concret : RMI</h3>
<p><strong>R</strong>emote <strong>M</strong>ethod <strong>I</strong>nvocation</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>rmi<span style="color: #990000">.*;</span>
<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">MonService</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Remote <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">direBonjour</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">throws</span></span> RemoteException<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>rmi<span style="color: #990000">.*;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>rmi<span style="color: #990000">.</span>server<span style="color: #990000">.*;</span>

￼￼￼￼￼￼￼<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">MonServiceImpl</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> UnicastRemoteObject <span style="color: #008080">implements</span> MonService <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">direBonjour</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Le serveur dit 'Bonjour'"</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">MonServiceImpl</span></span><span style="color: #990000">()</span> <span style="font-weight: bold"><span style="color: #0000FF">throws</span></span> RemoteException <span style="color: #FF0000">{}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
      <span style="color: #008080">MonService</span> service <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">MonServiceImpl</span></span><span style="color: #990000">();</span>
      Naming<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">rebind</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"BonjourDistant"</span><span style="color: #990000">,</span> service<span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span><span style="color: #990000">(</span><span style="color: #008080">Exception</span> ex<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      ex<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">printStackTrace</span></span><span style="color: #990000">();</span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">MonService</span> service <span style="color: #990000">=</span>
  <span style="color: #990000">(</span>MonService<span style="color: #990000">)</span> Naming<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">lookup</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"rmi://127.0.0.1/BonjourDistant"</span><span style="color: #990000">);</span>
<span style="color: #990000">...</span>
service<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">direBonjour</span></span><span style="color: #990000">();</span></tt></pre></div></div>
</div>
</section>
<section class="slide">
<h2>Le patron Itérateur</h2>
<div class="sect2">
<h3 id="_le_problème_2">16.1. Le problème</h3>
<p>On veut pouvoir :</p>
<ul>
<li class="">
pour accéder au contenu d&#8217;un objet d&#8217;un agrégat sans en révéler la
représentation interne ;
</li>
<li class="">
pour gérer simultanément plusieurs parcours dans des agrégats d&#8217;objets ;
</li>
<li class="">
pour offrir une interface uniforme pour les parcours au travers de
diverses structures agrégats (c&#8217;est-à-dire, pour permettre l&#8217;itération
polymorphe).
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_le_patron_itérateur_2">16.2. Le patron Itérateur</h3>
<p><strong>Itérateur</strong> (<strong><em>Iterator</em></strong>) fournit un moyen d&#8217;accès séquentiel aux éléments
d&#8217;un agrégat d&#8217;objets, sans mettre à découvert la représentation interne de
celui-ci.</p>
<div class="imageblock">
<div class="content">
<img src="images/iterateur.svg" alt="iterateur.svg">
</div>
<div class="title" style="text-align: center">Figure 41. Modèle UML du patron Itérateur</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/iterateur-google.png" alt="iterateur-google.png">
</div>
<div class="title" style="text-align: center">Figure 42. Iterateur sur Google</div>
</div>
</div>
<div class="sect2">
<h3 id="_exemple_concret">16.3. Exemple concret</h3>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># Saluer tout le monde</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> say_hi
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #009900">@names</span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #0000FF">nil</span></span><span style="color: #990000">?</span>
    puts <span style="color: #FF0000">"..."</span>
  <span style="font-weight: bold"><span style="color: #0000FF">elsif</span></span> <span style="color: #009900">@names</span><span style="color: #990000">.</span>respond_to?<span style="color: #990000">(</span><span style="color: #FF0000">"each"</span><span style="color: #990000">)</span>
    <span style="font-style: italic"><span style="color: #9A1900"># @names est une liste de noms : traitons-les uns par uns</span></span>
    <span style="color: #009900">@names</span><span style="color: #990000">.</span>each <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="color: #990000">|</span>name<span style="color: #990000">|</span>
      puts <span style="color: #FF0000">"Hello #{name}!"</span>
    <span style="font-weight: bold"><span style="color: #0000FF">end</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    puts <span style="color: #FF0000">"Hello #{@names}!"</span>
  <span style="font-weight: bold"><span style="color: #0000FF">end</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">end</span></span></tt></pre></div></div>
</div>
</section>
<section class="slide">
<h2>Le patron Composite</h2>
<div class="sect2">
<h3 id="_le_problème_3">17.1. Le problème</h3>
<p>On veut pouvoir :</p>
<ul>
<li class="">
représenter des hiérarchies de l&#8217;individu.
</li>
<li class="">
que le client n&#8217;ait pas à se préoccuper de la différence entre
"combinaisons d&#8217;objets" et "objets individuels". Les clients pourront traiter
de façon uniforme tous les objets de la structure composite.
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_le_patron_composite_2">17.2. Le patron Composite</h3>
<p><strong>Composite</strong> permet de composer des objets en des structures arborescentes
pour représenter des hiérarchies composant/composé.
Permet au client de traiter d&#8217;une façon unique les objets et les combinaisons
d&#8217;objets.</p>
<div class="imageblock">
<div class="content">
<img src="images/composite.svg" alt="composite.svg">
</div>
<div class="title" style="text-align: center">Figure 43. Modèle UML du patron Composite</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/composite-google.png" alt="composite-google.png">
</div>
<div class="title" style="text-align: center">Figure 44. Composite sur Google</div>
</div>
</div>
<div class="sect2">
<h3 id="_exemple_concret_2">17.3. Exemple concret</h3>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>ArrayList<span style="color: #990000">;</span>

<span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Graphic</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">CompositeGraphic</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Graphic <span style="color: #FF0000">{</span>

  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;Graphic&gt;</span> mChildGraphics <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Graphic<span style="color: #990000">&gt;();</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Graphic</span> graphic <span style="color: #990000">:</span> mChildGraphics<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      graphic<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">();</span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphic</span> graphic<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    mChildGraphics<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>graphic<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphic</span> graphic<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    mChildGraphics<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span>graphic<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_un_anti_exemple">17.4. un "Anti" exemple</h3>
<p>Que pensez-vous de cette définition de Composite ?</p>
<div class="imageblock">
<div class="content">
<img src="images/anti-composite.png" alt="anti-composite.png">
</div>
<div class="title" style="text-align: center">Figure 45. Patron abîmé composite</div>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip" />
</td>
<td class="content">On appelle ces modèles des "Patrons abîmés" (<em>anti-patterns</em>).</td>
</tr></table>
</div>
</div>
</section>
<section class="slide">
<h2>Retour sur le refactoring Banque</h2>
<div class="sect2">
<h3 id="_le_problème_4">18.1. Le problème</h3>
<div class="imageblock">
<div class="content">
<img src="images/refactoring1.png" alt="refactoring1.png">
</div>
</div>
<p>Remplacer tous ces <code>switch cases</code></p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>continuer <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>continuer<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
  AAB<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">afficherMenu</span></span><span style="color: #990000">(</span>monAg<span style="color: #990000">);</span>
  choix <span style="color: #990000">=</span> lect<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>
  choix <span style="color: #990000">=</span> choix<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toLowerCase</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">switch</span></span> <span style="color: #990000">(</span>choix<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="color: #990000">...</span>
    <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #FF0000">"p"</span> <span style="color: #990000">:</span>
      System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Propriétaire -&gt; "</span><span style="color: #990000">);</span>
      nom <span style="color: #990000">=</span> lect<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>
      AAB<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">comptesDUnPropretaire</span></span> <span style="color: #990000">(</span>monAg<span style="color: #990000">,</span> nom<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
    <span style="color: #990000">...</span></tt></pre></div></div>
<ul>
<li class="">
Afficher une liste séparemment du switch
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">//AAB.afficherMenu(monAg);</span></span>
  System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Menu de "</span> <span style="color: #990000">+</span> ag<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getNomAgence</span></span><span style="color: #990000">()</span> <span style="color: #990000">+</span> <span style="color: #FF0000">" ("</span> <span style="color: #990000">+</span> ag<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getLocAgence</span></span><span style="color: #990000">()</span> <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">);</span>
  System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"l - Liste des comptes de l'agence"</span><span style="color: #990000">);</span>
  <span style="color: #990000">...</span>
  System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"p - voir les comptes d'un Propriétaire (par son nom)"</span><span style="color: #990000">);</span>
  <span style="color: #990000">...</span>
  System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Choix -&gt; "</span><span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</li>
<li class="">
Tester tous les choix pour actionner la bonne option
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>  <span style="color: #990000">...</span>
  <span style="font-weight: bold"><span style="color: #0000FF">case</span></span> <span style="color: #FF0000">"p"</span> <span style="color: #990000">:</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Propriétaire -&gt; "</span><span style="color: #990000">);</span>
    nom <span style="color: #990000">=</span> lect<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>
    AAB<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">comptesDUnPropretaire</span></span> <span style="color: #990000">(</span>monAg<span style="color: #990000">,</span> nom<span style="color: #990000">);</span>
  <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
  <span style="color: #990000">...</span></tt></pre></div></div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_une_solution">18.2. Une solution</h3>
<ul>
<li class="">
Des listes
</li>
<li class="">
Des options de menu qui encapsulent l&#8217;action à réaliser
</li>
</ul>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">ActionList</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Action <span style="color: #FF0000">{</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">listTitle</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">addAction</span></span><span style="color: #990000">(</span><span style="color: #008080">Action</span> ac<span style="color: #990000">);</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">removeAction</span></span><span style="color: #990000">(</span><span style="color: #008080">Action</span> ac<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> String<span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">listOfActions</span></span><span style="color: #990000">()</span> <span style="color: #990000">;</span>

<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Une interface pour les options de menu</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Action</span>  <span style="color: #FF0000">{</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">actionMessage</span></span> <span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #008080">AgenceBancaire</span> ag<span style="color: #990000">);</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Une classe concrète par option de menu</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Action1</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Action <span style="color: #FF0000">{</span>

  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">String</span> lineMessage<span style="color: #990000">;</span>

  <span style="color: #990000">...</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">actionMessage</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>lineMessage<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #008080">AgenceBancaire</span> ab<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>

    <span style="color: #990000">...</span>
    ab<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">afficher</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Utilisation de l&#8217;action</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>  action<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span>ab<span style="color: #990000">);</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Lien entre liste et action</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">Action</span> a1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Action1</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Liste des comptes de l'agence"</span><span style="color: #990000">);</span>
<span style="color: #008080">Action</span> a2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Action2</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Voir un compte (par son numéro)"</span><span style="color: #990000">);</span>
<span style="color: #008080">Action</span> a3 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Action3</span></span><span style="color: #990000">(...);</span>

<span style="color: #008080">ActionList</span> al1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ActionListAgenceBancaire</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Menu Général"</span><span style="color: #990000">);</span>

al1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addAction</span></span><span style="color: #990000">(</span>a1<span style="color: #990000">);</span>
al1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addAction</span></span><span style="color: #990000">(</span>a2<span style="color: #990000">);</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">Lien entre liste et action : choix dans la liste</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #008080">AgenceBancaire</span> ab<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">throws</span></span> Exception <span style="color: #FF0000">{</span>
  <span style="color: #990000">...</span>
  <span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">printMenu</span></span><span style="color: #990000">();</span>

    choice <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">readResponse</span></span><span style="color: #990000">();</span>
    <span style="color: #990000">...</span>
    <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>myMenu<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>choice<span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span>ab<span style="color: #990000">);</span>
    <span style="color: #990000">...</span></tt></pre></div></div>
<div class="listingblock">
<div class="title">La liste peut elle-même être une option de menu (une action)!</div>
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">ActionList</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Action <span style="color: #FF0000">{</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</section>
<section class="slide">
<h2>Le patron Adaptateur</h2>
<div class="imageblock">
<div class="content">
<img src="images/adaptateur.jpg" alt="adaptateur.jpg">
</div>
</div>
<div class="sect2">
<h3 id="_le_problème_5">19.1. Le problème</h3>
<p>On veut pouvoir :</p>
<ul>
<li class="">
utiliser une classe existante, mais dont <strong>l&#8217;interface ne coïncide pas</strong> avec celle escomptée.
</li>
<li class="">
créer une classe réutilisable qui collabore avec des classes sans relations
avec elle et encore inconnues, c&#8217;est-à-dire avec des classes qui n&#8217;auront <strong>pas
nécessairement des interfaces compatibles</strong>.
</li>
<li class="">
vous avez besoin d&#8217;utiliser plusieurs sous-classes existantes, mais
l'<strong>adaptation de leur interface</strong> par dérivation de chacune d&#8217;entre elles est
impraticable. Un adaptateur objet peut adapter l&#8217;interface de sa classe parente.
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note" />
</td>
<td class="content">Ce dernier cas ne concerne que le cas "adaptateur d&#8217;objet"</td>
</tr></table>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_exemple_concret_le_retour_des_canards">19.2. Exemple concret : le retour des canards</h3>
<ul>
<li class="">
L&#8217;existant :
</li>
</ul>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Canard</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">cancaner</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">voler</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Colvert</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Canard <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">cancaner</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Coincoin"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">voler</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Je vole"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<ul>
<li class="">
Le "presque canard" :
</li>
</ul>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Dindon</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">glouglouter</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">voler</span></span><span style="color: #990000">();</span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">DindonSauvage</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Dindon <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">glouglouter</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Glouglou"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">voler</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Je ne vole pas loin"</span><span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<p>Vous êtes à court d&#8217;objets <code>Canard</code> et vous aimeriez utiliser des objets <code>Dindon</code> à la place!</p>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">AdaptateurDindon</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Canard <span style="color: #FF0000">{</span>
  <span style="color: #008080">Dindon</span> dindon<span style="color: #990000">;</span>

  <span style="color: #990000">...</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">cancaner</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    dindon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">glouglouter</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">voler</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">// Adaptation du vol</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> <span style="color: #993399">5</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
      dindon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">voler</span></span><span style="color: #990000">();</span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
<div class="sect2">
<h3 id="_le_patron_adaptateur_2">19.3. Le patron Adaptateur</h3>
<p><strong>Adaptateur</strong> (<strong><em>Adaptor</em></strong>) permet de convertir l&#8217;interface d&#8217;une classe en une autre
conformément à l&#8217;attente du client. L&#8217;Adaptateur permet à des classes de
collaborer, alors qu’elles n&#8217;auraient pas pu le faire du fait d&#8217;interfaces
incompatibles.</p>
<div class="imageblock">
<div class="content">
<img src="images/adapteur.svg" alt="adapteur.svg">
</div>
<div class="title" style="text-align: center">Figure 46. Modèle UML du patron Adaptateur</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/adaptor-google.png" alt="adaptor-google.png">
</div>
<div class="title" style="text-align: center">Figure 47. Adaptateur sur Google</div>
</div>
</div>
</section>
<section class="slide">
<h2>Pour aller plus loin avec les patrons&#8230;</h2>
<div class="imageblock">
<div class="content">
<img src="images/plusloin.jpg" alt="link=http://blogs.radiocanut.org/onestpasdescadeaux/2014/02/16/pour-aller-plus-loin-avec-les-non-mixites/">
</div>
</div>
<div class="sect2">
<h3 id="_partagez_votre_vocabulaire">20.1. Partagez votre vocabulaire</h3>
<ul>
<li class="">
Dans les réunions de conception (pas nécessairement avec le client)
</li>
<li class="">
Avec les autres développeurs
</li>
<li class="">
Dans la documentation de votre architecture
</li>
<li class="">
Dans les commentaires du code et les conventions de nommage
</li>
<li class="">
Dans les groupes/blogs de développeurs
</li>
<li class="">
(pas pendant les exams!)
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_ne_foncez_pas_tête_baissée">20.2. Ne foncez pas tête baissée</h3>
<p>Quelques conseils :</p>
<ul>
<li class="">
Les patterns sont des <strong>outils, non des règles</strong>.
<p>&#8658; Rien n&#8217;empêche de les modifier et de les adapter à votre
problème.</p>
</li>
<li class="">
Ne visez l&#8217;extensibilité <strong>que si la question se pose réellement</strong> dans la pratique,
pas si elle est uniquement hypothétique.
</li>
<li class="">
Ne vous emballez pas et <strong>recherchez la simplicité</strong>.
<p>&#8658; Si vous trouvez une solution plus simple que l&#8217;emploi d&#8217;un pattern, n&#8217;hésitez pas !</p>
</li>
<li class="">
Éliminez ce qui n’est pas vraiment nécessaire.
<p>&#8658; N’ayez pas peur de <strong>supprimer un design pattern inutile</strong> de votre conception.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_les_autres_types_de_patrons">20.3. Les autres types de patrons</h3>
<p>Il n&#8217;y a pas que les 3 types de patrons que l&#8217;on a vu :</p>
<ul>
<li class="">
De création
</li>
<li class="">
Structurels
</li>
<li class="">
Comportementaux
</li>
</ul>
<p>Il y a par exemple :</p>
<ul>
<li class="">
Les patrons d&#8217;architecture
</li>
<li class="">
Les patrons d&#8217;application
</li>
<li class="">
Les patrons de domaine
</li>
<li class="">
Les patrons de processus
</li>
<li class="">
Les patrons d&#8217;organisation
</li>
<li class="">
Les patrons de conception d&#8217;interfaces utilisateur
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_les_anti_patrons">20.4. Les anti-patrons</h3>
<div class="imageblock">
<div class="content">
<img src="images/anti-patrons.jpg" alt="anti-patrons.jpg">
</div>
</div>
<ul>
<li class="">
Des solutions souvent <strong>appliquées à tort</strong> à des problèmes récurrents
</li>
<li class="">
Décrit comment partir d&#8217;un problème pour arriver à une <strong>mauvaise solution</strong>
</li>
<li class="">
Vous dit <strong>pourquoi</strong> une mauvaise solution est attrayante
</li>
<li class="">
Suggère d&#8217;autres patrons applicables pouvant fournir de meilleures solutions
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_tous_les_patrons_qu_8217_on_a_pas_vu">20.5. Tous les patrons qu&#8217;on a pas vu</h3>
<p>Il y en a beaucoup :</p>
<ul>
<li class="">
Chaîne de responsabilité
</li>
<li class="">
Commande
</li>
<li class="">
Décorateur
</li>
<li class="">
Façade
</li>
<li class="">
Interprète
</li>
<li class="">
Médiateur
</li>
<li class="">
Mémento
</li>
<li class="">
Monteur
</li>
<li class="">
Patron de méthode
</li>
<li class="">
Poids-mouche
</li>
<li class="">
Pont
</li>
<li class="">
Prototype
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_principale_utilisation_des_patrons_refactoring">20.6. Principale utilisation des patrons : refactoring!</h3>
<p>&#8658; Les 2 prochaines semaines vous allez refactorer une application :</p>
<ul>
<li class="">
en binôme
</li>
<li class="">
en testant
</li>
<li class="">
en documentant
</li>
<li class="">
en justifiant
</li>
<li class="">
en essayant pas à tout prix de caser le plus de patrons "au kilo"
</li>
</ul>
</div>
</section>
<section class="slide">
<h2>Glossaire et définition</h2>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning" />
</td>
<td class="content">Ces définitions seront enrichies au fur et à mesure des patrons
étudiés.</td>
</tr></table>
</div>
<section class="slide">
<h2>Patrons de création</h2>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Singleton"></a> Singleton
</dt>
<dd>
<p>
<strong>Singleton</strong> garantit qu&#8217;une classe n&#8217;a qu&#8217;une seule instance et
fournit un point d&#8217;accès global à cette instance.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/singleton.png" alt="singleton.png">
</div>
<div class="title" style="text-align: center">Figure 48. Modèle UML du patron <em>Singleton</em></div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Fabrique"></a> Fabrique
</dt>
<dd>
<p>
<strong>Fabrique</strong> (simple) définit une interface pour la création d&#8217;un objet, mais en laissant
à des sous-classes le choix des classes à instancier (voir aussi <a href="#FabriqueAbstraite">Fabrique abstraite</a>).
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/fabrique.png" alt="fabrique.png">
</div>
<div class="title" style="text-align: center">Figure 49. Modèle UML du patron Fabrique</div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="FabriqueAbstraite"></a> Fabrique abstraite
</dt>
<dd>
<p>
<strong>Fabrique</strong> (abstraite) fournit une interface pour la création de familles
d&#8217;objets apparentés ou interdépendants, sans qu&#8217;il soit nécessaire de spécifier
leurs classes concrètes (voir aussi <a href="#Fabrique">Fabrique</a>).
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/fabrique-abstraite.svg" alt="fabrique-abstraite.svg">
</div>
<div class="title" style="text-align: center">Figure 50. Modèle UML du patron Fabrique Abstraite</div>
</div>
</section>
<div class="sect2">
<h3 id="_patrons_comportementaux">Patrons comportementaux</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Etat"></a> État (<em>State<sup>uk</sup></em>)
</dt>
<dd>
<p>
<strong>Etat</strong> permet à un objet de modifier son comportement,
quand son état interne change.
Tout se passe comme si l&#8217;objet changeait de classe.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/etat.png" alt="etat.png">
</div>
<div class="title" style="text-align: center">Figure 51. Modèle UML du patron Etat</div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Itérateur"></a> Itérateur (<em>Iterator<sup>uk</sup></em>)
</dt>
<dd>
<p>
<strong>Itérateur</strong> (<strong><em>Iterator</em></strong>) fournit un moyen d&#8217;accès séquentiel aux éléments
d&#8217;un agrégat d&#8217;objets, sans mettre à découvert la représentation interne de
celui-ci.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/iterateur.svg" alt="iterateur.svg">
</div>
<div class="title" style="text-align: center">Figure 52. Modèle UML du patron Itérateur</div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Observateur"></a> Observateur (<em>Observer<sup>uk</sup></em>)
</dt>
<dd>
<p>
<strong>Observateur</strong> définit une relation entre objets de type
un-à-plusieurs, de façon que, lorsqu&#8217;un objet change d'état,
tous ceux qui en dépendent en soient notifiés et soient mis à jour
automatiquement.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/observateur.svg" alt="observateur.svg">
</div>
<div class="title" style="text-align: center">Figure 53. Modèle UML du patron <em>Observer</em></div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Stratégie"></a> Stratégie (<em>Strategy<sup>uk</sup></em>)
</dt>
<dd>
<p>
<strong>Stratégie</strong> définit une famille d&#8217;algorithmes, encapsule chacun d&#8217;eux et les
rend interchangeables.
Il permet à l&#8217;algorithme de varier indépendamment des clients qui l&#8217;utilisent.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/strategy.png" alt="strategy.png">
</div>
<div class="title" style="text-align: center">Figure 54. Modèle UML du patron <em>Strategy</em></div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Stratégie"></a> Visiteur (<em>Visitor<sup>uk</sup></em>)
</dt>
<dd>
<p>
<strong>Visiteur</strong> (<strong><em>Visitor</em></strong>) permet la représentation d&#8217;une opération applicable
aux éléments d&#8217;une structure d&#8217;objet. Il définit une nouvelle opération,
sans qu&#8217;il soit nécessaire de modifier la classe des éléments sur lesquels
elle agit.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/visitor-dc.svg" alt="visitor-dc.svg">
</div>
<div class="title" style="text-align: center">Figure 55. Patron Visiteur : structure</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/visitor-seq.png" alt="visitor-seq.png">
</div>
<div class="title" style="text-align: center">Figure 56. Patron Visiteur : comportement</div>
</div>
</div>
<div class="sect2">
<h3 id="_patrons_structurels">Patrons structurels</h3>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Adapteur"></a> Adaptateur (<em>Adaptor<sup>uk</sup></em>)
</dt>
<dd>
<p>
<strong>Adaptateur</strong> (<strong><em>Adaptor</em></strong>) permet de convertir l&#8217;interface d&#8217;une classe en une autre
conformément à l&#8217;attente du client. L&#8217;Adaptateur permet à des classes de
collaborer, alors qu’elles n&#8217;auraient pas pu le faire du fait d&#8217;interfaces
incompatibles.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/adapteur.svg" alt="adapteur.svg">
</div>
<div class="title" style="text-align: center">Figure 57. Modèle UML du patron Adaptateur</div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Composite"></a> Composite
</dt>
<dd>
<p>
<strong>Composite</strong> permet de composer des objets en des structures arborescentes
pour représenter des hiérarchies composant/composé.
Permet au client de traiter d&#8217;une façon unique les objets et les combinaisons
d&#8217;objets.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/composite.svg" alt="composite.svg">
</div>
<div class="title" style="text-align: center">Figure 58. Modèle UML du patron Composite</div>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<a id="Proxy"></a> Procuration (<em>Proxy<sup>uk</sup></em>)
</dt>
<dd>
<p>
<strong>Procuration</strong> (<strong><em>Proxy</em></strong>) fournit à un tiers un mandataire ou un remplaçant, pour contrôler
l&#8217;accès à cet objet.
</p>
</dd>
</dl></div>
<div class="imageblock">
<div class="content">
<img src="images/proxy.png" alt="proxy.png">
</div>
<div class="title" style="text-align: center">Figure 59. Modèle UML du patron <em>Proxy</em></div>
</div>
</div>
</section>
<section class="slide">
<h2>Références</h2>
<div class="ulist bibliography"><ul>
<li>
<p>
<a id="GoF"></a>[GoF] Design Patterns: Elements of reusable object oriented software. 1994.
</p>
</li>
<li>
<p>
<a id="Freeman04"></a>[Freeman04] Design Pattren - Head First, O&#8217;Reilly, 09/2004.
</p>
</li>
<li>
<p>
<a id="Cysboy"></a>[Cysboy] Apprenez à programmer en Java. Par <code>cysboy</code>. Disponible <a href="https://app.box.com/shared/yrlj0takyhjeg1mefacy">ici</a> (le 2015-11-15).
</p>
</li>
<li>
<p>
GOPROD - De bonnes pratiques au service de la conception orientée objets. Disponible <a href="http://www.goprod.bouhours.net">ici</a> (le 2015-11-15).
</p>
</li>
<li>
<p>
<a id="Larman05"></a>[Larman05] Larman, Craig. Applying UML and Patterns – An Introduction to Object-Oriented Analysis and Design
and Iterative Development (3rd ed.). Prentice Hall. 2005. ISBN 0-13-148906-2.
</p>
</li>
<li>
<p>
<a id="Meyer88"></a>[Meyer88] Meyer, Bertrand. Object-Oriented Software Construction. Prentice Hall. 1988. ISBN 0-13-629049-3.
</p>
</li>
<li>
<p>
<a id="Martin03"></a>[Martin03] “Principles Of OOD”, Robert C. Martin (“Uncle BOB”), <a href="http://butunclebob.com">http://butunclebob.com</a> (Last verified 2014-07-17).
Note the reference to “the first five principles”, though the acronym is not used in this article. Dates back to at least 2003.
</p>
</li>
</ul></div>
</section>
<section class="slide">
<h2>About&#8230;</h2>
<div class="sidebarblock">
<div class="content">
<p>Document réalisé par <a href="mailto:jbruel@gmail.com">Jean-Michel Bruel</a> via  <a href="http://asciidoctor.org/">Asciidoctor</a> (version <code>{asciidoctor-version}</code>) de <em>Dan Allen</em>, lui même basé sur <a href="http://www.methods.co.nz/asciidoc">AsciiDoc</a>.
Pour l&#8217;instant ce document est libre d&#8217;utilisation et géré par la <em>Licence Creative Commons</em>.
<span class="image">
<a class="image" href="http://creativecommons.org/licenses/by-sa/3.0/">
<img src="images/88x31.png" alt="Licence Creative Commons" />
</a>
</span>
<a href="http://creativecommons.org/licenses/by-sa/3.0/">licence Creative Commons Paternité - Partage à l&#39;Identique 3.0 non transposé</a>.</p>
</div></div>
</section>
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>
<p class="deck-status">
        <span class="deck-status-current"></span>
        /
        <span class="deck-status-total"></span>
</p>
<div class="deck-toc"></div>
<form action="." method="get" class="goto-form">
        <label for="goto-slide">Go to slide:</label>
        <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
        <datalist id="goto-datalist"></datalist>
        <input type="submit" value="Go">
</form>
<!-- Other extension HTML snippets go here, at the bottom of the deck container. -->
<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
        (function($, deck, undefined) {


                $.extend(true, $[deck].defaults, {
                        countNested: false
                });

                $.deck('.slide');
        })(jQuery, 'deck');
</script>
</body>
</html>
