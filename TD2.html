<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.1">
<meta name="author" content="Dut/Info-S3/M3105">
<meta name="copyright" content="{date=2014-11-19}, IUT Blagnac *** Dut/Info-S3/M3105 *** Powered by AsciiDoc and W3C Slidy &amp;#169;">
<title>CPOA - Sujet TD 2</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./pygments-default.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>CPOA - Sujet TD 2</h1>
<div class="details">
<span id="author" class="author">Dut/Info-S3/M3105</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_rappel_du_cours">1. Rappel du cours</a></li>
<li><a href="#_application">2. Application</a>
<ul class="sectlevel2">
<li><a href="#_exemple_de_code_d_accès_à_une_base_de_données">2.1. Exemple de code d&#8217;accès à une base de données</a></li>
<li><a href="#_réflexion_sur_l_unicité_des_instances">2.2. Réflexion sur l&#8217;unicité des instances</a></li>
<li><a href="#_essayons_de_limiter_la_création_d_une_seule_instance">2.3. Essayons de limiter la création d&#8217;une seule instance</a></li>
<li><a href="#_application_à_chocobon">2.4. Application à Chocobon</a></li>
<li><a href="#_problème_de_la_solution_précédente">2.5. Problème de la solution précédente</a></li>
</ul>
</li>
<li><a href="#_le_patron_singleton">3. Le patron Singleton</a></li>
<li><a href="#_le_patron_fabrique">4. Le patron Fabrique</a></li>
<li><a href="#_le_patron_fabrique_abstraite">5. Le patron Fabrique Abstraite</a></li>
<li><a href="#_pour_aller_plus_loin">Pour aller plus loin</a></li>
<li><a href="#_about">About&#8230;&#8203;</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table id="cartouche" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 9%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreReq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Je sais programmer en <a href="https://www.java.com/fr/">Java</a>.
2. J&#8217;ai conscience qu&#8217;il faut réfléchir avant de se lancer dans le codage.
3. Je maîtrise les concepts objet de base (héritage, polymorphisme, &#8230;&#8203;).
4. J&#8217;ai compris ce qu&#8217;est un patron et j&#8217;ai grand soif d&#8217;en apprendre d&#8217;autres que
<em>Strategy</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjTD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aborder les patrons <strong>singleton</strong> et <strong>fabrique</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Durée</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>1</strong> TD et <strong>2</strong> TP de 1,5h (sur 2 semaines).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_rappel_du_cours"><a class="link" href="#_rappel_du_cours">1. Rappel du cours</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip">
</td>
<td class="content">
N&#8217;hésitez pas à (re)lire régulièrement le <a href="http://iut-blagnac.github.io/cpoa/">Support de Cours</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dans ce TD nous allons travailler autour des patrons <a href="#Singleton">Design pattern : <strong>Singleton</strong></a> et <a href="#Fabrique">Design pattern : <strong>Fabrique</strong></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_application"><a class="link" href="#_application">2. Application</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Idée : Je ne veux qu&#8217;il n&#8217;y ait qu&#8217;une seule fenêtre de type d&#8217;édition.</p>
</div>
<div class="sect2">
<h3 id="_exemple_de_code_d_accès_à_une_base_de_données"><a class="link" href="#_exemple_de_code_d_accès_à_une_base_de_données">2.1. Exemple de code d&#8217;accès à une base de données</a></h3>
<div class="listingblock">
<div class="title">Programme d&#8217;accès à une BD en Java</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-n">Unresolved</span> <span class="tok-n">directive</span> <span class="tok-n">in</span> <span class="tok-n">TD2</span><span class="tok-o">.</span><span class="tok-na">asc</span> <span class="tok-o">-</span> <span class="tok-nl">include:</span><span class="tok-o">:</span><span class="tok-n">src</span><span class="tok-o">/</span><span class="tok-n">java</span><span class="tok-o">/</span><span class="tok-n">TD2</span><span class="tok-o">/</span><span class="tok-n">src</span><span class="tok-o">/</span><span class="tok-n">Transact</span><span class="tok-o">.</span><span class="tok-na">java</span><span class="tok-o">[]</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph">
<p>Que pensez-vous du code ci-dessus?</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_réflexion_sur_l_unicité_des_instances"><a class="link" href="#_réflexion_sur_l_unicité_des_instances">2.2. Réflexion sur l&#8217;unicité des instances</a></h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph">
<p>Trouvez des exemples de situations où il est important de n&#8217;avoir
qu&#8217;une seule instance d&#8217;une classe donnée?</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_essayons_de_limiter_la_création_d_une_seule_instance"><a class="link" href="#_essayons_de_limiter_la_création_d_une_seule_instance">2.3. Essayons de limiter la création d&#8217;une seule instance</a></h3>
<div class="sect3">
<h4 id="_avec_une_variable_de_classe_compteur"><a class="link" href="#_avec_une_variable_de_classe_compteur">2.3.1. Avec une variable de classe compteur</a></h4>

</div>
<div class="sect3">
<h4 id="_avec_une_méthode_getinstance"><a class="link" href="#_avec_une_méthode_getinstance">2.3.2. Avec une méthode getInstance()</a></h4>

</div>
<div class="sect3">
<h4 id="_en_interdisant_l_accès_au_constructeur"><a class="link" href="#_en_interdisant_l_accès_au_constructeur">2.3.3. En interdisant l&#8217;accès au constructeur</a></h4>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-kd">public</span> <span class="tok-nf">maClasse</span><span class="tok-o">()</span> <span class="tok-o">{</span>
	<span class="tok-kd">private</span> <span class="tok-nf">MaClasse</span><span class="tok-o">()</span> <span class="tok-o">{}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_application_à_chocobon"><a class="link" href="#_application_à_chocobon">2.4. Application à Chocobon</a></h3>

</div>
<div class="sect2">
<h3 id="_problème_de_la_solution_précédente"><a class="link" href="#_problème_de_la_solution_précédente">2.5. Problème de la solution précédente</a></h3>
<div class="paragraph">
<p>Multithreading</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_patron_singleton"><a class="link" href="#_le_patron_singleton">3. Le patron Singleton</a></h2>
<div class="sectionbody">
<div id="Singleton" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="images/icons/pattern.jpeg" alt="Note">
</td>
<td class="content">
<div class="title">Design pattern : <strong>Singleton</strong></div>
<div class="paragraph">
<p><strong>Singleton</strong> garantit qu&#8217;une classe n&#8217;a qu&#8217;une seule instance et
fournit un point d&#8217;accès global à cette instance.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/singleton.png" alt="singleton">
</div>
<div class="title">Figure 1. Modèle UML du patron <em>Singleton</em></div>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/google-singleton.png"><img src="images/google-singleton.png" alt="google singleton"></a>
</div>
<div class="title">Figure 2. Quelques exemples de description du patron Singleton</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_patron_fabrique"><a class="link" href="#_le_patron_fabrique">4. Le patron Fabrique</a></h2>
<div class="sectionbody">
<div id="Fabrique" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="images/icons/pattern.jpeg" alt="Note">
</td>
<td class="content">
<div class="title">Design pattern : <strong>Fabrique</strong></div>
<div class="paragraph">
<p>Unresolved directive in TD2.asc - include::pattern/fabrique.txt[]</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/google-fabrique.png"><img src="images/google-fabrique.png" alt="google fabrique"></a>
</div>
<div class="title">Figure 3. Quelques exemples de description du patron Fabrique</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_patron_fabrique_abstraite"><a class="link" href="#_le_patron_fabrique_abstraite">5. Le patron Fabrique Abstraite</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>[[Fabrique Abstraite]]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="images/icons/pattern.jpeg" alt="Note">
</td>
<td class="content">
<div class="title">Design pattern : <strong>Fabrique Abstraite</strong></div>
<div class="paragraph">
<p>Unresolved directive in TD2.asc - include::pattern/fabrique-abstraite.txt[]</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pour_aller_plus_loin"><a class="link" href="#_pour_aller_plus_loin">Pour aller plus loin</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph">
<p>Quelle est la différence entre un singleton et une variable globale?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph">
<p>Comment testeriez-vous la mise en oeuvre du patron <a href="#singleton">Singleton</a>?</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip">
</td>
<td class="content">
N&#8217;hésitez pas à consulter
<a href="http://thecodersbreakfast.net/index.php?post/2008/02/25/26-de-la-bonne-implementation-du-singleton-en-java">le site où j&#8217;ai tiré cet exercice</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about"><a class="link" href="#_about">About&#8230;&#8203;</a></h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Document réalisé par <a href="mailto:{email}">Dut/Info-S3/M3105</a> via  <a href="http://asciidoctor.org/">Asciidoctor</a> (version <code>1.5.1</code>) de 'Dan Allen', lui même basé sur <a href="http://www.methods.co.nz/asciidoc">AsciiDoc</a>.
Pour l&#8217;instant ce document est libre d&#8217;utilisation et géré par la 'Licence Creative Commons'.
<span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="images/88x31.png" alt="Licence Creative Commons"></a></span>
<a href="http://creativecommons.org/licenses/by-sa/3.0/">licence Creative Commons Paternité - Partage à l&#39;Identique 3.0 non transposé</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-11-19 13:29:10 CET
</div>
</div>
</body>
</html>