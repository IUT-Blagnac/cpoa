= CPOA : les premiers *patrons*
Jean-Michel Bruel <jbruel@gmail.com>
v2.0, {localdate}
:icons: font
:experimental:
:status:
:imagesdir: images
:inclusion:
:siteurl: http://bit.ly/jmb-cpoa
//--------------------- slides
ifdef::slides[]
:dzslides-style: tomorrow
//:dzslides-style: stormy, watermelon, tomorrow, truffle, statement, default
:dzslides-transition: fade
:dzslides-fonts: family=Yanone+Kaffeesatz:400,700,200,300&family=Cedarville+Cursive
//:dzslides-highlight: asciidoctor
:dzslides-highlight: monokai
:source-highlighter: highlightjs
:dzslides-status:
:topic: .topic
:intro: .topic.intro
:statement: .topic.statement
:incremental: .incremental
:source: .topic.source
endif::slides[]
//--------------------- cours
ifndef::slides[]
:source-highlighter: highlight
:topic:
:intro:
:statement:
:incremental: %step
:source:
endif::slides[]


// ------------------------------------------ definitions
ifndef::definitions[]
include::definitions.txt[]
endif::definitions[]
:androidicon: Android icon:android[role=lime]
:iosicon: http://www.apple.com/fr/ios/[iOS icon:apple[]]

ifdef::slides[]

[{topic}]
== Suivre ces slides icon:mobile[] icon:tablet[] icon:laptop[]...

image::qrcode.png[link="qrcode.png",alt="http://bit.ly/jmb-cpoa",width=40%]

.........
http://bit.ly/jmb-cpoa
http://iut-blagnac.github.io/cpoa/
.........

endif::slides[]


[{topic}]
== icon:book[] Plan

[{incremental}]
- Introduction
- Rappels Java
- Base des patrons

[{topic}]
== What's wrong (non Java example)?

image::featureEnvy.png[link="https://codeburst.io/write-clean-code-and-get-rid-of-code-smells-aea271f30318",width=80%]

[{topic}]
== What's wrong (Java example) ?

[source,java]
----
public class Phone {
  private final String unformattedNumber;
  public Phone(String unformattedNumber) {
    this.unformattedNumber = unformattedNumber;
  }
 
 public String getAreaCode() {
  return unformattedNumber.substring(0,3);
 }

 public String getPrefix() {
  return unformattedNumber.substring(3,6);
 }

 public String getNumber() {
  return unformattedNumber.substring(6,10);
 }
}

public class Customer {
  
  public String getMobilePhoneNumber() {
    Phone m_Phone = new Phone("111-123-2345");
    return "(" + m_Phone.getAreaCode() + ") "
      + m_Phone.getPrefix() + "-"
      + m_Phone.getNumber();
  }
}
----

[{topic}]
== What's wrong (solution) ?

//[source,ruby,linenums]
[source,java]
----
public class Phone {
  private final String unformattedNumber;
  
  public Phone(String unformattedNumber) {
    this.unformattedNumber = unformattedNumber;
  }
 
 public String getAreaCode() {
  return unformattedNumber.substring(0,3);
 }

 public String getPrefix() {
  return unformattedNumber.substring(3,6);
 }

 public String getNumber() {
  return unformattedNumber.substring(6,10);
 }

 public String toString() {
  return "(" + this.getAreaCode() + ") "
      + this.getPrefix() + "-"
      + this.getNumber();
  }
}

public class Customer {
  
  public String getMobilePhoneNumber() {
    Phone m_Phone = new Phone("111-123-2345");
    return m_Phone;
  }
}
----

include::introduction.asc[]


[{topic}]
== *Rappels* sur des éléments Java importants

//-------------- book
ifdef::backend-pdf[]
Ces rappels ont été introduits dans mon cours au fur et à mesure
des constats de manques et de difficultés des étudiants pour aborder
correctement la programmation des patrons.
endif::backend-pdf[]
//--------------------

ifdef::slides[]
include::typage.asc[]
endif::slides[]
ifndef::slides[]
include::typage.asc[leveloffset=+1]
endif::slides[]

ifdef::slides[]
include::visibilite.asc[]
endif::slides[]
ifndef::slides[]
include::visibilite.asc[leveloffset=+1]
endif::slides[]

ifdef::slides[]
include::static.asc[]
endif::slides[]
ifndef::slides[]
include::static.asc[leveloffset=+1]
endif::slides[]

ifdef::slides[]
include::enum.asc[]
endif::slides[]
ifndef::slides[]
include::enum.asc[leveloffset=+1]
endif::slides[]


