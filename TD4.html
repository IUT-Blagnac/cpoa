<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="Dut/Info-S3/M3105 - Semaine 3 (49)">
<meta name="copyright" content="{date=2014-12-06}, IUT Blagnac *** Dut/Info-S3/M3105 - Semaine 3 (49) *** Powered by AsciiDoc and W3C Slidy &amp;#169;">
<title>CPOA - Sujet TD 4</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="./pygments-default.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>CPOA - Sujet TD 4</h1>
<div class="details">
<span id="author" class="author">Dut/Info-S3/M3105 - Semaine 3 (49)</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_rappel_du_cours">1. Rappel du cours</a></li>
<li><a href="#_différences_entre_dépendance_association_composition_agrégation">2. Différences entre dépendance, association, composition, agrégation</a></li>
<li><a href="#_patrons">3. Patrons</a></li>
<li><a href="#_machines_à_état">4. Machines à état</a></li>
<li><a href="#_diagrammes_de_séquences">5. Diagrammes de séquences</a></li>
<li><a href="#_pour_aller_plus_loin">Pour aller plus loin</a></li>
<li><a href="#_about">About&#8230;&#8203;</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table id="cartouche" class="tableblock frame-all grid-all" style="width: 90%;">
<colgroup>
<col style="width: 9%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreReq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1. Je sais programmer en <a href="https://www.java.com/fr/">Java</a>.
2. J&#8217;ai conscience qu&#8217;il faut réfléchir avant de se lancer dans le codage.
3. Je maîtrise patrons de conception.
4. Je maîtrise les diagrammes UML de classe, de séquence et d&#8217;états</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ObjTD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aborder le patron <strong>fabrique</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Durée</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>1</strong> TD</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_rappel_du_cours"><a class="link" href="#_rappel_du_cours">1. Rappel du cours</a></h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="images/icons/tip.png" alt="Tip">
</td>
<td class="content">
N&#8217;hésitez pas à (re)lire régulièrement le <a href="http://iut-blagnac.github.io/cpoa/">Support de Cours</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_différences_entre_dépendance_association_composition_agrégation"><a class="link" href="#_différences_entre_dépendance_association_composition_agrégation">2. Différences entre dépendance, association, composition, agrégation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Soit le diagramme de classe partiel suivant :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/assoc1.png" alt="assoc1">
</div>
<div class="title">Figure 1. Diagramme de classe partiel</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph">
<p>Complétez en ajoutant les relations (dépendance, association,
	composition, agrégation) entre les classes.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_patrons"><a class="link" href="#_patrons">3. Patrons</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph">
<p>Pour chacun des diagrammes de classe partiels suivants (représentant
des patrons que vous connaissez), complétez :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le nom du patron dans la légende,</p>
</li>
<li>
<p>en ajoutant les relations.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/fabrique-c.png" alt="fabrique c">
</div>
<div class="title">Figure 2. Patron &#8230;&#8203;</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/etat-c.png" alt="etat c">
</div>
<div class="title">Figure 3. Patron &#8230;&#8203;</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/observateur-c.png" alt="observateur c">
</div>
<div class="title">Figure 4. Patron &#8230;&#8203;</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/strategy-c.png" alt="strategy c">
</div>
<div class="title">Figure 5. Patron &#8230;&#8203;</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_machines_à_état"><a class="link" href="#_machines_à_état">4. Machines à état</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dessinez le diagramme d’états correspondant au déroulement d’une partie
d’échecs.</p>
</li>
<li>
<p>Dessinez le diagramme d’états correspondant aux feux tricolores (en France)
classiques. Ajoutez la prise en compte de la panne dans un 2ème temps.</p>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_diagrammes_de_séquences"><a class="link" href="#_diagrammes_de_séquences">5. Diagrammes de séquences</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vous devez documenter, à partir des extraits de codes <a href="https://www.java.com/fr/">Java</a> suivants,
l&#8217;application <code>ApplicationBanque</code>, développée en S2.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="images/icons/note.png" alt="Note">
</td>
<td class="content">
Vous refactorerez cette application en TP, l&#8217;objectif n&#8217;est donc pas
pour l&#8217;instant de remédier aux problèmes de conception mais plutôt de les
identifier.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Méthode statique <code>comptesDUnPropretaire</code> (<code>ApplicationAgenceBancaire.java</code>)</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">comptesDUnPropretaire</span> <span class="tok-o">(</span><span class="tok-n">AgenceBancaire</span> <span class="tok-n">ag</span><span class="tok-o">,</span> <span class="tok-n">String</span> <span class="tok-n">nomProprietaire</span><span class="tok-o">)</span> <span class="tok-o">{</span>
	<span class="tok-n">Compte</span> <span class="tok-o">[]</span>  <span class="tok-n">t</span><span class="tok-o">;</span>

	<span class="tok-n">t</span> <span class="tok-o">=</span> <span class="tok-n">ag</span><span class="tok-o">.</span><span class="tok-na">getComptesDe</span><span class="tok-o">(</span><span class="tok-n">nomProprietaire</span><span class="tok-o">);</span>
	<span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">t</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-o">)</span> <span class="tok-o">{</span>
		<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;pas de compte à ce nom ...&quot;</span><span class="tok-o">);</span>
	<span class="tok-o">}</span> <span class="tok-k">else</span> <span class="tok-o">{</span>
		<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;  &quot;</span> <span class="tok-o">+</span> <span class="tok-n">t</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">+</span> <span class="tok-s">&quot; comptes pour &quot;</span> <span class="tok-o">+</span> <span class="tok-n">nomProprietaire</span><span class="tok-o">);</span>
		<span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">&lt;</span><span class="tok-n">t</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++)</span>
		<span class="tok-n">t</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">].</span><span class="tok-na">afficher</span><span class="tok-o">();</span>
	<span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="paragraph">
<p>Réalisez un diagramme de séquence illustrant le fonctionnement de cette
méthode.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title"><code>ApplicationAgenceBancaire.java</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ApplicationAgenceBancaire</span> <span class="tok-o">{</span>

	<span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">argv</span><span class="tok-o">[])</span> <span class="tok-o">{</span>

		<span class="tok-n">String</span> <span class="tok-n">choix</span><span class="tok-o">;</span>

		<span class="tok-kt">boolean</span> <span class="tok-n">continuer</span> <span class="tok-o">;</span>
		<span class="tok-n">Scanner</span> <span class="tok-n">lect</span><span class="tok-o">;</span>
		<span class="tok-n">AgenceBancaire</span> <span class="tok-n">monAg</span> <span class="tok-o">;</span>

		<span class="tok-n">String</span> <span class="tok-n">nom</span><span class="tok-o">,</span> <span class="tok-n">numero</span><span class="tok-o">;</span>
		<span class="tok-n">Compte</span> <span class="tok-n">c</span><span class="tok-o">;</span>
		<span class="tok-kt">double</span> <span class="tok-n">montant</span><span class="tok-o">;</span>

		<span class="tok-n">lect</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nf">Scanner</span> <span class="tok-o">(</span> <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span> <span class="tok-o">);</span>
		<span class="tok-n">lect</span><span class="tok-o">.</span><span class="tok-na">useLocale</span><span class="tok-o">(</span><span class="tok-n">Locale</span><span class="tok-o">.</span><span class="tok-na">US</span><span class="tok-o">);</span>

		<span class="tok-n">monAg</span> <span class="tok-o">=</span> <span class="tok-n">AccesAgenceBancaire</span><span class="tok-o">.</span><span class="tok-na">getAgenceBancaire</span><span class="tok-o">();</span>

		<span class="tok-n">continuer</span> <span class="tok-o">=</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
		<span class="tok-k">while</span> <span class="tok-o">(</span><span class="tok-n">continuer</span><span class="tok-o">)</span> <span class="tok-o">{</span>
			<span class="tok-o">...</span>
			<span class="tok-n">choix</span> <span class="tok-o">=</span> <span class="tok-n">lect</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
			<span class="tok-n">choix</span> <span class="tok-o">=</span> <span class="tok-n">choix</span><span class="tok-o">.</span><span class="tok-na">toLowerCase</span><span class="tok-o">();</span>
			<span class="tok-k">switch</span> <span class="tok-o">(</span><span class="tok-n">choix</span><span class="tok-o">)</span> <span class="tok-o">{</span>
				<span class="tok-k">case</span> <span class="tok-s">&quot;q&quot;</span> <span class="tok-o">:</span>
				<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;ByeBye&quot;</span><span class="tok-o">);</span>
				<span class="tok-n">continuer</span> <span class="tok-o">=</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
				<span class="tok-k">break</span><span class="tok-o">;</span>
				<span class="tok-k">case</span> <span class="tok-s">&quot;l&quot;</span> <span class="tok-o">:</span>
				<span class="tok-n">monAg</span><span class="tok-o">.</span><span class="tok-na">afficher</span><span class="tok-o">();</span>
				<span class="tok-k">break</span><span class="tok-o">;</span>
				<span class="tok-k">case</span> <span class="tok-s">&quot;v&quot;</span> <span class="tok-o">:</span>
				<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Num compte -&gt; &quot;</span><span class="tok-o">);</span>
				<span class="tok-n">numero</span> <span class="tok-o">=</span> <span class="tok-n">lect</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
				<span class="tok-n">c</span> <span class="tok-o">=</span> <span class="tok-n">monAg</span><span class="tok-o">.</span><span class="tok-na">getCompte</span><span class="tok-o">(</span><span class="tok-n">numero</span><span class="tok-o">);</span>
				<span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">c</span><span class="tok-o">==</span><span class="tok-kc">null</span><span class="tok-o">)</span> <span class="tok-o">{</span>
					<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Compte inexistant ...&quot;</span><span class="tok-o">);</span>
				<span class="tok-o">}</span> <span class="tok-k">else</span> <span class="tok-o">{</span>
					<span class="tok-n">c</span><span class="tok-o">.</span><span class="tok-na">afficher</span><span class="tok-o">();</span>
				<span class="tok-o">}</span>
				<span class="tok-k">break</span><span class="tok-o">;</span>
				<span class="tok-k">case</span> <span class="tok-s">&quot;p&quot;</span> <span class="tok-o">:</span>
				<span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-s">&quot;Propriétaire -&gt; &quot;</span><span class="tok-o">);</span>
				<span class="tok-n">nom</span> <span class="tok-o">=</span> <span class="tok-n">lect</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">();</span>
				<span class="tok-n">ApplicationAgenceBancaire</span><span class="tok-o">.</span><span class="tok-na">comptesDUnPropretaire</span> <span class="tok-o">(</span><span class="tok-n">monAg</span><span class="tok-o">,</span> <span class="tok-n">nom</span><span class="tok-o">);</span>
				<span class="tok-k">break</span><span class="tok-o">;</span>
				<span class="tok-k">case</span> <span class="tok-s">&quot;d&quot;</span> <span class="tok-o">:</span>
				<span class="tok-o">...</span>
				<span class="tok-k">break</span><span class="tok-o">;</span>
				<span class="tok-k">case</span> <span class="tok-s">&quot;r&quot;</span> <span class="tok-o">:</span>
				<span class="tok-o">...</span>
				<span class="tok-k">break</span><span class="tok-o">;</span>
				<span class="tok-k">default</span> <span class="tok-o">:</span>
				<span class="tok-o">...</span>
				<span class="tok-k">break</span><span class="tok-o">;</span>
			<span class="tok-o">}</span>
		<span class="tok-o">}</span>
	<span class="tok-o">}</span>

	<span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">comptesDUnPropretaire</span> <span class="tok-o">(</span><span class="tok-n">AgenceBancaire</span> <span class="tok-n">ag</span><span class="tok-o">,</span>
		<span class="tok-n">String</span> <span class="tok-n">nomProprietaire</span><span class="tok-o">)</span> <span class="tok-o">{...}</span>

	<span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">deposerSurUnCompte</span> <span class="tok-o">(</span><span class="tok-n">AgenceBancaire</span> <span class="tok-n">ag</span><span class="tok-o">,</span>
		<span class="tok-n">String</span> <span class="tok-n">numeroCompte</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">montant</span><span class="tok-o">)</span> <span class="tok-o">{...}</span>

	<span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">retirerSurUnCompte</span> <span class="tok-o">(</span><span class="tok-n">AgenceBancaire</span> <span class="tok-n">ag</span><span class="tok-o">,</span>
		<span class="tok-n">String</span> <span class="tok-n">numeroCompte</span><span class="tok-o">,</span> <span class="tok-kt">double</span> <span class="tok-n">montant</span><span class="tok-o">)</span> <span class="tok-o">{...}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Extrait de <code>AccesAgenceBancaire</code></div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">AccesAgenceBancaire</span> <span class="tok-o">{</span>

	<span class="tok-kd">private</span> <span class="tok-nf">AccesAgenceBancaire</span> <span class="tok-o">()</span> <span class="tok-o">{}</span>
	<span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-n">AgenceBancaire</span> <span class="tok-nf">getAgenceBancaire</span> <span class="tok-o">()</span> <span class="tok-o">{</span>

		<span class="tok-n">AgenceBancaire</span> <span class="tok-n">ag</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-nf">AgenceBancaire</span><span class="tok-o">(</span><span class="tok-s">&quot;CAISSE ECUREUIL&quot;</span><span class="tok-o">,</span> <span class="tok-s">&quot;PIBRAC&quot;</span><span class="tok-o">);</span>
		<span class="tok-o">...</span>
	<span class="tok-o">}</span>
<span class="tok-o">...</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Réalisez le diagramme de classe de l&#8217;application</p>
</li>
<li>
<p>Que vous rappelle la classe <code>AccesAgenceBancaire</code>?</p>
</li>
<li>
<p>Réalisez un diagramme de séquence illustrant le fonctionnement de cette
application (<code>main</code>). On utilisera des blocs "ref" pour les appels aux méthodes
statiques, et on ne s&#8217;occupera pas des scanners.</p>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pour_aller_plus_loin"><a class="link" href="#_pour_aller_plus_loin">Pour aller plus loin</a></h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<img src="images/icons/warning.png" alt="Warning">
</td>
<td class="content">
<div class="title"><strong>QUESTION</strong></div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Peut-on, dans un code <a href="https://www.java.com/fr/">Java</a>, faire la différence entre
agrégation et association <code>1&#8594;*</code>?</p>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about"><a class="link" href="#_about">About&#8230;&#8203;</a></h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Document réalisé par <a href="mailto:{email}">Dut/Info-S3/M3105 - Semaine 3 (49)</a> via  <a href="http://asciidoctor.org/">Asciidoctor</a> (version <code>1.5.2</code>) de 'Dan Allen', lui même basé sur <a href="http://www.methods.co.nz/asciidoc">AsciiDoc</a>.
Pour l&#8217;instant ce document est libre d&#8217;utilisation et géré par la 'Licence Creative Commons'.
<span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="images/88x31.png" alt="Licence Creative Commons"></a></span>
<a href="http://creativecommons.org/licenses/by-sa/3.0/">licence Creative Commons Paternité - Partage à l&#39;Identique 3.0 non transposé</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-12-06 18:18:29 CET
</div>
</div>
</body>
</html>