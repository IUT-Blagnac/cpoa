// ------------------------------------------
//  Created by Jean-Michel Bruel on 2014-11.
//  Copyright (c) 2014 IRIT/U. Toulouse. All rights reserved.
// ------------------------------------------
= CPOA - Cours 3
Jean-Michel Bruel <jbruel@gmail.com>
v1.1, {localdate} - First draft
:status: bottom
:inclusion:
:icons: font

// ------------------------------------------
include::definitions.txt[]
include::asciidoc.conf[]

ifdef::slides[]

== Suivre ces slides sur Internet...

.........
http://iut-blagnac.github.io/cpoa/cours3.html
.........

== Plan

[%step]
- Retour sur le quizz du dernier cours
- Retour sur les membres `static`
- Point sur le patron *Singleton*
- Point sur le patron *Fabrique*
- Un nouveau patron : *Etat*

endif::slides[]

== Dernier quizz (hors séance)

http://b.socrative.com/teacher/#live-results

== Retour sur les Membres `static`

[source,java]
---------
class VariableDemo
{
  static int count=0;
  public void increment()
  {
    count++;
  }
  public static void main(String args[])
  {
    VariableDemo obj1=new VariableDemo();
    VariableDemo obj2=new VariableDemo();
    obj1.increment();
    obj2.increment();
    System.out.println("Obj1: count is="+obj1.count);
    System.out.println("Obj2: count is="+obj2.count);
  }
}
---------

Output:

..........
Obj1: count is=2
Obj2: count is=2
..........

ifdef::slides[:leveloffset: -1]

=== Membres `static` (suite)

Comment ça marche :

[%step]
- Les variables `static` sont initialisées au chargement de la classe.
- Les variables `static` d'une classe sont
initialisées avant que la moindre instance ne soit créée.
- Les variables `static` sont initialisées avant que la moindre méthode `static` ne s'exécute.

=== Méthodes `static`


[source,java]
---------
import java.lang.Math;

class Another {
  public static void main(String[] args) {
    int result;

    result = Math.min(10, 20); //calling static method min by writing class name

    System.out.println(result);
    System.out.println(Math.max(100, 200));
  }
}
---------

ifdef::slides[:leveloffset: +1]

include::patterns2.asc[]

include::patterns3.asc[]

ifdef::slides[]

== Ready for a quizz?

//----------------------------- Question ------------------
[icon="{iconsdir}/tuxteacher.png"]
.*QUESTION*
[WARNING]
====

- Connectez-vous sur : http://www.socrative.com/ (*student login*)
- Ou téléchargez l'application pour étudiant image:socrative2.png[width=10%]
- Choisissez la room *44918d67*
====

image::socrative1.png[width=50%,link=http://www.socrative.com/]

endif::slides[]
